(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{183:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return y}));var r=n(27),a=n(156),i=n(421),c=n(425),s=n(422),o=n(419),l=n(111),u=n(424),d=n(420),j=n(427),b=n(415),p=n(416),h=n(417),m=n(418),f=n(0),O=Object(a.a)(i.a,{name:"SwipeableDrawer",slot:"root",shouldForwardProp:function(e){return"openDrawer"!==e&&"width"!==e}})((function(e){var t=e.theme,n=e.openDrawer;return{"& .MuiPaper-root":{display:"flex",flexDirection:"column",width:e.width,padding:t.spacing(.5,0),transition:n?t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}):t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})}}})),x=Object(a.a)("div",{name:"sideHeader",slot:"root"})((function(e){return{display:"flex",justifyContent:"space-between",alignContent:"center",padding:e.theme.spacing(.5,1),verticalAlign:"middle"}})),v=Object(a.a)("div",{name:"bodyFrame",slot:"root",shouldForwardProp:function(e){return"open"!==e&&"width"!==e}})((function(e){var t=e.theme,n=e.open,r=e.width;return{display:"flex",justifyContent:"space-between",marginLeft:n&&r,transition:n?t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}):t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})}})),g=Object(a.a)(b.a,{name:"leftIcon",slot:"root"})((function(e){var t=e.theme;return{color:t.palette.grey[500],padding:t.spacing(.2),borderRadius:"50%","&:hover":{backgroundColor:t.palette.grey[50]}}}));function w(e){var t=Object(r.f)(),n=t.location,a=[{text:"My Templates",icon:Object(f.jsx)(p.a,{color:"secondary"}),path:"/"},{text:"My Resume",icon:Object(f.jsx)(h.a,{color:"secondary"}),path:"/resume"},{text:"Other Resume",icon:Object(f.jsx)(m.a,{color:"secondary"}),path:"/shared_resume"}];return Object(f.jsx)(c.a,{children:a.map((function(e){var r=n.pathname===e.path;return Object(f.jsxs)(s.a,{sx:{bgColor:r?"lightgray":"default",cursor:"pointer","&:hover":{backgroundColor:function(e){return e.palette.grey[500]}}},onClick:function(){return t.push(e.path)},children:[Object(f.jsx)(j.a,{children:e.icon}),Object(f.jsx)(o.a,{primary:e.text})]},e.text)}))})}function y(t){var n=t.open,r=t.toggleDrawer,a=t.drawerWidth,i=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent);return Object(f.jsxs)(O,{variant:"persistent",anchor:"left",disableBackdropTransition:!i,disableDiscovery:i,open:n,openDrawer:n,width:a,onOpen:r(!0),onClose:r(!1),children:[Object(f.jsxs)(x,{children:[Object(f.jsx)(l.a,{variant:"h6",lineHeight:2,children:"Regital"}),Object(f.jsx)(u.a,{onClick:r(),children:Object(f.jsx)(g,{})})]}),Object(f.jsx)(d.a,{}),Object(f.jsx)(w,{})]})}}).call(this,n(185))},398:function(e,t,n){},399:function(e,t){var n=document.querySelectorAll("section[id]");window.addEventListener("scroll",(function(e){n.forEach((function(e){!function(e){var t,n=window.pageYOffset,r=e.offsetTop-50,a=e.getAttribute("id"),i=e.height,c=n>r&&n<=r+i,s=document.querySelector('.nav__menu a[href*="'.concat(a,'"]'));null===s||void 0===s||null===(t=s.classList)||void 0===t||t.toggle("active-link",c)}(e)}))})),window.addEventListener("scroll",(function(e){var t=document.getElementById("header");if(!t)return!1;t.classList.toggle("scroll-header",window.scrollY>=80)})),window.addEventListener("scroll",(function(e){var t=document.querySelector(".progress__bar"),n=(document.body.scrollTop||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;t&&(t.style.width=n+"%")}))},403:function(e,t,n){},404:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(85),c=n.n(i),s=n(179),o=n(27),l=n(7),u=n(36),d=n(13),j=n.n(d),b=n(18),p=n(11),h=n(22),m=n(23),f=n(62),O=n.n(f),x="token",v=new(function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,[{key:"getLocalRefreshToken",value:function(){var e,t=JSON.parse(null!==(e=localStorage.getItem(x))&&void 0!==e?e:"{}");return null===t||void 0===t?void 0:t.refresh}},{key:"getLocalAccessToken",value:function(){var e,t=JSON.parse(null!==(e=localStorage.getItem(x))&&void 0!==e?e:"{}");return null===t||void 0===t?void 0:t.access}},{key:"getAuth",value:function(){var e;return JSON.parse(null!==(e=localStorage.getItem(x))&&void 0!==e?e:"{}")}},{key:"setAuth",value:function(e){localStorage.setItem(x,JSON.stringify(e))}},{key:"removeAuth",value:function(){localStorage.removeItem(x)}}]),e}()),g="http://127.0.0.1:8000/",w={register:"api/register/",token:"api/token/",refreshToken:"api/token/refresh/",userProfile:"api/user_profile/",changePassword:"api/change_password/",resetPassword:"api/reset_password/",resetPasswordConfirm:"api/reset_password_confirm/",csrftoken:"api/get_csrf_token/",templates:"templates/",resume:"resume/",users:"users/",permission:"permission/",view:"view/",sharedResume:"shared_resume/"},y=O.a.create({baseURL:g,headers:{"Content-Type":"application/json"},defaults:{xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken"}});y.interceptors.request.use((function(e){var t=v.getLocalAccessToken();return e.headers.Authorization="Bearer "+String(t),e}),(function(e){return Promise.reject(e)})),y.interceptors.response.use((function(e){return e}),function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,a,i,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/login"!==(r=null!==(n=t.config)&&void 0!==n?n:{}).url&&t.response){e.next=3;break}return e.abrupt("return",Promise.reject(t));case 3:if(401!==t.response.status||r._retry){e.next=18;break}return r._retry=!0,a=v.getLocalRefreshToken(),e.prev=6,e.next=9,O.a.post(g+w.refreshToken,{refresh:a});case 9:i=e.sent,c=i.data,v.setAuth(c),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),D.logout();case 17:return e.abrupt("return",y(r));case 18:return e.abrupt("return",Promise.reject(t));case 19:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}()),y.endpoints=w;var k=y,C=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,[{key:"setCookie",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="";if(n){var a=new Date;a.setTime(a.getTime()+1e3*n),r="; expires="+a.toUTCString()}var i=e+"="+(null!==t&&void 0!==t?t:"")+r+"; path=/";document.cookie=i}},{key:"getCookie",value:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),r=0;r<n.length;r++){var a=n[r].trim();if(a.substring(0,e.length+1)===e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t}},{key:"getCookieNames",value:function(){return document.cookie.split(";").map((function(e){return e.trim().split("=")[0]}))}},{key:"deleteCookie",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path="+t}}]),e}(),P=new C,S=n(17);function _(e){var t={};return Object.entries(e).forEach((function(e){var n=Object(p.a)(e,2),r=n[0],a=n[1],i=r.split("_").map((function(e,t){return 0===t?e:e.charAt(0).toUpperCase()+e.slice(1)})).join("");t[i]=a})),t}function I(e){var t={};return Object.entries(e).forEach((function(e){var n=Object(p.a)(e,2),r=n[0],a=n[1],i=r.replace(/[A-Z]/g,(function(e){return"_".concat(e.toLowerCase())}));t[i]=a})),t}function N(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(S.a)(Object.entries(e)).map((function(e){var n=Object(p.a)(e,2),r=n[0],a=n[1];if("server"!==a.type)return null;var i=a.message;return Array.isArray(i)&&(i=i.join(", ")),t?r+": "+i:i}));return n=n.filter((function(e){return null!==e}))}var R=n(0),E=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,[{key:"login",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,a,i,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.username=t.email,n=k.defaults.baseURL+k.endpoints.token,r=P.getCookie("csrftoken"),a={credentials:"include",headers:{"X-CSRFToken":r},mode:"same-origin"},e.next=6,O.a.post(n,t,a);case 6:return i=e.sent,c=null===i||void 0===i?void 0:i.data,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.cleanUp()}},{key:"signUp",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,a,i,c,s,o,l,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=new URLSearchParams,t=I(t),r=0,a=Object.entries(t);r<a.length;r++)i=Object(p.a)(a[r],2),c=i[0],s=i[1],n.append(c,s);return o=P.getCookie("csrftoken"),l={credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded","X-CSRFToken":o}},e.next=7,O.a.post(k.defaults.baseURL+k.endpoints.register,n,l);case 7:return u=e.sent,e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CSRFToken",value:function(){var e=P.getCookie("csrftoken");if(!e){var t=k.defaults.baseURL+k.endpoints.csrftoken;O.a.get(t).then((function(t){e=t.data.csrftoken,P.setCookie("csrftoken",e,300)}))}return e?Object(R.jsx)("input",{type:"hidden",name:"csrfmiddlewaretoken",value:e}):null}},{key:"isAuthenticated",value:function(){var e;return!!(null===(e=v.getAuth())||void 0===e?void 0:e.access)}},{key:"cleanUp",value:function(){v.removeAuth();["csrftoken","userprofile","token"].forEach((function(e){return P.deleteCookie(e)})),localStorage.removeItem("userprofile")}}]),e}(),D=new E,A=["profilePicture"],L=new function e(){Object(h.a)(this,e),this.getUserProfile=Object(b.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get(k.endpoints.userProfile);case 2:return n=e.sent,r=null!==(t=_(n.data))&&void 0!==t?t:{fullName:"Profile Service",profilePicture:"images/profile/"},e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),this.updateUserProfile=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,a,i,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.profilePicture,r=Object(u.a)(t,A),a=I(r),e.next=4,k.put(k.endpoints.userProfile,a);case 4:return i=e.sent,console.log("Update user profile data:",i),c=null!==(n=i.data)&&void 0!==n?n:{},c=Object(l.a)(Object(l.a)({},c),t),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateProfilePicture=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,a,i,c,s,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target,a=r.files[0],(i=new FormData).append("profile_picture",a),c={headers:{"Content-Type":"multipart/form-data"}},e.next=7,k.patch(k.endpoints.userProfile,i,c);case 7:return s=e.sent,o=_(null!==(n=s.data)&&void 0!==n?n:{}),console.log("Data in updateProfilePicture:",o),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteProfilePicture=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.delete(k.endpoints.userProfile);case 2:return r=e.sent,a=_(null!==(n=r.data)&&void 0!==n?n:{}),console.log("Data in deleteProfilePicture:",a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.resetPassword=function(e){var t=new FormData;Object.entries(e).forEach((function(e){var n=Object(p.a)(e,2),r=n[0],a=n[1];t.append(r,a)}));return O.a.post(k.defaults.baseURL+k.endpoints.resetPassword,t,{headers:{"Content-Type":"multipart/form-data"}})},this.changePassword=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=I(t),e.next=3,k.put(k.endpoints.changePassword,n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.resetPasswordConfirm=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=I(t),e.next=3,O.a.post(k.defaults.baseURL+k.endpoints.resetPasswordConfirm,n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getUsers=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get(k.endpoints.users);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))};var T=function(e,t){var n=Object(r.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(r){return console.log("Error setup localstorage: ",r),t}})),a=Object(p.a)(n,2),i=a[0],c=a[1];return[i,function(t){try{var n=t instanceof Function?t(i):t;c(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(r){console.log("Error set stored value:",r)}}]},U=Object(r.createContext)();function F(e){var t,n=e.children,a=Object(o.f)(),i=Object(o.g)(),c=JSON.parse(null!==(t=localStorage.getItem("userprofile"))&&void 0!==t?t:"{}"),s=T("userprofile",c),u=Object(p.a)(s,2),d=u[0],h=u[1],m=D.isAuthenticated(),f=Object(r.useState)(m),O=Object(p.a)(f,2),x=O[0],g=O[1];function w(){return w=Object(b.a)(j.a.mark((function e(t){var n,r,i,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.login(t);case 2:if(n=e.sent,r=Object.keys(n).length>0,g(i=!!n&&r),i){e.next=11;break}return console.log("Not authenticated, clean up and redirect to login page."),D.cleanUp(),a.push("/login"),e.abrupt("return",n);case 11:return v.setAuth(n),e.next=14,k.get(k.endpoints.userProfile);case 14:return c=e.sent,s=_(c.data),h(s),e.abrupt("return",n);case 18:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function y(){return(y=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.logout();case 2:g(!1),D.cleanUp(),a.push("/login");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getUserProfile();case 2:t=e.sent,h((function(e){return Object(l.a)(Object(l.a)({},e),t)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return 0===Object.keys(null!==d&&void 0!==d?d:{}).length&&function(){e.apply(this,arguments)}(),function(){}}));var C={userProfile:d,setUserProfile:h,history:a,location:i,isAuthenticated:x,loginUser:function(e){return w.apply(this,arguments)},logoutUser:function(e){return y.apply(this,arguments)}};return Object(R.jsx)(U.Provider,{value:C,children:n})}var q=["component"];var M=function(e){var t=e.component,n=Object(u.a)(e,q),a=Object(r.useContext)(U).isAuthenticated;return Object(R.jsx)(o.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return a?Object(R.jsx)(t,Object(l.a)(Object(l.a)({},e),n)):Object(R.jsx)(o.a,{to:"/login"})}}))},B=n(111),V=n(518),W=n(519),z=n(533),J=n(522),G=n(424),H=n(523),Y=n(473),Z=n(524),X=n(226),$=n.n(X),K=n(227),Q=n.n(K),ee=["label","required","focus","adornments","type"],te={padding:5},ne={fontWeight:"700",marginBottom:"5px",display:"block"};function re(e){var t=e.showPassword,n=e.setShowPassword;return Object(R.jsx)(J.a,{position:"end",children:Object(R.jsx)(G.a,{"aria-label":"toggle password visibility",onClick:function(e){return n(!t)},edge:"end",sx:{color:function(e){return e.palette.secondary.contrastText}},children:t?Object(R.jsx)($.a,{}):Object(R.jsx)(Q.a,{})})})}var ae=function(e){var t=e=Object(l.a)(Object(l.a)({},{variant:"outlined",size:"medium",color:"primary",label:"",name:"",focus:"false",type:"text"}),e),n=t.label,a=t.required,i=t.focus,c=t.adornments,s=t.type,o=Object(u.a)(t,ee),d=Object(r.useState)(!1),j=Object(p.a)(d,2),b=j[0],h={showPassword:b,setShowPassword:j[1]};return Object(R.jsxs)(H.a,{children:[Object(R.jsx)(Y.a,{sx:ne,children:n,filled:!0,required:a,focus:i}),Object(R.jsx)(Z.a,Object(l.a)(Object(l.a)({},o),{},{type:b?"text":s,inputProps:{style:te},InputProps:{endAdornment:c?Object(R.jsx)(re,Object(l.a)({},h)):null}}))]})},ie=n(526),ce=n(505),se=n(514),oe=n(528);var le=function(e){var t=e.name,n=e.label,r=e.value,a=e.error,i=void 0===a?null:a,c=e.onChange,s=e.options;return s=[{id:"default",value:"",title:"None"}].concat(s),Object(R.jsxs)(H.a,Object(l.a)(Object(l.a)({variant:"outlined"},i&&{error:!0}),{},{children:[Object(R.jsx)(ie.a,{children:n}),Object(R.jsx)(ce.a,{label:n,name:t,value:r,onChange:c,children:s.map((function(e){return Object(R.jsx)(se.a,{value:e.value,children:e.title},e.id)}))}),i&&Object(R.jsx)(oe.a,{children:i})]}))},ue=n(529),de=n(511);var je=function(e){return e=Object(l.a)(Object(l.a)({},{color:"primary",checked:!1}),e),Object(R.jsx)(H.a,{children:Object(R.jsx)(ue.a,{control:Object(R.jsx)(de.a,Object(l.a)({},e)),label:e.label})})},be=n(515),pe=n(508),he=["helperText","error","label"],me={fontWeight:"400"};var fe=function(e){var t=e=Object(l.a)(Object(l.a)({},{items:{},value:"",label:""}),e),n=t.helperText,r=t.error,a=t.label,i=Object(u.a)(t,he);return Object(R.jsxs)(H.a,{error:r,children:[Object(R.jsx)(Y.a,{sx:me,children:a}),Object(R.jsx)(be.a,Object(l.a)(Object(l.a)({row:!0},i),{},{children:e.items.map((function(e){return Object(R.jsx)(ue.a,{value:e.id,label:e.title,control:Object(R.jsx)(pe.a,{})},e.id)}))})),e.error?Object(R.jsx)(oe.a,{children:n}):null]})},Oe=n(516),xe=n(156),ve=Object(xe.a)(Oe.a,{name:"controlButton",slot:"root"})((function(e){var t=e.theme;return{padding:t.spacing(1.25,3),boxShadow:t.shadows[1],textTransform:"none","&:hover":{background:t.palette.primary.hover,color:t.palette.primary.contrastText}}}));var ge=function(e){return e=Object(l.a)(Object(l.a)({},{children:"",size:"large",color:"primary",variant:"contained"}),e),Object(R.jsx)(ve,Object(l.a)({},e))},we=n(65),ye=n(530),ke=n(531),Ce=n(509),Pe=n(532),Se=n(480);function _e(e){return Object(R.jsx)(G.a,{"aria-label":"close",color:"inherit",size:"small",onClick:e.closeBox,children:Object(R.jsx)(Se.a,{fontSize:"inherit"})})}function Ie(e){var t=e.title,n=void 0===t?"Operation Success":t,a=e.message,i=void 0===a?"Success.":a,c=e.variant,s=void 0===c?"filled":c,o=e.severity,l=void 0===o?"success":o,u=e.showDefault,d=void 0!==u&&u,j=Object(r.useState)(d),b=Object(p.a)(j,2),h=b[0],m=b[1];return Object(R.jsx)(ye.a,{sx:{display:"flex",justifyContent:"center",alignContent:"center",position:"absolute",zIndex:1},children:Object(R.jsx)(ke.a,{in:h,children:Object(R.jsxs)(Ce.a,{variant:s,severity:l,action:Object(R.jsx)(_e,{closeBox:function(){m(!1)}}),children:[Object(R.jsx)(Pe.a,{children:n}),i]})})})}var Ne=["children","defaultValues","setDefaultValues","onSubmit","validator","redirectOnSuccess","successMessage"],Re=Object(xe.a)("div",{name:"FormContainer",slot:"root"})((function(e){return{display:"flex",justifyContent:"center",alignItems:"center",spacing:0,padding:0,margin:0,backgroundColor:e.theme.palette.background.paper,boxShadow:"none"}})),Ee=Object(xe.a)("form",{name:"ResizedForm"})((function(e){var t=e.theme;return{backgroundColor:t.palette.background.paper,color:t.palette.text.primary,padding:t.spacing(4,8),margin:t.spacing(3,0),boxShadow:"0px 2px 2px 0px ".concat(t.palette.text.secondary,", \n\t0px 3px 1px -2px ").concat(t.palette.text.secondary,", \n\t0px 1px 5px 0px ").concat(t.palette.text.secondary),width:"100%"}}));var De=function(e){var t=Object(r.useContext)(U).history,n=e.children,a=e.defaultValues,i=e.setDefaultValues,c=e.onSubmit,s=e.validator,o=e.redirectOnSuccess,d=e.successMessage,h=void 0===d?"Success.":d,m=Object(u.a)(e,Ne),f=Object(we.f)(Object(l.a)({defaultValues:a,mode:"onChange",reValidateMode:"onChange"},s)),O=f.handleSubmit,x=f.reset,v=f.setError,g=f.formState.errors,w=Object(r.useState)(!1),y=Object(p.a)(w,2),k=y[0],C=y[1],P=function(e,n){var r=c(e);return r.then((function(e){C(!0),o&&setTimeout((function(){C(!1),t.push(o)}),1e3)})).catch((function(e){var t;C(!1);var n=_(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data);Object.entries(n).forEach((function(e){var t=Object(p.a)(e,2),n=t[0],r=t[1];console.log("Error:",n,r),v(n,{type:"server",message:r})}))})),r},I=function(e,t){Object(S.a)(Object.entries(e)).forEach((function(e){var t=Object(p.a)(e,2),n=t[0],r=t[1];v(n,r)}))};return Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:t=_(t=e.sent),x(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){setTimeout((function(){C(!1)}),5e3)}return void 0!==i&&function(){e.apply(this,arguments)}(),k&&t(),function(){return clearTimeout(t)}}),[x,i,k]),Object(R.jsxs)(Re,{variant:"elevation",elevation:7,children:[N(g,!1).length>0?Object(R.jsx)(Ie,{severity:"error",showDefault:!0,title:"Error",message:N(g,!1).join("\n")}):null,Object(R.jsx)(Ee,Object(l.a)(Object(l.a)({onSubmit:function(e){return e.preventDefault(),O(P,I)(e)},autoComplete:"off"},m),{},{children:Object(R.jsx)(we.b,Object(l.a)(Object(l.a)({},f),{},{children:n}))})),k?Object(R.jsx)(Ie,{message:h,showDefault:!0}):null]})},Ae=["name","control","defaultValue","rules","validate","Component","label","value"];function Le(e){var t=e.name,n=e.control,r=e.defaultValue,a=void 0===r?"":r,i=e.rules,c=(e.validate,e.Component),s=e.label,o=(e.value,Object(u.a)(e,Ae));return Object(R.jsx)(we.a,{name:t,control:n,defaultValue:a,rules:i,render:function(e){var t=e.field,n=t.onChange,r=t.onBlur,a=t.value,i=t.name,u=e.fieldState,d=(u.invalid,u.isTouched,u.isDirty,u.error);return Object(R.jsx)(c,Object(l.a)({},Object(l.a)(Object(l.a)({},o),{},{onChange:n,onBlur:r,error:!!d,value:a,label:s,name:i,helperText:d?d.message:null})))}})}var Te=function(e){return function(t){return t=Object(l.a)(Object(l.a)({},t),{},{Component:e}),Object(R.jsx)(Le,Object(l.a)({},t))}},Ue={Input:Te(ae),Select:Te(le),Checkbox:Te(je),RadioGroup:Te(fe),Button:ge,Form:De,buttonStyle:{boxShadow:function(e){return e.shadows[7]},background:function(e){return"linear-gradient(45deg, ".concat(e.palette.primary.main," 30%, ").concat(e.palette.secondary.main," 90%)")},"&:hover":{background:function(e){return"linear-gradient(45deg, ".concat(e.palette.secondary.hover," 20%, ").concat(e.palette.primary.hover," 90%)")}},padding:function(e){return e.spacing(1.5,2.5)},width:"100%"}},Fe=Object(xe.a)("div",{name:"centeredContainer",slot:"root"})((function(e){return{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",spacing:0,margin:0,minHeight:"100vh",rowGap:e.theme.spacing(1)}})),qe=n(235),Me=n.n(qe),Be=n(483),Ve=n(485),We=n(224),ze=n(93),Je=n(481),Ge=n(94),He=n(482),Ye=n(249),Ze=n(512),Xe=Object(r.createContext)({toggleColorMode:function(){}}),$e={base:{palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"#fff"}},typography:{fontFamily:["Roboto","-apple-system","BlinkMacSystemFont",'"Segoe UI"','"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600,fontWeightBold:700},breakpoints:{xs:0,sm:600,md:900,lg:1200,xl:1536},components:{MuiButton:{styleOverrides:{root:{textTransform:"none"}}},MuiTypography:{variant:[{props:{variant:"description"},style:{color:We.a[200],fontWeight:300,textShadow:"2px 2px black"}}]}},transitions:{duration:{shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195}}},light:{palette:{mode:"light",primary:{main:ze.a[700],contrastText:We.a[200],hover:ze.a[900],table:ze.a.A700},secondary:{main:Je.a[700],hover:Je.a[100],contrastText:We.a[700],table:Je.a[300]},toggleIcon:{main:Ge.a[400],hover:We.a[450]},text:{primary:"rgba(0,0,0,0.87)",secondary:"rgba(0,0,0,0.6)",disabled:"rgba(0,0,0,0.38)",icon:"rgba(0,0,0,0.12)"},background:{table:We.a[200],paper:"#fff",default:"#fff"},divider:"rgba(0,0,0,0.12)"}},dark:{palette:{mode:"dark",primary:{main:ze.a[800],hover:ze.a.A700,contrastText:ze.a[50],table:ze.a[900]},secondary:{main:Je.a[800],hover:Je.a[200],table:Je.a.A100},toggleIcon:{main:He.a[400],hover:We.a[450]},text:{primary:"#fff",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(0, 124, 255, 0.12)"},background:{table:We.a[200],paper:"#121212",default:"#121212"},divider:We.a.A100}}};var Ke=function(e){var t=e.children,n=e.startingTheme,a=T("theme",void 0===n?"light":n),i=Object(p.a)(a,2),c=i[0],s=i[1],o=Object(r.useMemo)((function(){return{toggleColorMode:function(){s((function(e){return"light"===e?"dark":"light"}))}}}),[s]),l=Object(r.useMemo)((function(){return Object(Ye.a)($e.base,$e[c])}),[c]);return Object(R.jsx)(Xe.Provider,{value:o,children:Object(R.jsx)(Ze.a,{theme:l,children:t})})},Qe=n(39),et=n(517);var tt=function(){var e=Object(Qe.a)(),t=Object(r.useContext)(Xe),n=Object(xe.a)(G.a)((function(e){var t=e.theme;return{color:"background.default",borderRadius:"50%",padding:t.spacing(1),"& .MuiSvgIcon-root":{fontSize:2.5*t.typography.fontSize}}})),a=Object(xe.a)(Be.a)((function(e){return{color:e.theme.palette.toggleIcon.main}})),i=Object(xe.a)(Ve.a)((function(e){return{color:e.theme.palette.toggleIcon.main}}));return Object(R.jsx)(n,{onClick:t.toggleColorMode,children:Object(R.jsx)(et.a,{arrow:!0,title:"Switch to ".concat("dark"===e.palette.mode?"light":"dark"," mode"),children:"light"===e.palette.mode?Object(R.jsx)(a,{}):Object(R.jsx)(i,{})})})},nt=n(26),rt=n(95),at=new RegExp(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/),it=new RegExp(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/),ct=new RegExp(/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im),st=nt.a().shape({firstName:nt.c().required("First name required."),lastName:nt.c().required("Last name required."),gender:nt.c().required("Gender required."),email:nt.c().required("Email required.").matches(it,"Please enter a valid email address."),phoneNumber:nt.c().matches(ct,"Please enter a valid phone number.")}),ot=nt.a().shape({email:nt.c().required("Email required.").matches(it,"Please enter a valid email address."),password:nt.c().required("Password required").min(8,"Password length should be at least 8 characters").matches(at,"Password must contains numbers, upper and lower case characters, and symbols.")}),lt=nt.a().shape({email:nt.c().required("Email required.").matches(it,"Please enter a valid email address."),password:nt.c().required("Password is required.").min(8,"Password length should be at least 8 characters").matches(at,"Password must contains numbers, upper and lower case characters, and symbols."),confirmPassword:nt.c().required("Confirm Password is required").oneOf([nt.b("password")],"Passwords must and should match"),firstName:nt.c().required("First name required."),lastName:nt.c().required("Last name required.")}),ut=nt.a().shape({oldPassword:nt.c().required("Password is required.").min(8,"Password length should be at least 8 characters").matches(at,"Password must contains numbers, upper and lower case characters, and symbols."),newPassword:nt.c().required("Password is required").min(8,"Password length should be at least 8 characters").matches(at,"Password must contains numbers, upper and lower case characters, and symbols."),confirmPassword:nt.c().required("Confirm Password is required").oneOf([nt.b("newPassword")],"Passwords must and should match")}),dt=nt.a().shape({email:nt.c().required("Email required").matches(it,"Please enter a valid email address.")}),jt=nt.a().shape({newPassword:nt.c().required("Password is required").min(8,"Password length should be at least 8 characters").matches(at,"Password must contains numbers, upper and lower case characters, and symbols."),confirmPassword:nt.c().required("Confirm Password is required").oneOf([nt.b("newPassword")],"Passwords must and should match")}),bt={resolver:Object(rt.a)(ot)},pt={resolver:Object(rt.a)(lt)},ht={resolver:Object(rt.a)(st)},mt={resolver:Object(rt.a)(ut)},ft={resolver:Object(rt.a)(dt)},Ot={resolver:Object(rt.a)(jt)};var xt=function(){var e=Object(r.useContext)(U).loginUser,t=D.CSRFToken;return Object(R.jsxs)(Fe,{children:[Object(R.jsxs)(B.a,{variant:"h5",children:["Welcome to Regital Portal ",Object(R.jsx)(tt,{})]}),Object(R.jsx)(V.a,{sx:{mt:1,bgcolor:"secondary.main",p:2.5},children:Object(R.jsx)(Me.a,{sx:{color:"background.default"},fontSize:"large"})}),Object(R.jsxs)(Ue.Form,{onSubmit:e,validator:bt,successMessage:"Login success. Redirecting to dashboard.",redirectOnSuccess:"/",children:[Object(R.jsx)(t,{}),Object(R.jsxs)(W.a,{container:!0,direction:"column",rowGap:4,spacing:0,children:[Object(R.jsx)(B.a,{align:"center",variant:"h5",children:"Sign In"}),Object(R.jsx)(W.a,{item:!0,xs:12,sx:{"& .MuiFormControl-root":{width:"100%"}},children:Object(R.jsx)(Ue.Input,{type:"text",label:"Email",variant:"outlined",name:"email",placeholder:"johnsmith@mail.com",autoComplete:"email",required:!0})}),Object(R.jsx)(W.a,{item:!0,xs:12,width:"inherit",sx:{"& .MuiFormControl-root":{width:"100%"}},children:Object(R.jsx)(Ue.Input,{label:"Password",type:"password",name:"password",variant:"outlined",placeholder:"Enter Password",autoComplete:"current-password",required:!0,adornments:!0})}),Object(R.jsx)(W.a,{item:!0,justifyContent:"center",xs:12,width:"inherit",children:Object(R.jsx)(Ue.Button,{variant:"contained",type:"submit",sx:Ue.buttonStyle,children:"Log In"})}),Object(R.jsxs)(W.a,{container:!0,direction:"row",justifyContent:"space-between",columnGap:15,children:[Object(R.jsx)(W.a,{item:!0,children:Object(R.jsxs)(B.a,{variant:"initial",sx:{color:"text.secondary"},children:["Don't have an account?"," ",Object(R.jsx)(z.a,{underline:"always",color:"text.primary",href:"/signup",children:"Sign up"})]})}),Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(z.a,{underline:"always",href:"/password_reset",color:"text.primary",children:"Forgot Password?"})})]})]})]})]})},vt=n(236),gt=n.n(vt);var wt=function(){var e=D.CSRFToken;return Object(R.jsxs)(Fe,{children:[Object(R.jsxs)(B.a,{variant:"h5",children:["Welcome to Regital Portal ",Object(R.jsx)(tt,{})]}),Object(R.jsx)(V.a,{sx:{mt:.5,bgcolor:"secondary.main",p:2.5},children:Object(R.jsx)(gt.a,{})}),Object(R.jsxs)(Ue.Form,{onSubmit:D.signUp,validator:pt,redirectOnSuccess:"/login",successMessage:"Account registered successfully. Redirecting to login page.",children:[Object(R.jsx)(e,{}),Object(R.jsxs)(W.a,{container:!0,direction:"column",alignItems:"space-between",rowSpacing:4,children:[Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(B.a,{align:"center",variant:"h5",children:"Sign Up"})}),Object(R.jsx)(W.a,{item:!0,sx:{"& .MuiFormControl-root":{width:"100%"}},children:Object(R.jsx)(Ue.Input,{type:"email",name:"email",id:"email",label:"Email Address",placeholder:"Email Address",autoComplete:"email",required:!0})}),Object(R.jsx)(W.a,{item:!0,sx:{"& .MuiFormControl-root":{width:"100%"}},children:Object(R.jsx)(Ue.Input,{type:"password",name:"password",id:"password",autoComplete:"new-password",label:"Password",placeholder:"Set a password",adornments:!0,required:!0})}),Object(R.jsx)(W.a,{item:!0,sx:{"& .MuiFormControl-root":{width:"100%"}},children:Object(R.jsx)(Ue.Input,{type:"password",name:"confirmPassword",id:"password2",autoComplete:"new-password",label:"Password Confirmation",placeholder:"Confirm the password",adornments:!0,required:!0})}),Object(R.jsx)(W.a,{item:!0,children:Object(R.jsxs)(W.a,{container:!0,justifyContent:"space-between",columnGap:5,children:[Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(Ue.Input,{type:"text",name:"firstName",id:"firstName",label:"First Name",placeholder:"John",autoComplete:"given-name",autoFocus:!0})}),Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(Ue.Input,{type:"text",name:"lastName",id:"lastName",label:"Last Name",placeholder:"Smith",autoComplete:"family-name",autoFocus:!0})})]})}),Object(R.jsx)(W.a,{item:!0,sx:{"& .MuiButton-root":{width:"100%"}},children:Object(R.jsx)(Ue.Button,{variant:"contained",type:"submit",sx:Ue.buttonStyle,children:"Create Account"})})]})]}),Object(R.jsxs)(B.a,{variant:"initial",sx:{mb:3},children:["Already Have an account?"," ",Object(R.jsx)(z.a,{always:"underline",href:"/login",children:"Sign In"})]})]})},yt=n(534),kt=n(535),Ct=n(237),Pt=n.n(Ct),St=n(238),_t=n.n(St);function It(e){var t,n=0;for(t=0;t<e.length;t+=1)n=e.charCodeAt(t)+((n<<5)-n);var r="#";for(t=0;t<3;t+=1){r+="00".concat((n>>8*t&255).toString(16)).substr(-2)}return r}var Nt=function(e){return{sx:{bgcolor:It(e)},children:"".concat(e.split(" ")[0][0]).concat(e.split(" ")[1][0])}};function Rt(e){var t=Object(r.useContext)(U),n=t.userProfile,a=t.logoutUser,i=n.profilePicture,c=n.firstName+" "+n.lastName;c||a();var s=""!==i||null===i?"".concat("http://localhost:8000").concat(i):null,o=Object(l.a)({},Nt(c));return s&&(o.src=s),Object(R.jsx)(V.a,Object(l.a)({},o))}var Et=Object(xe.a)(yt.a,{shouldForwardProp:function(e){return"open"!==e&&"width"!==e}})((function(e){var t=e.theme,n=e.open,r=e.width;return{backgroundColor:t.palette.primary.main,padding:0,margin:0,width:n&&"calc('100%' - ".concat(r,")")}})),Dt=Object(xe.a)(kt.a,{name:"toolBar",slot:"root"})((function(e){var t=e.theme;return Object(l.a)({},t.mixins.toolbar)}));var At=function(e){var t=e.open,n=e.toggleDrawer,a=e.drawerWidth,i=Object(r.useContext)(U).logoutUser;return Object(R.jsx)(Et,{position:"fixed",enableColorOnDark:!0,width:a,open:t,children:Object(R.jsxs)(Dt,{children:[Object(R.jsxs)(W.a,{container:!0,flexDirection:"row",justifyContent:"flex-start",sx:{display:t?"none":"flex"},children:[Object(R.jsx)(G.a,{color:"inherit","aria-label":"open drawer",onClick:n(),edge:"start",children:Object(R.jsx)(Pt.a,{})}),Object(R.jsx)(B.a,{variant:"h6",lineHeight:2,sx:{marginLeft:"5px"},children:Object(R.jsx)(z.a,{underline:"hover",color:"primary.contrastText",href:"/",children:"Welcome To Regital"})})]}),Object(R.jsxs)(W.a,{container:!0,justifyContent:"flex-end",sx:{marginRight:"auto"},children:[Object(R.jsx)(tt,{}),Object(R.jsx)(z.a,{underline:"none",href:"/profile",children:Object(R.jsx)(et.a,{title:"Update your profile",children:Object(R.jsx)(G.a,{size:"medium",children:Object(R.jsx)(Rt,{})})})}),Object(R.jsx)(et.a,{title:"Logout",children:Object(R.jsx)(Oe.a,{size:"medium",onClick:i,children:Object(R.jsx)(V.a,{sx:function(e){return{backgroundColor:e.palette.secondary.main}},children:Object(R.jsx)(_t.a,{})})})})]})]})})},Lt=n(183),Tt=n(536),Ut=n(537),Ft=n(538),qt=n(520),Mt=n(486),Bt=k.endpoints.resume,Vt=k.endpoints.permission,Wt=k.endpoints.view,zt=k.endpoints.templates,Jt=k.endpoints.sharedResume,Gt=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,[{key:"templateList",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get(zt);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getResumeList",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get(Bt);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getResume",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get(Bt+t+"/");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createResume",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={template:t},e.next=3,k.post(Bt,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateResume",value:function(){var e=Object(b.a)(j.a.mark((function e(t,n){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={content:n},e.next=3,k.put(Bt+t+"/",r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteResume",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.delete(Bt+t+"/");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"grantPermission",value:function(){var e=Object(b.a)(j.a.mark((function e(t,n,r){var a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={user:n,resume:t,right:r},e.next=3,k.post(Vt,a);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"revokePermission",value:function(){var e=Object(b.a)(j.a.mark((function e(t,n){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user:n,resume:t},e.prev=1,e.next=4,k.delete(Vt+"1/",{data:r});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSharedResume",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get(Jt);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"publishView",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={resume_id:t},e.next=3,k.post(Wt,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"accessView",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(g+Wt+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ht=new Gt,Yt=["id","thumbnail","title","description"];function Zt(e){var t,n=e.id,r=e.thumbnail,a=e.title,i=void 0===a?"Resume Template":a,c=e.description,s=void 0===c?"New template is now available":c,o=Object(u.a)(e,Yt);return Object(R.jsx)(Tt.a,Object(l.a)(Object(l.a)({},o),{},{children:Object(R.jsxs)("div",{children:[Object(R.jsx)(Ut.a,{component:"img",image:r,alt:""}),Object(R.jsxs)(Ft.a,{children:[Object(R.jsxs)(B.a,{gutterBottom:!0,variant:"h5",component:"div",children:[i,Object(R.jsx)(et.a,{title:"Create a new resume",children:Object(R.jsx)(G.a,{onClick:(t=n,function(){Ht.createResume(t).then((function(e){var t=null===e||void 0===e?void 0:e.resume_id;t&&window.open("/resume/".concat(t),"_blank")})).catch((function(e){console.log("Create resume error:",e)}))}),color:"toggleIcon",sx:{bgcolor:"text.icon",ml:2},children:Object(R.jsx)(Mt.a,{})})})]}),Object(R.jsx)(B.a,{variant:"body2",p:0,color:"text.secondary",textAlign:"justify",paragraph:!0,children:s})]})]})}))}function Xt(e){return Object(R.jsx)(Tt.a,Object(l.a)(Object(l.a)({},e),{},{children:Object(R.jsxs)(Ft.a,{children:[Object(R.jsx)(qt.a,{animation:!1,height:200,style:{marginBottom:6}}),Object(R.jsx)(qt.a,{animation:"wave",variant:"h1",style:{marginBottom:6}}),Object(R.jsx)(qt.a,{animation:"wave",variant:"text",width:"80%",height:"10%"}),Object(R.jsx)(qt.a,{animation:"wave",variant:"text",width:"80%",height:"10%"}),Object(R.jsx)(qt.a,{animation:"wave",variant:"text",width:"80%",height:"10%"}),Object(R.jsx)(qt.a,{animation:"wave",variant:"text",width:"80%",height:"10%"}),Object(R.jsx)(qt.a,{animation:"wave",variant:"rectangular",height:"10%"})]})}))}function $t(){var e=Object(r.useState)(!0),t=Object(p.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)([]),c=Object(p.a)(i,2),s=c[0],o=c[1],u={width:"400px",height:"400px"};return Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get(k.endpoints.templates);case 2:t=e.sent,o(t.data),a(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){}}),[]),Object(R.jsx)(W.a,{container:!0,direction:"row",justifyContent:"left",gap:3,mt:10,ml:3,children:s.map((function(e){return Object(R.jsx)(W.a,{item:!0,children:n?Object(R.jsx)(Xt,{sx:u}):Object(R.jsx)(Zt,Object(l.a)(Object(l.a)({},e),{},{sx:u}))},e.uuid)}))})}var Kt="250px";function Qt(e){var t=e.children,n=Object(r.useState)(!1),a=Object(p.a)(n,2),i=a[0],c=a[1],s={open:i,toggleDrawer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?function(){return c(!i)}:function(){return c(e)}},drawerWidth:Kt};return Object(R.jsxs)("div",{children:[Object(R.jsx)(Lt.b,Object(l.a)({},s)),Object(R.jsx)(At,Object(l.a)({},s)),Object(R.jsx)(Lt.a,{open:i,width:Kt,children:t})]})}var en=function(){return Object(R.jsx)(Qt,{children:Object(R.jsx)($t,{})})};function tn(){var e=Object(r.useContext)(U),t=e.userProfile,n=e.setUserProfile;function a(){return(a=Object(b.a)(j.a.mark((function e(t){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.updateUserProfile(t);case 2:if(r=e.sent,a=r.data,console.log("Updated profile data in profile form:",a),a){e.next=7;break}return e.abrupt("return",!1);case 7:v.setAuth(a.token),n((function(e){return Object(l.a)(Object(l.a)({},e),a)}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(b.a)(j.a.mark((function e(r){var a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.updateProfilePicture(r);case 2:if(a=e.sent,console.log("Response after change profile picture:",a),i=a.profilePicture){e.next=7;break}return e.abrupt("return",!1);case 7:return console.log("Profile after change:",i),n((function(e){return Object(l.a)(Object(l.a)({},e),{},{profilePicture:i})})),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=Object(b.a)(j.a.mark((function e(r){var a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.deleteProfilePicture(r);case 2:return a=e.sent,console.log("Response delete picture:",a),a.profilePicture&&(i={profilePicture:"/images/profiles"},console.log("Delete picture."),n((function(e){return Object(l.a)(Object(l.a)({},e),i)}))),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var s=D.CSRFToken;return Object(R.jsxs)(Ue.Form,{setDefaultValues:L.getUserProfile,onSubmit:function(e){return a.apply(this,arguments)},defaultValues:t,validator:ht,successMessage:"User profile updated successfully!",children:[Object(R.jsx)(s,{}),Object(R.jsxs)(W.a,{container:!0,direction:"column",gap:5,justifyContent:"center",children:[Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(B.a,{variant:"h6",children:"Profile Picture"})}),Object(R.jsxs)(W.a,{container:!0,gap:5,justifyContent:"flex-start",children:[Object(R.jsx)(Rt,{}),Object(R.jsxs)("label",{htmlFor:"profile-picture",children:[Object(R.jsx)("input",{style:{display:"none"},id:"profile-picture",type:"file",accept:"image/*",onChange:function(e){return i.apply(this,arguments)}}),Object(R.jsx)(Ue.Button,{variant:"contained",color:"primary",type:"button",children:"Upload New Picture",component:"span",size:"large"})]}),Object(R.jsx)(Ue.Button,{"aria-label":"delete",variant:"outlined",color:"secondary",children:"Delete",type:"button",size:"large",onClick:function(e){return c.apply(this,arguments)}})]}),Object(R.jsxs)(W.a,{container:!0,gap:5,direction:"column",justifyContent:"center",alignContent:"center",children:[Object(R.jsxs)(W.a,{container:!0,direction:"row",gap:5,flexWrap:"nowrap",children:[Object(R.jsx)(Ue.Input,{variant:"outlined",label:"First Name",name:"firstName"}),Object(R.jsx)(Ue.Input,{variant:"outlined",label:"Last Name",name:"lastName"})]}),Object(R.jsx)(Ue.RadioGroup,{label:"Gender",name:"gender",items:[{id:"male",title:"Male",value:"male"},{id:"female",title:"Female",value:"female"},{id:"other",title:"Other",value:"other"},{id:"unknown",title:"Unknown",value:"unknown"}]}),Object(R.jsx)(Ue.Input,{variant:"outlined",label:"Phone Number",name:"phoneNumber"}),Object(R.jsx)(Ue.Input,{variant:"outlined",label:"Location",name:"location"})]}),Object(R.jsx)(W.a,{container:!0,justifyContent:"flex-end",children:Object(R.jsx)(Ue.Button,{type:"submit",variant:"contained",children:"Save Changes"})})]})]})}function nn(){var e=Object(r.useContext)(U).changePassword,t=D.CSRFToken;return Object(R.jsxs)(Ue.Form,{validator:mt,onSubmit:e,successMessage:"Password updated successfully!",children:[Object(R.jsx)(t,{}),Object(R.jsxs)(W.a,{container:!0,direction:"column",gap:5,justifyContent:"center",children:[Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(B.a,{variant:"h6",children:"Change Password"})}),Object(R.jsx)(W.a,{item:!0,sx:{display:"none"},children:Object(R.jsx)(Ue.Input,{type:"text",disabled:!0,autoComplete:"email",name:"email",adornments:!1,inputProps:{type:"hidden"}})}),Object(R.jsx)(Ue.Input,{required:!0,variant:"outlined",name:"oldPassword",type:"password",label:"Current Password",autoComplete:"password",adornments:!0}),Object(R.jsx)(Ue.Input,{required:!0,name:"newPassword",type:"password",label:"New Password",autoComplete:"newPassword",adornments:!0}),Object(R.jsx)(Ue.Input,{required:!0,type:"password",name:"confirmPassword",label:"Confirm New Password",autoComplete:"confirmNewPassword",adornments:!0}),Object(R.jsx)(W.a,{container:!0,justifyContent:"flex-end",children:Object(R.jsx)(Ue.Button,{children:"Change Password",type:"submit"})})]})]})}var rn=function(){return Object(R.jsx)(Qt,{children:Object(R.jsxs)(W.a,{container:!0,justifyContent:"center",alignContent:"center",direction:"column",children:[Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(tn,{})}),Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(nn,{})})]})})},an=n(3),cn=n(420),sn=n(487),on=n(488),ln=n(489),un=n(490),dn=n(239),jn=n.n(dn);function bn(e){e.preventDefault();var t=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t)}function pn(e){var t=e.initialValue,n=void 0===t?"":t,r=e.textOnly,a=void 0===r||r,i=e.disabled,c=void 0!==i&&i,s=e.tagName,o=void 0===s?"div":s,l=e.className,u=void 0===l?"":l,d=e.onInput,j=e.id,b=a?bn:null;return Object(R.jsx)(jn.a,{onPaste:b,onChange:d,onKeyDown:function(e){if(13===e.keyCode)return document.execCommand("insertLineBreak"),e.preventDefault(),!1},html:n,disabled:c,tagName:o,id:j,className:u,name:"editor",style:{display:"inline-block",border:"none",width:"div"===o&&"100%","&:focus":{border:"none"}}})}n(398),n(399);var hn=[{id:"profile",name:"Profile",icon:"fa-solid fa-house",cardType:"profile"},{id:"languages",name:"Languages",icon:"fa-solid fa-language",cardType:"language"},{id:"skills",name:"Skills",icon:"fa-solid fa-book",cardType:"default"},{id:"projects",name:"Projects",icon:"fa-solid fa-list-check",cardType:"project"},{id:"work-experience",name:"Work Experience",icon:"fa-solid fa-briefcase",cardType:"experience"},{id:"academic",name:"Academic",icon:"fa-solid fa-school",cardType:"education"}],mn={novice:25,intermediate:50,advanced:75,expert:100},fn={profile:{description:"About yourself",email:"Your email address",githubURL:"",address:"Your mailing address",linkedinURL:""},skills:[{name:"Sample Skill",level:"intermediate"}],project:[{thumbnail:"https://designshack.net/wp-content/uploads/placeholder-image-368x246.png",category:"Project Category",topic:"Project Topic",description:"Project description"}],experience:[{title:"Job Title",institution:"Company Name",periodStart:"2020",periodEnd:"Present",description:"Job description"}],education:[{title:"Bachelor",institution:"University of Sample",periodStart:"2017",periodEnd:"2019",description:"Education description"}],languages:[{name:"English",level:"novice"}]};function On(e){var t=e.id,n=void 0===t?"timeline-card":t,i=e.isEducation,c=void 0!==i&&i,s=e.name,o=void 0===s?c?"Work Experience":"Academic":s,u=e.data,d=void 0===u?[]:u,j=Object(r.useContext)(Gn),b=j.provided,p=j.updateContent,h=j.editable,m=b.setData,f=c?"education":"",O=c?"education":"experience",x=function(e){return function(t){m((function(t){var n=c?t.education:t.experience;n=JSON.parse(JSON.stringify(n));var r=c?fn.education[0]:fn.experience[0];return r=JSON.parse(JSON.stringify(r)),n.splice(e+1,0,r),Object(l.a)(Object(l.a)({},t),{},Object(an.a)({},O,n))}))}},v=function(e){return function(t){m((function(t){var n=c?t.education:t.experience;return n=n.filter((function(t,n){return n!==e})),Object(l.a)(Object(l.a)({},t),{},Object(an.a)({},O,n))}))}};return Object(R.jsx)(kn,{id:n,name:o,children:d.map((function(e,t){var n=e.title,r=e.institution,i=e.periodStart,c=e.periodEnd,s=e.description;return Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsxs)("div",{className:"timeline__section",children:[Object(R.jsxs)("div",{className:"timeline__head ".concat(f),children:[Object(R.jsx)(pn,{id:"position",className:"timeline__position ".concat(f),tagName:"span",initialValue:n,disabled:!h,onInput:p([O,t,"description"])})," ",Object(R.jsx)(pn,{id:"location",className:"timeline__location ".concat(f),tagName:"span",initialValue:r,disabled:!h,onInput:p([O,t,"institution"])})]}),Object(R.jsxs)("div",{className:"timeline__body",children:[Object(R.jsxs)("div",{children:[Object(R.jsx)(pn,{id:"timeline-period",tagName:"span",className:"timeline__period",initialValue:i,disabled:!h,onInput:p([O,t,"periodStart"])}),Object(R.jsx)(B.a,{variant:"string",pl:.5,pr:.5,children:"-"}),Object(R.jsx)(pn,{id:"timeline-period",tagName:"span",className:"timeline__period",initialValue:c,disabled:!h,onInput:p([O,t,"periodEnd"])})]}),Object(R.jsx)(pn,{id:"timeline-content",className:"timeline__content",name:"editor",contentEditable:"true",initialValue:s,disabled:!h,onInput:p([O,t,"description"])})]})]}),h&&Object(R.jsx)(vn,{addItem:x(t),deleteItem:v(t),index:t,addDesc:"Add new ".concat(O),deleteDesc:"Delete ".concat(O)},O)]},t)}))})}function xn(e){var t=e.id,n=void 0===t?"projects":t,i=e.data,c=void 0===i?[]:i,s=Object(r.useContext)(Gn),o=s.provided,u=s.updateContent,d=s.editable,j=o.setData,b=function(e){return function(t){j((function(t){var n,r=JSON.parse(JSON.stringify(null!==(n=t.project)&&void 0!==n?n:{}));if(!r)return t;var a=JSON.parse(JSON.stringify(fn.project[0]));return r.splice(e+1,0,a),Object(l.a)(Object(l.a)({},t),{},{project:r})}))}},p=function(e){return function(t){j((function(t){var n=t.project.filter((function(t,n){return n!==e}));return Object(l.a)(Object(l.a)({},t),{},{project:n})}))}},h=function(e){var t=e.target;return t.onError=null,t.src="https://demofree.sirv.com/nope-not-here.jpg",!1};return Object(R.jsx)(kn,{id:n,name:"Project",children:c.map((function(e,t){var n=e.category,r=e.thumbnail,i=e.topic,c=e.description;return Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsxs)("div",{className:"project__card",children:[Object(R.jsxs)("div",{className:"project__thumbnail",children:[Object(R.jsx)("img",{onClick:u(["project",t,"thumbnail"],!0),src:r,alt:"",srcSet:"",onError:h}),Object(R.jsx)(pn,{id:"project-category",name:"editor",className:"project__categories",initialValue:n,disabled:!d,onInput:u(["project",t,"category"])})]}),Object(R.jsxs)("div",{className:"project__content",children:[Object(R.jsx)(pn,{id:"project-topic",className:"project__topic",tagName:"div",initialValue:i,disabled:!d,onInput:u(["project",t,"topic"])}),Object(R.jsx)(pn,{id:"project-description",className:"project__description",initialValue:c,tagName:"div",disabled:!d,onInput:u(["project",t,"description"])})]})]}),d&&Object(R.jsx)(vn,{addItem:b(t),deleteItem:p(t),index:t}),Object(R.jsx)(cn.a,{sx:{mt:2,mb:2,borderTopWidth:2.5}})]},t)}))})}function vn(e){var t=e.addItem,n=e.deleteItem,r=e.index,a=e.addDesc,i=void 0===a?"Add Project":a,c=e.deleteDesc,s=void 0===c?"Delete Project":c;return Object(R.jsxs)(sn.a,{direction:"row",justifyContent:"center",gap:3,mb:1,children:[Object(R.jsx)(Oe.a,{variant:"contained",onClick:t,children:i}),r>0&&Object(R.jsx)(Oe.a,{variant:"contained",onClick:n,children:s})]})}function gn(e){var t,n,a=e.id,i=void 0===a?"profile":a,c=e.data,s=void 0===c?[]:c,o=s.description,l=s.email,u=s.address,d=s.linkedinURL,j=s.githubURL,b=Object(r.useContext)(Gn),p=b.updateContent,h=b.editable,m={color:function(e){return e.palette.text.secondary}};return(null===(t=d)||void 0===t?void 0:t.startsWith("http"))||(d="https://"+d),(null===(n=j)||void 0===n?void 0:n.startsWith("http"))||(j="https://"+j),Object(R.jsx)(kn,{id:i,name:"Profile",children:Object(R.jsxs)("div",{className:"profile__card",children:[Object(R.jsxs)("div",{className:"profile__about",children:[Object(R.jsx)("h3",{className:"profile__topic",children:"About Me"}),Object(R.jsx)(pn,{id:"about-me",className:"profile__introduction",initialValue:o,disabled:!h,onInput:p(["profile","description"])})]}),Object(R.jsxs)("div",{className:"profile__bio",children:[Object(R.jsx)("h3",{className:"profile__topic",children:"Bio"}),Object(R.jsxs)("div",{className:"bio__list",children:[Object(R.jsx)(Nn,{id:"mail",icon:"fa-solid fa-envelope",content:l,url:"mailto:"+l,updateContent:p(["profile","email"],!0),editIcon:Object(R.jsx)(on.a,{sx:m}),editable:h}),Object(R.jsx)(Nn,{id:"github",icon:"fa-brands fa-github",content:"Github Repository",url:j,updateContent:p(["profile","githubURL"],!0),editIcon:Object(R.jsx)(ln.a,{sx:m}),editable:h}),Object(R.jsx)(Nn,{id:"address",icon:"fa-regular fa-address-card",content:u,url:"https://www.google.com/maps/place/"+(null===u||void 0===u?void 0:u.replace(" ","+")),updateContent:p(["profile","address"],!0),editIcon:Object(R.jsx)(un.a,{sx:m}),editable:h}),Object(R.jsx)(Nn,{id:"linkedin",icon:"fa-brands fa-linkedin",content:"LinkedIn",url:d,updateContent:p(["profile","linkedinURL"],!0),editIcon:Object(R.jsx)(ln.a,{sx:m}),editable:h})]})]})]})})}function wn(e){var t=e.initialLevel,n=void 0===t?"Not rated":t,r=e.selectionId,a=void 0===r?"selection-level":r,i=e.onChange,c=void 0===i?function(e){}:i;return Object(R.jsx)(ce.a,{onChange:c,name:"select-skill",id:a,value:n,sx:{ml:2,height:"20px"},children:Object.keys(mn).map((function(e){var t={key:e,value:e};return Object(R.jsx)(se.a,Object(l.a)(Object(l.a)({},t),{},{children:e}))}))})}function yn(e){var t=e.id,n=void 0===t?"skills":t,a=e.label,i=void 0===a?"skills":a,c=e.name,s=void 0===c?"Professional Skills":c,o=e.data,u=void 0===o?[]:o,d=Object(r.useContext)(Gn),j=d.updateContent,b=d.editable,p=d.provided.setData,h=function(e){return function(t){p((function(t){var n=t[i];n=JSON.parse(JSON.stringify(n));var r=fn[i][0];return r=JSON.parse(JSON.stringify(r)),n.splice(e+1,0,r),Object(l.a)(Object(l.a)({},t),{},Object(an.a)({},i,n))}))}},m=function(e){return function(t){p((function(t){var n=t[i];return n=n.filter((function(t,n){return n!==e})),Object(l.a)(Object(l.a)({},t),{},Object(an.a)({},i,n))}))}};return Object(R.jsx)(kn,{id:n,name:s,children:Object(R.jsx)("div",{className:"skill__line",children:u.map((function(e,t){return Object(R.jsxs)("div",{children:[Object(R.jsx)(pn,{className:"skill__info",tagName:"span",initialValue:e.name,disabled:!b,onInput:j([i,t,"name"])}),b&&Object(R.jsx)(wn,{id:"selection-".concat(n,"-").concat(t,"}"),initialLevel:e.level,onChange:j([i,t,"level"])}),Object(R.jsx)("div",{className:"skill__bar",children:Object(R.jsx)("div",{className:"skill__rate",style:{width:mn[e.level]+"%"},disabled:!b,children:e.level})}),b&&Object(R.jsx)(vn,{addItem:h(t),deleteItem:m(t),index:t,addDesc:"Add ".concat(i),deleteDesc:"Delete ".concat(i)},e.name)]},t)}))})})}function kn(e){var t=e.id,n=e.name,r=e.children;return Object(R.jsxs)("section",{className:"container section section__height",id:t,children:[Object(R.jsx)("h2",{className:"section__title",children:n}),Object(R.jsx)("section",{className:"content section",children:r})]})}function Cn(){var e=(new Date).getFullYear();return Object(R.jsxs)("footer",{className:"footer",children:[Object(R.jsx)("i",{className:"fa-solid fa-copyright icon"}),Object(R.jsxs)("span",{children:["All rights reserved (",e,")"]})]})}function Pn(e){var t=e.id,n=e.icon,r=e.name;return Object(R.jsx)("li",{className:"nav__item",children:Object(R.jsxs)("a",{href:"#".concat(t),className:"nav__link",children:[Object(R.jsx)("i",{className:"".concat(n," icon")}),Object(R.jsx)("span",{className:"nav__name",children:r})]})})}function Sn(){return Object(R.jsx)("nav",{className:"nav container",children:Object(R.jsx)("div",{className:"nav__menu",id:"nav-menu",children:Object(R.jsx)("ul",{className:"nav__list",children:hn.map((function(e){return Object(R.jsx)(Pn,Object(l.a)({},e),e.id)}))})})})}function _n(){return Object(R.jsx)("div",{className:"progress__bar"})}function In(e){var t=e.editable?{position:"fixed"}:{};return Object(R.jsxs)("header",{style:t,className:"header",id:"header",children:[Object(R.jsx)(Sn,{}),Object(R.jsx)(_n,{})]})}function Nn(e){var t=e.id,n=e.url,r=e.icon,a=e.content,i=e.updateContent,c=e.editIcon,s=e.editable;return Object(R.jsxs)("div",{className:"bio__item",id:t,children:[Object(R.jsx)("span",{className:"bio__icon",children:Object(R.jsx)("i",{className:r})}),Object(R.jsx)("span",{className:"bio__link"}),Object(R.jsxs)(ye.a,{sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[Object(R.jsx)("a",{target:"_blank",rel:"noreferrer",className:"bio__link",href:n,children:a}),s&&Object(R.jsx)(G.a,{onClick:i,mr:3,children:c})]})]})}var Rn=function(e){var t,n=Object(r.useContext)(Gn),a=n.editable,i=n.provided,c=i.data,s=i.setData,o=!c||0===Object.keys(null!==(t=c)&&void 0!==t?t:{}).length;return c=o?fn:c,Object(r.useEffect)((function(){s(c)}),[c,s]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("link",{rel:"stylesheet",type:"text/css",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"}),Object(R.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),Object(R.jsx)("link",{rel:"stylesheet",href:"index.css"}),Object(R.jsx)("link",{rel:"stylesheet",href:"/classic.css"}),Object(R.jsx)("script",{type:"text/javascript",src:"/classic.js"}),Object(R.jsx)(In,{editable:a}),a?null:Object(R.jsx)(tt,{}),Object(R.jsx)(gn,{id:"profile",name:"Profile",data:c.profile}),Object(R.jsx)(yn,{id:"languages",name:"Languages",data:c.languages,label:"languages"}),Object(R.jsx)(yn,{id:"skills",name:"Professional Skills",data:c.skills,label:"skills"}),Object(R.jsx)(xn,{id:"projects",data:c.project}),Object(R.jsx)(On,{id:"work-experience",name:"Work Experience",data:c.experience,isEducation:!1}),Object(R.jsx)(On,{id:"academic",name:"Education",isEducation:!0,data:c.education}),Object(R.jsx)(Cn,{})]})},En=n(177),Dn=n.n(En),An=n(240),Ln=n.n(An),Tn=n(539),Un=["children","hrefs"];function Fn(e){var t=e.children,n=e.hrefs;Object(u.a)(e,Un);Object(r.useEffect)((function(){var e=document.getElementById("resume");return(null!==n&&void 0!==n?n:[]).forEach((function(t){var n,r,a;null===e||void 0===e||null===(n=e.contentWindow)||void 0===n||null===(r=n.document)||void 0===r||null===(a=r.head)||void 0===a||a.append(function(e){return Object.assign(document.createElement("link"),{href:e,rel:"stylesheet",type:"text/css"})}(t))})),function(){}}),[n]);return Object(R.jsx)("div",{id:"resume-container",children:Object(R.jsx)(Tn.a,{title:"resume",id:"resume",width:"100%",sx:{width:"100%",background:function(e){return e.palette.background.paper}},children:t})})}var qn=n(504),Mn=n(474),Bn=n(491),Vn=n(492),Wn=n(493),zn={1:Rn,2:Rn};function Jn(e){var t=e.updateContent,n=e.inputProps,r=e.setInputProps;return Object(R.jsx)(qn.a,{id:"input-box",open:n.open,anchorEl:n.anchorEl,children:Object(R.jsxs)(ye.a,{sx:{padding:1.5,backgroundColor:function(e){return e.palette.background.paper},color:function(e){return e.palette.toggleIcon.hover},borderWidth:1.5,minWidth:"400px",boxShadow:1},children:[Object(R.jsx)(B.a,{variant:"h6",children:"Content update"}),Object(R.jsx)(Mn.a,{sx:{padding:".5rem",width:"100%"},type:"text",onChange:function(e){r((function(t){return Object(l.a)(Object(l.a)({},t),{},{initialValue:e.target.value})}))},value:n.initialValue}),Object(R.jsx)(cn.a,{mt:2,mb:3}),Object(R.jsxs)(sn.a,{direction:"row",spacing:2,mt:2,justifyContent:"space-around",children:[Object(R.jsx)(Oe.a,{color:"success",variant:"contained",onClick:function(e){e.preventDefault(),e.stopPropagation(),r((function(n){return t(n.keyLabels,!1,n.initialValue)(e),Object(l.a)(Object(l.a)({},n),{},{initialValue:e.target.value,open:!1})}))},startIcon:Object(R.jsx)(Bn.a,{}),children:"Update"}),Object(R.jsx)(Oe.a,{variant:"contained",color:"error",onClick:function(){r(Object(l.a)(Object(l.a)({},n),{},{initialValue:"",open:!1}))},startIcon:Object(R.jsx)(Se.a,{}),children:"Cancel"})]})]})})}var Gn=Object(r.createContext)(null);function Hn(e){var t=e.message,n=void 0===t?null:t,r=e.severity,a=e.setNotification;return n&&Object(R.jsx)(Ce.a,{sx:{position:"fixed",zIndex:1e5,padding:1.5,left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",verticalAlign:"middle"},severity:r,onClose:function(){return a({message:null,severity:"info"})},children:n})}function Yn(e){var t=e.resumeId,n=e.data,r=e.setNotification;e.editable;return Object(R.jsx)(W.a,{container:!0,bgcolor:function(e){return e.palette.background.paper},flexDirection:"row",mt:3,width:"100%",children:Object(R.jsxs)(W.a,{container:!0,alignSelf:"center",justifySelf:"center",zIndex:1e5,position:"fixed",m:0,columnGap:3,top:"0%",padding:2,background:"blue",bgcolor:function(e){return e.palette.background.paper},justifyContent:"center",children:[Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(Oe.a,{variant:"contained",onClick:function(){Ht.updateResume(t,n).then((function(e){r({message:"Saved successfully.",severity:"success"})})).catch((function(e){r({message:e.message,severity:"error"})}))},startIcon:Object(R.jsx)(Vn.a,{}),children:"Save"})}),Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(Oe.a,{variant:"contained",onClick:function(){var e=Ht.publishView(t);return e.then((function(e){r({message:"Published successfully.\n          ".concat(window.location.origin,"/view/").concat(e.view_id),severity:"success"})})).catch((function(e){r({message:e.message,severity:"error"})})),e},startIcon:Object(R.jsx)(Wn.a,{}),children:"Publish"})}),Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(tt,{})})]})})}var Zn=function(e){var t,n,a=e.templateId,i=void 0===a?1:a,c=e.editable,s=void 0===c||c,o=e.initialData,u=void 0===o?null:o,d=Object(r.useState)({message:null,severity:"info"}),h=Object(p.a)(d,2),m=h[0],f=h[1],O=Object(r.useState)(u),x=Object(p.a)(O,2),v=x[0],g=x[1],w=Object(r.useMemo)((function(){return{data:v,setData:function(e){return g(e)}}}),[v]),y=Object(r.useState)({open:!1,initialValue:"",anchorEl:null,keyLabels:[]}),k=Object(p.a)(y,2),C=k[0],P=k[1],S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(r){P((function(n){return Object(l.a)(Object(l.a)({},n),{},{open:t,keyLabels:e,anchorEl:r.target})})),g((function(t){var a,i=null!==(a=null!==n&&void 0!==n?n:r.target.value)&&void 0!==a?a:Dn()(t,e);return Ln()(t,e,i),P((function(e){return Object(l.a)(Object(l.a)({},e),{},{initialValue:i})})),t}))}};Object(r.useEffect)((function(){function t(){return(t=Object(b.a)(j.a.mark((function t(){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.match.params.uid,t.next=3,Ht.getResume(n);case 3:r=t.sent,g(r.content);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}s&&function(){t.apply(this,arguments)}()}),[s,null===(t=e.match)||void 0===t||null===(n=t.params)||void 0===n?void 0:n.uid]);var _=zn[i];return s?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(Yn,{data:v,resumeId:e.match.params.uid,setNotification:f}),Object(R.jsxs)(W.a,{item:!0,width:"100%",sx:s&&{position:"relative",top:"2%"},children:[Object(R.jsx)(Hn,Object(l.a)(Object(l.a)({},m),{},{setNotification:f})),Object(R.jsxs)(Fn,{children:[Object(R.jsx)(Jn,{inputProps:C,setInputProps:P,updateContent:S,setData:w.setData}),Object(R.jsx)(Gn.Provider,{value:{provided:w,editable:s,updateContent:S},children:Object(R.jsx)(_,{})})]})]})]}):Object(R.jsx)(Fn,{children:Object(R.jsxs)(Gn.Provider,{value:{provided:w,editable:s,updateContent:S},children:[Object(R.jsx)(_,{}),Object(R.jsx)(W.a,{container:!0,sx:{position:"static",zIndex:1e5,top:"0%",left:"50%"},children:Object(R.jsx)(tt,{})})]})})},Xn=n(547),$n=n(548),Kn=n(549),Qn=n(521),er=n(550),tr=n(527),nr=n(496),rr=n(497),ar=n(498),ir=n(499),cr=n(500),sr=n(107),or=n.n(sr),lr=n(425),ur=n(422),dr=n(541),jr=n(540),br=n(242),pr=n.n(br),hr=n(241),mr=n.n(hr),fr=n(243),Or=n.n(fr),xr=n(244),vr=n.n(xr),gr=[["null","No rights",mr.a],[0,"View Only",pr.a],[1,"View and Edit",Or.a],[2,"Full Permissions",vr.a]];function wr(e){var t=e.userId,n=e.resumeId,a=e.right,i=e.updatePermission,c=Object(r.useState)(null!==a&&void 0!==a?a:"null"),s=Object(p.a)(c,2),o=s[0],l=s[1],u=Object(r.useState)(!1),d=Object(p.a)(u,2),j=d[0],b=d[1];return Object(R.jsx)(R.Fragment,{children:j?Object(R.jsx)(jr.a,{}):Object(R.jsx)(ce.a,{id:"select-".concat(n),value:o,onChange:function(e){var n=e.target.value;b(!0);try{i(t,n),l(n)}catch(r){console.error("Error: ".concat(r.message))}b(!1)},children:gr.map((function(e){var t=Object(p.a)(e,3),n=t[0],r=t[1],a=t[2];return Object(R.jsx)(se.a,{value:n,children:Object(R.jsxs)(ie.a,{children:[Object(R.jsx)(a,{sx:{mr:1}})," ",r]})},n)}))})})}function yr(e){var t=e.allowedUsers,n=void 0===t?[]:t,r=e.updatePermission;return Object(R.jsx)(lr.a,{dense:!0,children:n.map((function(e){var t=e.id,n=e.allowed_user,a=e.right,i=n.first_name,c=n.last_name,s=n.profile_picture,o=n.id,u=i+" "+c,d=Object(l.a)({src:s},Nt(u));return Object(R.jsxs)(ur.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(R.jsx)(dr.a,{children:Object(R.jsx)(V.a,Object(l.a)({},d))}),Object(R.jsx)(B.a,{variant:"h6",sx:{ml:1,mr:3,flexGrow:1},primary:u,children:u}),Object(R.jsx)(wr,{sx:{alignSelf:"flex-end",justifySelf:"flex-end"},userId:o,updatePermission:r,right:a}),Object(R.jsx)(cn.a,{})]},t)}))})}var kr=n(542),Cr=n(494),Pr=n(543),Sr=n(245),_r=n.n(Sr);function Ir(e){var t=e.title,n=e.children,r=e.openPopup,a=e.closePopup,i=e.labelledBy,c=void 0===i?"popup-label":i,s=e.describedBy,o=void 0===s?"popup-description":s;return Object(R.jsxs)(kr.a,{open:r,"aria-labelledby":c,"aria-describedby":o,children:[Object(R.jsx)(Cr.a,{id:c,children:Object(R.jsxs)("div",{style:{display:"flex"},children:[Object(R.jsx)(B.a,{variant:"h6",component:"div",style:{flexGrow:1},children:t}),Object(R.jsx)(et.a,{color:"error",title:"Close",children:Object(R.jsx)(G.a,{"aria-label":"close",onClick:a,children:Object(R.jsx)(_r.a,{})})})]})}),Object(R.jsx)(Pr.a,{dividers:!0,children:n})]})}var Nr=n(544),Rr=n(545),Er=n(247),Dr=n.n(Er),Ar=n(246),Lr=n.n(Ar);function Tr(e){var t=e.selection,n=e.setResumeList,a=t.resumeId,i=t.viewId,c=function(e){return e?window.location.origin+"/view/"+e:""},s=Object(r.useState)(c(i)),o=Object(p.a)(s,2),u=o[0],d=o[1],j=Object(r.useState)({severity:"info",message:null}),b=Object(p.a)(j,2),h=b[0],m=b[1],f={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",marginTop:"16px"};return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(B.a,{color:"warning.main",children:"Note: Creating a new link will break the existing link."}),h.message?Object(R.jsx)(Ce.a,{sx:{mt:2},variant:"filled",onClose:function(e){return m((function(e){return Object(l.a)(Object(l.a)({},e),{},{message:null})}))},severity:h.severity,children:h.message}):null,Object(R.jsxs)("div",{style:f,children:[Object(R.jsx)(Nr.a,{sx:{fontWeight:700},children:"Create a new link"}),Object(R.jsx)(Rr.a,{children:Object(R.jsx)(et.a,{title:"Create new link",children:Object(R.jsx)(G.a,{"aria-label":"create-link",onClick:function(e){return function(t){Ht.publishView(e).then((function(t){var r=t.view_id;n((function(t){var n=t.findIndex((function(t){return t.resume_id===e}));return t[n].view_id=r,t}));var a=c(r);d(a),m({severity:"success",message:"Link has been created successfully!"})})).catch((function(e){m({severity:"error",message:e.message})}))}}(a),children:Object(R.jsx)(Lr.a,{})})})})]}),Object(R.jsxs)("div",{style:f,children:[Object(R.jsx)(Nr.a,{sx:{fontWeight:700},children:"Copy existing link"}),Object(R.jsx)(Rr.a,{children:Object(R.jsx)(et.a,{title:"Copy the link",children:Object(R.jsx)(G.a,{"aria-label":"copy-link",bgcolor:"secondary.hover",onClick:function(){navigator.clipboard.writeText(u),m({severity:"success",message:"Link has been copied successfully!"})},children:Object(R.jsx)(Dr.a,{})})})})]}),Object(R.jsx)(Mn.a,{fullWidth:!0,disabled:!0,value:u})]})}function Ur(e){var t=e.children,n=e.anchorEl,r=Boolean(n),a=r?"user-popper":void 0;return Object(R.jsx)(qn.a,{id:a,open:r,anchorEl:n,children:t})}var Fr=Object(xe.a)(G.a,{name:"icon-button",slot:"root"})((function(e){e.theme;return{"&:hover":{}}}));function qr(e){var t,n=e.selection,r=e.setSelection,a=n.severity,i=void 0===a?"info":a,c=n.message;return c?Object(R.jsx)(W.a,{container:!0,flexDirection:"column",children:Object(R.jsxs)(Ce.a,{onClose:function(){return r((function(e){return Object(l.a)(Object(l.a)({},e),{},{message:null})}))},severity:i,children:[Object(R.jsx)(Pe.a,{children:(t=i,t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())}),c]})}):null}var Mr=n(506);function Br(e){var t=e.userList,n=e.allowedUsers,a=void 0===n?[]:n,i=e.updatePermission,c=a.map((function(e){return e.user}));t=t.filter((function(e){return!c.includes(e.id)}));var s=function(e){return e.first_name+" "+e.last_name};return Object(R.jsx)(Mr.a,{id:"select-users",options:t,getOptionLabel:s,renderOption:function(e,t){return Object(r.createElement)(ye.a,Object(l.a)(Object(l.a)({component:"li"},e),{},{key:t.id}),Object(R.jsx)(V.a,{src:t.profile_picture,alt:"",loading:"lazy",sx:{mr:1}}),s(t))},renderInput:function(e){return Object(R.jsx)(Z.a,Object(l.a)(Object(l.a)({},e),{},{inputProps:Object(l.a)(Object(l.a)({},e.inputProps),{},{autoComplete:"new-password"}),label:"Select a user"}))},onChange:function(e,t){console.log(e,t);try{var n=t.id;console.log("Value:",t),i(n,0)}catch(r){console.log("Error: ".concat(r.message))}}})}var Vr=n(178),Wr=n(248),zr=n(495),Jr=n(184),Gr=n(546),Hr=Object(xe.a)(zr.a)((function(e){var t,n=e.theme;return t={},Object(an.a)(t,"&.".concat(Jr.a.head),{backgroundColor:n.palette.primary.table}),Object(an.a)(t,"&.".concat(Jr.a.body),{fontSize:14}),t})),Yr=Object(xe.a)(Gr.a)((function(e){var t=e.theme;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.background.table,"& td":{color:t.palette.common.black}},"& .MuiSvgIcon-root":{color:t.palette.secondary.main},"& .MuiButtonBase-root:disabled .MuiSvgIcon-root":{color:t.palette.text.disabled},"&:nth-of-type(even)":{backgroundColor:t.palette.secondary.hover,td:{color:t.palette.text.primary}},"&:hover":{td:{color:t.palette.background.paper},"& .MuiButtonBase-root:disabled .MuiSvgIcon-root":{color:t.palette.text.disabled},backgroundColor:t.palette.secondary.table},"& .MuiButtonBase-root:hover":{backgroundColor:t.palette.primary.main,".MuiSvgIcon-root":{color:t.palette.text.primary}},"&:last-child td, &:last-child th":{border:0}}}));function Zr(e){var t=e.columnCounts,n=void 0===t?1:t;return Object(R.jsxs)(Yr,{children:[Object(R.jsx)(Hr,{children:Object(R.jsx)(B.a,{variant:"h6",fontSize:14,children:"No record found."})}),Object(S.a)(Array(n-1).keys()).map((function(e,t){return Object(R.jsx)(Hr,{},t)}))]})}function Xr(e){var t=e.data,n=e.editResume,r=void 0===n?function(){}:n,a=e.downloadResume,i=void 0===a?function(){}:a,c=e.removeResume,s=void 0===c?function(){}:c,o=e.toggleAccess,l=void 0===o?function(){}:o,u=e.publishResume,d=void 0===u?function(){}:u;return t.map((function(e){var t=e.id,n=e.title,a=e.last_modified_date,c=e.created_date,o=e.permissions,u=e.resume_id,j=e.view_id;return Object(R.jsxs)(Yr,{children:[Object(R.jsx)(Hr,{children:n}),Object(R.jsxs)(Hr,{children:[Object(R.jsx)(or.a,{fromNow:!0,ago:!0,children:c})," ","ago"]}),Object(R.jsxs)(Hr,{children:[Object(R.jsx)(or.a,{fromNow:!0,ago:!0,children:a})," ","ago"]}),Object(R.jsx)(Hr,{children:Object(R.jsx)(et.a,{title:"Open for Edit",children:Object(R.jsx)(Fr,{onClick:r(u),children:Object(R.jsx)(on.a,{})})})}),Object(R.jsx)(Hr,{children:Object(R.jsx)(et.a,{title:"Manage the permissions",children:Object(R.jsx)(Fr,{onClick:l(u,o),children:Object(R.jsx)(nr.a,{})})})}),Object(R.jsx)(Hr,{children:Object(R.jsx)(et.a,{title:j?"Refresh for new link":"Create a new link",children:Object(R.jsx)(Fr,{onClick:d(u,j),children:j?Object(R.jsx)(rr.a,{}):Object(R.jsx)(ar.a,{})})})}),Object(R.jsx)(Hr,{children:Object(R.jsx)(et.a,{title:"Download as PDF",children:Object(R.jsx)(Fr,{onClick:i(u),children:Object(R.jsx)(ir.a,{})})})}),Object(R.jsx)(Hr,{children:Object(R.jsx)(et.a,{title:"Delete the resume",children:Object(R.jsx)(Fr,{onClick:s(u),children:Object(R.jsx)(cr.a,{})})})})]},t)}))}function $r(e){var t=Object(r.useState)([]),n=Object(p.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)([]),s=Object(p.a)(c,2),o=s[0],u=s[1],d=Object(r.useState)({showAccess:null,showPublish:!1,resumeId:null,viewId:null,severity:"success",message:null,loading:!1}),h=Object(p.a)(d,2),m=h[0],f=h[1];Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ht.getResumeList();case 2:t=e.sent,i(t),f((function(e){return Object(l.a)(Object(l.a)({},e),{},{loading:!0})}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getUsers();case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}m.loading||function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[m.loading]);return Object(R.jsx)(Qt,{children:Object(R.jsxs)(W.a,{container:!0,gap:3,mt:10,ml:3,justifyContent:"flex-start",alignItems:"center",maxWidth:"90%",children:[Object(R.jsx)(B.a,{variant:"h5",children:"Resume List"}),Object(R.jsx)(qr,{variant:"contained",selection:m,setSelection:f}),Object(R.jsx)(Xn.a,{children:Object(R.jsxs)($n.a,{children:[Object(R.jsx)(Kn.a,{children:Object(R.jsx)(Yr,{children:["Template","Created Date","Last Modified Date","Edit","Permission","Publish","Download as PDF","Remove"].map((function(e){return["Created Date","Last Modified Date"].includes(e)?Object(R.jsx)(Hr,{children:Object(R.jsx)(Qn.a,{active:!0,direction:"asc",children:e})},e):Object(R.jsx)(Hr,{children:e},e)}))})}),Object(R.jsxs)(er.a,{children:[Object(R.jsx)(Ir,{title:"Share your resume",openPopup:m.showPublish,closePopup:function(){return f((function(e){return Object(l.a)(Object(l.a)({},e),{},{showPublish:!1})}))},children:Object(R.jsx)(Tr,{selection:m,setResumeList:i})}),Object(R.jsx)(Ur,{anchorEl:m.showAccess,sx:{p:1},children:Object(R.jsxs)(tr.a,{color:"secondary",children:[Object(R.jsxs)(W.a,{container:!0,alignItems:"center",children:[Object(R.jsx)(W.a,{item:!0,flexGrow:1,sx:{pl:1},children:Object(R.jsx)(B.a,{variant:"h6",sx:{p:1},children:"User Access Control"})}),Object(R.jsx)(W.a,{item:!0,sx:{pr:1},children:Object(R.jsx)(Fr,{onClick:function(){return f((function(e){return Object(l.a)(Object(l.a)({},e),{},{showAccess:null})}))},children:Object(R.jsx)(Se.a,{})})})]}),Object(R.jsx)(Br,{userList:o,allowedUsers:m.allowedUsers,updatePermission:m.updatePermission}),Object(R.jsx)(cn.a,{sx:{mt:1}}),Object(R.jsx)(yr,{allowedUsers:m.allowedUsers,updatePermission:m.updatePermission,resumeId:m.resumeId})]})}),0===a.length?Object(R.jsx)(Zr,{columnCounts:8}):Object(R.jsx)(Xr,{data:a,editResume:function(e){return function(t){window.open("/resume/".concat(e),"_blank").focus()}},removeResume:function(e){return function(t){if(!window.confirm("Are you sure to delete the resume? Deleted resume can't be recovered."))return!1;Ht.deleteResume(e).then((function(t){var n=a.filter((function(t){return t.resume_id!==e}));i(n),f((function(e){return Object(l.a)(Object(l.a)({},e),{},{severity:"success",message:t})}))})).catch((function(e){f((function(t){return Object(l.a)(Object(l.a)({},t),{},{severity:"error",message:e.message})}))}))}},toggleAccess:function(e){return function(t){var n=m.anchorEl?null:t.currentTarget,r=a.find((function(t){return t.resume_id===e})),c=r.permissions;function s(t,n){("null"===n?Ht.revokePermission(e,t):Ht.grantPermission(e,t,n)).then((function(a){i((function(i){var c=i.findIndex((function(t){return t.resume_id===e})),s=r.permissions;if("null"===n){var o=i[c].permissions;return o=o.filter((function(e){return e.user!==t})),i[c].permissions=o,f((function(e){var t;return Object(l.a)(Object(l.a)({},e),{},{allowedUsers:o,message:null!==(t=a.message)&&void 0!==t?t:"Revoke user access right successfully.",severity:"success"})})),i}var u=s.findIndex((function(e){return e.user===t}));if(-1===u){var d=a,j=i[c].permissions.concat([d]);return i[c].permissions=j,f((function(e){var t;return Object(l.a)(Object(l.a)({},e),{},{allowedUsers:j,message:null!==(t=a.message)&&void 0!==t?t:"Granted view access right to new user.",severity:"success"})})),i}return i[c].permissions[u].right=n,f((function(e){var t;return Object(l.a)(Object(l.a)({},e),{},{message:null!==(t=a.message)&&void 0!==t?t:"Update the access right successfuly.",severity:"success"})})),i}))})).catch((function(e){f((function(t){return Object(l.a)(Object(l.a)({},t),{},{message:e.message,severity:"error"})}))}))}f((function(t){return Object(l.a)(Object(l.a)({},t),{},{resumeId:e,showAccess:n,updatePermission:s,allowedUsers:c})}))}},publishResume:function(e,t){return function(n){f((function(n){return Object(l.a)(Object(l.a)({},n),{},{resumeId:e,viewId:t,showPublish:!0})}))}},downloadResume:function(e){return function(e){var t=document.querySelector("#resume"),n={useCORS:!0,width:window.screen.availWidth,height:window.screen.availHeight,windowWidth:document.body.scrollWidth,windowHeight:document.body.scrollHeight,x:0,y:window.pageYOffset};Vr(t,n).then((function(e){console.log("Canvas:",e);var t=e.toDataURL("image/png"),n=new Wr.a;console.log("Img Data:",t),n.addImage(t,"PNG",0,0),n.save("resume.pdf")}))}}})]})]})})]})})}var Kr=n(502),Qr=n(525),ea=n(501),ta=["id","label","value","onChange","onCancelSearch"];function na(e){var t=e.id,n=void 0===t?"outlined-search":t,r=e.label,a=void 0===r?"Search field":r,i=e.value,c=e.onChange,s=void 0===c?function(){}:c,o=e.onCancelSearch,d=void 0===o?function(){}:o,j=Object(u.a)(e,ta);return Object(R.jsx)(Qr.a,Object(l.a)({id:n,value:i,label:a,type:"text",sx:{borderColor:function(e){return e.palette.secondary.main}},onChange:s,endAdornment:Object(R.jsx)(J.a,{position:"end",children:Object(R.jsx)(G.a,{onClick:d,edge:"end",sx:{color:function(e){return e.palette.primary.main}},children:Object(R.jsx)(ea.a,{})})})},j))}function ra(e){var t,n=e.rows,a=e.setRows,i=e.setAllRows,c="Shared By",s="Create Date",o="Last Modified Date",u=Object(r.useState)((t={},Object(an.a)(t,s,"asc"),Object(an.a)(t,o,"asc"),Object(an.a)(t,c,"asc"),t)),d=Object(p.a)(u,2),j=d[0],b=d[1],h=function(e,t){return function(){var r=oa(n,j[e],t);a(r),i(n),b((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(an.a)({},e,"asc"===j[e]?"desc":"asc"))}))}};return Object(R.jsx)(Kn.a,{sx:{color:function(e){return e.palette.primary.main},backgroundColor:function(e){return e.palette.divider}},children:Object(R.jsxs)(Gr.a,{children:[Object(R.jsx)(Hr,{align:"center",onClick:h(c,"user"),children:Object(R.jsx)(Qn.a,{active:!0,direction:j["Shared By"],children:"Shared By"})}),Object(R.jsx)(Hr,{align:"center",onClick:h(s,"created_date"),children:Object(R.jsx)(Qn.a,{active:!0,direction:j["Create Date"],children:"Created Date"})}),Object(R.jsx)(Hr,{align:"center",onClick:h(o,"last_modified_date"),children:Object(R.jsx)(Qn.a,{active:!0,direction:j[o],children:"Last Modified Date"})}),Object(R.jsx)(Hr,{align:"center",children:"View"}),Object(R.jsx)(Hr,{align:"center",children:"Edit"}),Object(R.jsx)(Hr,{align:"center",children:"Delete"})]})})}function aa(e){var t,n=e.rows,r=e.openResume,a=e.editResume,i=e.removeResume;return(n=null!==(t=n)&&void 0!==t?t:[]).map((function(e){var t=e.resume,n=e.right,c=e.user,s=t.created_date,o=t.last_modified_date,l=t.resume_id;return Object(R.jsxs)(Yr,{children:[Object(R.jsx)(Hr,{component:"td",align:"center",scope:"row",children:c}),Object(R.jsxs)(Hr,{component:"td",align:"center",scope:"row",children:[Object(R.jsx)(or.a,{fromNow:!0,ago:!0,children:s})," ","ago"]}),Object(R.jsxs)(Hr,{component:"td",align:"center",scope:"row",children:[Object(R.jsx)(or.a,{fromNow:!0,ago:!0,children:o})," ","ago"," "]}),Object(R.jsx)(Hr,{component:"td",align:"center",scope:"row",children:Object(R.jsx)(G.a,{onClick:n>=0?r(l):null,disabled:n<0,children:Object(R.jsx)(Kr.a,{})})}),Object(R.jsx)(Hr,{component:"td",align:"center",scope:"row",children:Object(R.jsx)(G.a,{onClick:n>=1?a(l):null,disabled:n<1,children:Object(R.jsx)(on.a,{})})}),Object(R.jsx)(Hr,{component:"td",align:"center",scope:"row",children:Object(R.jsx)(G.a,{onClick:n>=2?i(l):null,disabled:n<2,children:Object(R.jsx)(cr.a,{})})})]},e.id)}))}function ia(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)([]),c=Object(p.a)(i,2),s=c[0],o=c[1],u=Object(r.useState)([]),d=Object(p.a)(u,2),h=d[0],m=d[1],f=Object(r.useState)({severity:"info",message:null}),O=Object(p.a)(f,2),x=O[0],v=O[1],g=function(e){if(a(e),""===e)return o(h),!1;var t=new RegExp(e,"gi"),n=s.filter((function(e){return e.user.match(t)}));o(n)};Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ht.getSharedResume();case 2:t=e.sent,m(null!==t&&void 0!==t?t:[]),o(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return Object(R.jsx)(Qt,{children:Object(R.jsxs)(W.a,{container:!0,mt:10,ml:3,rowGap:1,direction:"column",children:[Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(B.a,{variant:"h5",children:"Resume List Shared by Others"})}),Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(na,{value:n,onChange:function(e){return g(e.target.value)},onCancelSearch:function(){a(""),g("")}})}),Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(cn.a,{})}),Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(qr,{setSelection:x,selection:x})}),Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(Xn.a,{sx:{margin:"auto",maxWidth:"95%"},"aria-label":"simple table",component:W.a,children:Object(R.jsxs)($n.a,{stickyHeader:!0,children:[Object(R.jsx)(ra,{rows:s,setRows:o,setAllRows:m}),Object(R.jsx)(er.a,{children:0===s.length?Object(R.jsx)(Zr,{columnCounts:6}):Object(R.jsx)(aa,{rows:s,openResume:ca,editResume:sa,removeResume:function(e){return function(t){if(!window.confirm("Are you sure to delete the resume? Deleted resume can't be recovered."))return!1;Ht.deleteResume(e).then((function(t){var n=h.filter((function(t){return t.resume.id!==e})),r=s.filter((function(t){return t.resume.id!==e}));m(n),o(r),v((function(e){return Object(l.a)(Object(l.a)({},e),{},{severity:"success",message:t})}))})).catch((function(e){console.error("Error:",e.message),v((function(t){return Object(l.a)(Object(l.a)({},t),{},{severity:"error",message:e.message})}))}))}}})})]})})})]})})}var ca=function(e){return function(t){window.open("/shared_resume/view/".concat(e),"_blank").focus()}},sa=function(e){return function(t){window.open("/resume/".concat(e),"_blank").focus()}},oa=function(e,t,n){return"asc"===t?e.sort((function(e,t){return e[n]||(e=e.resume),t[n]||(t=t.resume),e[n]>t[n]?1:t[n]>e[n]?-1:0})):e.sort((function(e,t){return e[n]||(e=e.resume),t[n]||(t=t.resume),e[n]<t[n]?1:t[n]<e[n]?-1:0}))};function la(e){var t=e.match.params.uid,n=Object(r.useState)(null),a=Object(p.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)("Loading..."),o=Object(p.a)(s,2),l=o[0],u=o[1];return Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(j.a.mark((function e(){var n,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ht.accessView(t);case 2:n=e.sent;try{a=null!==(r=n.template_id)&&void 0!==r?r:1,u(a),c(n.content)}catch(i){console.log("View Error:",i.message)}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),i?Object(R.jsx)(Zn,{templateId:l,editable:!1,initialData:i}):Object(R.jsx)("h4",{children:"Resume not found."})}var ua=n(503);function da(e){return Object(R.jsx)(Fe,{sx:{},children:Object(R.jsx)(Ue.Form,{onSubmit:L.resetPassword,validator:ft,successMessage:"The verification email is sent to the mailbox. Please check it.",sx:{m:0},children:Object(R.jsxs)(W.a,{container:!0,rowSpacing:5,direction:"column",children:[Object(R.jsxs)(W.a,{item:!0,children:[Object(R.jsxs)(B.a,{variant:"h4",sx:{fontWeight:"bold"},children:["Reset your Password ",Object(R.jsx)(tt,{})]}),Object(R.jsx)(cn.a,{sx:{mt:1,mb:0}})]}),Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(B.a,{variant:"inherit",children:"Enter your email address below and we'll send you a link to reset your password."})}),Object(R.jsx)(W.a,{item:!0,sx:{"& .MuiFormControl-root":{width:"100%"}},children:Object(R.jsx)(Ue.Input,{variant:"outlined",type:"text",name:"email",label:"Email Address"})}),Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(Ue.Button,{type:"submit",color:"primary",sx:Ue.buttonStyle,children:"Send"})}),Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(z.a,{href:"/login",underline:"always",rel:"noopener",color:"primary",variant:"inherit",children:"Back to Login Page"})})]})})})}function ja(e){var t={display:"none",padding:0,margin:0,width:0,height:0},n={uid:e.match.params.uid,token:e.match.params.token};return Object(R.jsx)(Tn.a,{color:"primary",sx:{display:"flex",justifyContent:"center",width:"80%"},children:Object(R.jsx)(Ue.Form,{defaultValues:n,onSubmit:L.resetPasswordConfirm,validator:Ot,successMessage:"The password has been updated. Please go to login page.",redirectOnSuccess:"/password_reset_done",children:Object(R.jsxs)(W.a,{container:!0,flexDirection:"column",rowGap:5,children:[Object(R.jsxs)(B.a,{variant:"h5",sx:{fontWeight:700},children:["Create new password ",Object(R.jsx)(tt,{})]}),Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(B.a,{variant:"inherit",children:"Your new password must be different from previous used passwords."})}),Object(R.jsx)(W.a,{item:!0,sx:t,children:Object(R.jsx)(Ue.Input,{type:"text",name:"email","aria-label":"Email Address",label:"Email Address",autoComplete:"email"})}),Object(R.jsx)(W.a,{item:!0,sx:{"& .MuiFormControl-root":{width:"100%"}},children:Object(R.jsx)(Ue.Input,{type:"password",name:"newPassword","aria-label":"New Password",label:"New Password",autoComplete:"new-password",adornments:!0,required:!0})}),Object(R.jsx)(W.a,{item:!0,sx:{"& .MuiFormControl-root":{width:"100%"}},children:Object(R.jsx)(Ue.Input,{type:"password",name:"confirmPassword","aria-label":"Confirm Password",label:"Confirm Password",required:!0,autoComplete:"confirmPassword",adornments:!0})}),Object(R.jsxs)(W.a,{item:!0,sx:t,children:[Object(R.jsx)(Ue.Input,{type:"text",name:"uid","aria-label":"UID",label:"UID"}),Object(R.jsx)(Ue.Input,{type:"text",name:"token","aria-label":"Token",label:"Token"})]}),Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(Ue.Button,{type:"submit",sx:Ue.buttonStyle,children:"Reset Password"})}),Object(R.jsx)(W.a,{item:!0,children:Object(R.jsx)(z.a,{href:"/password_reset",underline:"always",rel:"noopener",color:"primary",variant:"inherit",children:"Link is expired? Reset again"})})]})})})}function ba(e){return Object(R.jsxs)(W.a,{container:!0,direction:"column",rowGap:5,sx:{display:"flex",justifyContent:"center",alignContent:"center",width:"80%",margin:"5rem",padding:0},children:[Object(R.jsx)(B.a,{variant:"h6",sx:{fontWeight:700},children:"Successful password reset!"}),Object(R.jsx)(B.a,{variant:"inherit",children:"You can now use your new password to log in to your account."}),Object(R.jsx)(Oe.a,{href:"/login",variant:"contained",sx:Object(l.a)(Object(l.a)({},Ue.buttonStyle),{},{width:"50%"}),children:"Login"})]})}var pa=function(){return Object(R.jsx)(s.a,{children:Object(R.jsxs)(Ke,{startingTheme:"light",children:[Object(R.jsx)(ua.a,{}),Object(R.jsxs)(F,{children:[Object(R.jsx)(M,{exact:!0,path:"/",component:en}),Object(R.jsx)(M,{exact:!0,path:"/resume",component:$r}),Object(R.jsx)(M,{exact:!0,path:"/shared_resume",component:ia}),Object(R.jsx)(M,{exact:!0,path:"/shared_resume/view/:uid",component:Zn,editable:!1}),Object(R.jsx)(M,{exact:!0,path:"/resume/:uid",component:Zn}),Object(R.jsx)(M,{exact:!0,path:"/profile",component:rn}),Object(R.jsx)(o.b,{exact:!0,path:"/view/:uid",component:la}),Object(R.jsx)(o.b,{component:xt,path:"/login"}),Object(R.jsx)(o.b,{component:wt,path:"/signup"}),Object(R.jsx)(o.b,{component:da,path:"/password_reset"}),Object(R.jsx)(o.b,{component:ja,path:"/password_reset_confirm",exact:!0}),Object(R.jsx)(o.b,{component:ja,path:"/password_reset_confirm/:uid/:token"}),Object(R.jsx)(o.b,{component:ba,path:"/password_reset_done"})]})]})})};n(403);c.a.render(Object(R.jsx)(a.a.StrictMode,{children:Object(R.jsx)(pa,{})}),document.getElementById("root"))}},[[404,1,2]]]);
//# sourceMappingURL=main.34cc2e0f.chunk.js.map