{"version":3,"sources":["components/Dashboard/Drawer.js","static/classic.js","services/token.service.js","services/api.js","services/cookie.service.js","utils/caseConversion.js","services/auth.service.js","services/profile.service.js","hooks/useLocalStorage.js","contexts/AuthContext.jsx","utils/PrivateRoute.js","components/controls/Input.js","components/controls/Select.js","components/controls/Checkbox.js","components/controls/RadioGroup.js","components/controls/Button.js","components/controls/Alert.js","components/controls/Form.js","hooks/useCustomForm.js","components/controls/Control.js","components/CenteredContainer.jsx","contexts/ThemeContext.jsx","components/Dashboard/ThemeTogglerIcon.js","utils/formValidation.js","pages/LoginPage.jsx","pages/SignUpPage.jsx","utils/stringAvatar.js","components/controls/ProfilePicture.js","components/Dashboard/PageHeader.js","services/resume.service.js","components/Dashboard/PageSection.js","pages/Dashboard.jsx","pages/Profile.jsx","components/Editor.jsx","components/Templates/navItem.js","components/Templates/initialData.js","components/Templates/Classic.js","components/CustomIframe.jsx","pages/Resume.jsx","components/SelectRights.jsx","components/AllowedUserList.jsx","components/Popout.jsx","components/ShareDialog.jsx","components/Popper.jsx","components/StyledIconButton.jsx","components/AlertBox.jsx","components/SelectUsers.jsx","components/StyledTable.jsx","pages/ResumeList.jsx","components/SearchBar.jsx","pages/SharedResumeList.jsx","pages/PublicView.jsx","pages/PasswordReset.jsx","App.js","index.js"],"names":["SwipeableDrawer","styled","MuiDrawer","name","slot","shouldForwardProp","prop","theme","openDrawer","display","flexDirection","width","padding","spacing","transition","transitions","create","easing","easeOut","duration","enteringScreen","sharp","leavingScreen","SideHeader","justifyContent","alignContent","verticalAlign","BodyFrame","open","marginLeft","LeftIcon","ChevronLeftIcon","color","palette","grey","borderRadius","backgroundColor","DrawerList","props","history","useHistory","location","menuItems","text","icon","path","map","item","selected","pathname","sx","bgColor","cursor","onClick","push","primary","CustomDrawer","toggleDrawer","drawerWidth","iOS","process","browser","test","navigator","userAgent","variant","anchor","disableBackdropTransition","disableDiscovery","onOpen","onClose","lineHeight","sections","document","querySelectorAll","window","addEventListener","event","forEach","section","currentSection","scrollY","pageYOffset","sectionTop","offsetTop","sectionId","getAttribute","sectionHeight","height","isActive","navLink","querySelector","classList","toggle","toggleActive","header","getElementById","progressBar","scrolled","body","scrollTop","documentElement","scrollHeight","clientHeight","style","TOKEN_KEY","token","JSON","parse","localStorage","getItem","refresh","access","AuthObject","setItem","stringify","removeItem","API_URL","apiEndpoints","register","refreshToken","userProfile","changePassword","resetPassword","resetPasswordConfirm","csrftoken","templates","resume","users","permission","view","sharedResume","api","axios","baseURL","headers","defaults","xsrfCookieName","xsrfHeaderName","interceptors","request","use","config","accessToken","TokenService","getLocalAccessToken","String","error","Promise","reject","response","a","originalConfig","url","status","_retry","getLocalRefreshToken","post","newResponse","authObject","data","setAuth","AuthService","logout","endpoints","CookiesService","value","seconds","expires","date","Date","setTime","getTime","toUTCString","cookieValue","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","snakeToCamelObject","obj","newObj","Object","entries","key","newKey","index","charAt","toUpperCase","slice","join","camelToSnakeObject","replace","letter","toLowerCase","objectToArray","includeKey","flattenArray","field","innerObj","Array","isArray","filter","URL","getCookie","credentials","mode","loginResponse","this","cleanUp","payload","params","URLSearchParams","append","registerResponse","get","then","setCookie","type","getAuth","removeAuth","deleteCookie","getUserProfile","fullName","profilePicture","updateUserProfile","dataWithoutFileField","snakeData","put","console","log","camelData","updateProfilePicture","inputElem","target","imageFile","files","formData","FormData","patch","deleteProfilePicture","delete","getUsers","useLocalStorage","initialValue","useState","storedValue","setStoredValue","valueToStore","Function","AuthContext","createContext","AuthProvider","children","useLocation","defaultProfile","setUserProfile","defaultAuth","isAuthenticated","setIsAuthenticated","login","notEmpty","keys","useEffect","ProfileService","profile","prev","contextData","loginUser","logoutUser","Provider","PrivateRoute","Component","component","rest","useContext","render","to","inputStyle","labelStyle","fontWeight","marginBottom","PasswordEye","showPassword","setShowPassword","InputAdornment","position","IconButton","edge","secondary","contrastText","Input","size","label","focus","required","adornments","passwordProp","FormControl","FormLabel","filled","TextField","inputProps","InputProps","endAdornment","Select","onChange","options","id","title","concat","InputLabel","MenuItem","FormHelperText","Checkbox","checked","FormControlLabel","control","RadioGroup","items","helperText","row","Radio","StyledButton","MuiButton","boxShadow","shadows","textTransform","background","hover","Button","CloseIcon","closeBox","Close","fontSize","Alert","message","severity","showDefault","showBox","setShowBox","Box","zIndex","Collapse","in","action","AlertTitle","FormContainer","alignItems","margin","paper","ResizedForm","Form","defaultValues","setDefaultValues","onSubmit","validator","redirectOnSuccess","successMessage","other","methods","useForm","reValidateMode","handleSubmit","reset","setError","errors","formState","isSuccess","setIsSuccess","onSuccess","setTimeout","catch","camelErrors","onFailure","newDefaultValues","disappearAlert","undefined","updateValue","clearTimeout","elevation","preventDefault","autoComplete","CustomForm","defaultValue","rules","validate","onBlur","fieldState","invalid","isTouched","isDirty","withCustomForm","Control","buttonStyle","main","CenteredContainer","minHeight","rowGap","ColorModeContext","toggleColorMode","themes","base","common","black","white","default","typography","fontFamily","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","breakpoints","xs","sm","md","lg","xl","components","styleOverrides","root","MuiTypography","textShadow","shortest","shorter","short","standard","complex","light","purple","table","indigo","toggleIcon","red","disabled","divider","dark","yellow","CustomThemeProvider","startingTheme","setMode","colorMode","useMemo","prevMode","createTheme","ThemeProvider","ThemeTogglerIcon","useTheme","ToggleIcon","SunIcon","Brightness7","MoonIcon","Brightness4","Tooltip","arrow","passwordRule","RegExp","emailRule","phoneNumberRule","profileSchema","Yup","shape","firstName","lastName","gender","email","matches","phoneNumber","loginSchema","password","min","registerSchema","confirmPassword","oneOf","changePasswordSchema","oldPassword","newPassword","resetPasswordSchema","resetPasswordConfirmSchema","loginValidator","resolver","yupResolver","registerValidator","profileValidator","changePasswordValidator","resetPasswordValidator","resetPasswordConfirmValidator","LoginPage","CSRFToken","Typography","Avatar","mt","bgcolor","p","Grid","container","direction","align","placeholder","columnGap","Link","underline","href","SignUpPage","signUp","rowSpacing","autoFocus","mb","always","stringToColor","string","hash","charCodeAt","toString","substr","stringAvatar","ProfilePicture","imageURL","innerProps","CustomAppBar","AppBar","CustomToolBar","Toolbar","mixins","toolbar","PageHeader","enableColorOnDark","marginRight","RESUME_ENDPOINTS","PERMISSION_ENDPOINTS","VIEW_ENDPOINTS","TEMPLATE_ENDPOINTS","SHARED_RESUME_ENDPOINTS","ResumeService","content","resumeId","template","targetUserId","right","user","resume_id","viewId","TemplateCard","templateId","thumbnail","description","Card","CardMedia","image","alt","CardContent","gutterBottom","createResume","ml","AddBox","textAlign","paragraph","TemplateCardPlaceholder","Skeleton","animation","TemplateList","loading","setLoading","templateList","setTemplateList","imgStyles","getTemplateList","gap","uuid","Layout","showDrawer","setShowDrawer","layoutProps","forced","Dashboard","ProfileForm","htmlFor","accept","flexWrap","ChangePasswordForm","Profile","pasteAsPlainText","clipboardData","getData","execCommand","Editable","textOnly","tagName","className","onInput","onPaste","onKeyDown","keyCode","html","border","navList","cardType","skillLevels","novice","intermediate","advanced","expert","initialData","githubURL","address","linkedinURL","skills","level","project","category","topic","experience","institution","periodStart","periodEnd","education","languages","TimelineCard","isEducation","ResumeContext","provided","updateContent","editable","setData","educationClass","addTimeLine","currentTimeline","sampleTimeline","splice","deleteTimeline","idx","Section","Fragment","pl","pr","contentEditable","ButtonGroup","addItem","deleteItem","addDesc","deleteDesc","ProjectCard","addProject","currentProject","sampleData","deleteProject","handleDisplayError","imgElement","onError","src","srcSet","Divider","borderTopWidth","Stack","ProfileCard","iconStyle","startsWith","BioCard","editIcon","Edit","InsertLink","EditLocation","LevelOptions","initialLevel","selectionId","optionAttrs","SkillsCard","addSkill","currentSkill","sampleSkill","deleteSkill","skill","Footer","currentYear","getFullYear","NavItem","NavBar","ScrollProgressBar","Header","headerStyle","rel","mr","Classic","isEmpty","CustomIframe","hrefs","iframe","contentWindow","head","assign","createElement","createLink","Container","InputBox","setInputProps","Popper","anchorEl","borderWidth","minWidth","stopPropagation","keyLabels","startIcon","Check","Notification","setNotification","left","transform","ControlGroup","alignSelf","justifySelf","m","top","updateResume","resp","Save","publishResponse","publishView","origin","view_id","PublishOutlined","Resume","notification","customData","getJson","setJson","match","uid","getResume","retrieveResume","Template","RIGHTS","LockTwoToneIcon","EditOffIcon","EditIcon","LockOpenTwoToneIcon","SelectRights","userId","inputRight","updatePermission","selectedRight","setSelectedRight","CircularProgress","rightValue","Icon","AllowedUserList","allowedUsers","List","dense","allowedUser","allowed_user","first_name","last_name","profile_picture","avatarProps","ListItem","ListItemAvatar","flexGrow","Popup","openPopup","closePopup","labelledBy","describedBy","Dialog","DialogTitle","DialogContent","dividers","ShareDialog","selection","setResumeList","link","setLink","showAlert","setShowAlert","flexBox","marginTop","DialogContentText","DialogActions","newId","findIndex","updatedLink","publishResume","clipboard","writeText","fullWidth","UserAccessControl","Boolean","StyledIconButton","AlertBox","txt","setSelection","SelectUsers","userList","allowedUsersId","includes","getOptionLabel","option","Autocomplete","renderOption","renderInput","StyledTableCell","TableCell","tableCellClasses","StyledTableRow","TableRow","td","StyledEmptyRows","columnCounts","CustomResumeList","resumeList","editResume","downloadResume","removeResume","toggleAccess","lastModifiedDate","last_modified_date","createdDate","created_date","permissions","fromNow","ago","Group","PublishedWithChanges","Unpublished","PictureAsPdf","DeleteForever","ResumeList","setUserList","showAccess","showPublish","getResumeList","userData","maxWidth","TableContainer","Table","TableHead","TableSortLabel","active","TableBody","Paper","confirm","deleteResume","updatedList","currentTarget","find","allowedUserId","revokePermission","grantPermission","resumeIndex","prevSelection","userIndex","newAllowedUser","newAllowedUsers","useCORS","screen","availWidth","availHeight","windowWidth","scrollWidth","windowHeight","x","y","html2canvas","canvas","imgData","toDataURL","pdf","jsPDF","addImage","save","SearchBar","onCancelSearch","OutlinedInput","borderColor","Cancel","CustomTableHead","rows","setRows","setAllRows","sharedUserField","createdDateField","modifiedDateField","orderDirection","setOrderDirection","handleSortRequest","sortedRows","sortData","CustomTableRows","openResume","scope","AutoStories","SharedResumeList","searched","setSearched","allRows","requestSearch","searchedVal","pattern","filteredRows","getSharedResume","stickyHeader","updatedAllRows","updatedRows","arr","sort","b","PublicView","setTemplateId","accessView","viewResponse","template_id","getView","PasswordResetView","PasswordResetConfirmView","hiddenStyle","PasswordResetDoneView","App","CssBaseline","exact","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.34cc2e0f.chunk.js","sourcesContent":["import { useHistory } from \"react-router\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nimport {\r\n  SwipeableDrawer as MuiDrawer,\r\n  Typography,\r\n  IconButton,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n} from \"@mui/material\";\r\n\r\nimport { ListItemIcon } from \"@material-ui/core\";\r\n\r\nimport {\r\n  ChevronLeft as ChevronLeftIcon,\r\n  SubjectOutlined,\r\n  AddCircleOutlined,\r\n  InboxOutlined,\r\n} from \"@material-ui/icons\";\r\n\r\nconst SwipeableDrawer = styled(MuiDrawer, {\r\n  name: \"SwipeableDrawer\",\r\n  slot: \"root\",\r\n  shouldForwardProp: (prop) => prop !== \"openDrawer\" && prop !== \"width\",\r\n})(({ theme, openDrawer, width }) => ({\r\n  \"& .MuiPaper-root\": {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    width: width,\r\n    padding: theme.spacing(0.5, 0),\r\n    transition: openDrawer\r\n      ? theme.transitions.create([\"margin\", \"width\"], {\r\n          easing: theme.transitions.easing.easeOut,\r\n          duration: theme.transitions.duration.enteringScreen,\r\n        })\r\n      : theme.transitions.create([\"margin\", \"width\"], {\r\n          easing: theme.transitions.easing.sharp,\r\n          duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n  },\r\n}));\r\n\r\nconst SideHeader = styled(\"div\", { name: \"sideHeader\", slot: \"root\" })(\r\n  ({ theme }) => ({\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignContent: \"center\",\r\n    padding: theme.spacing(0.5, 1),\r\n    verticalAlign: \"middle\",\r\n  })\r\n);\r\n\r\nconst BodyFrame = styled(\"div\", {\r\n  name: \"bodyFrame\",\r\n  slot: \"root\",\r\n  shouldForwardProp: (prop) => prop !== \"open\" && prop !== \"width\",\r\n})(({ theme, open, width }) => ({\r\n  display: \"flex\",\r\n  justifyContent: \"space-between\",\r\n  marginLeft: open && width,\r\n\r\n  transition: open\r\n    ? theme.transitions.create(\"margin\", {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      })\r\n    : theme.transitions.create(\"margin\", {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n}));\r\n\r\nconst LeftIcon = styled(ChevronLeftIcon, { name: \"leftIcon\", slot: \"root\" })(\r\n  ({ theme }) => ({\r\n    color: theme.palette.grey[500],\r\n    padding: theme.spacing(0.2),\r\n    borderRadius: \"50%\",\r\n\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.grey[50],\r\n    },\r\n  })\r\n);\r\n\r\nfunction DrawerList(props) {\r\n  const history = useHistory();\r\n  const location = history.location;\r\n  const menuItems = [\r\n    {\r\n      text: \"My Templates\",\r\n      icon: <SubjectOutlined color=\"secondary\" />,\r\n      path: \"/\",\r\n    },\r\n\r\n    {\r\n      text: \"My Resume\",\r\n      icon: <AddCircleOutlined color=\"secondary\" />,\r\n      path: \"/resume\",\r\n    },\r\n\r\n    {\r\n      text: \"Other Resume\",\r\n      icon: <InboxOutlined color=\"secondary\" />,\r\n      path: \"/shared_resume\",\r\n    },\r\n  ];\r\n  return (\r\n    <List>\r\n      {menuItems.map((item) => {\r\n        const selected = location.pathname === item.path;\r\n        return (\r\n          <ListItem\r\n            sx={{\r\n              bgColor: selected ? \"lightgray\" : \"default\",\r\n              cursor: \"pointer\",\r\n              \"&:hover\": {\r\n                backgroundColor: (theme) => theme.palette.grey[500],\r\n              },\r\n            }}\r\n            key={item.text}\r\n            onClick={() => history.push(item.path)}\r\n          >\r\n            <ListItemIcon>{item.icon}</ListItemIcon>\r\n            <ListItemText primary={item.text}></ListItemText>\r\n          </ListItem>\r\n        );\r\n      })}\r\n    </List>\r\n  );\r\n}\r\n\r\nfunction CustomDrawer(props) {\r\n  const { open, toggleDrawer, drawerWidth } = props;\r\n  const iOS = process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\r\n\r\n  return (\r\n    <SwipeableDrawer\r\n      variant=\"persistent\"\r\n      anchor=\"left\"\r\n      disableBackdropTransition={!iOS}\r\n      disableDiscovery={iOS}\r\n      open={open}\r\n      openDrawer={open}\r\n      width={drawerWidth}\r\n      onOpen={toggleDrawer(true)}\r\n      onClose={toggleDrawer(false)}\r\n    >\r\n      <SideHeader>\r\n        <Typography variant=\"h6\" lineHeight={2}>\r\n          Regital\r\n        </Typography>\r\n        <IconButton onClick={toggleDrawer()}>\r\n          <LeftIcon />\r\n        </IconButton>\r\n      </SideHeader>\r\n\r\n      <Divider />\r\n\r\n      <DrawerList />\r\n    </SwipeableDrawer>\r\n  );\r\n}\r\n\r\nexport { BodyFrame, CustomDrawer };\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n// drawer: (showDrawer) => ({\r\n//   \"& .MuiPaper-root\": {\r\n//     display: \"flex\",\r\n//     flexDirection: \"column\",\r\n//     width: drawerWidth,\r\n//     padding: theme.spacing(0.5, 0),\r\n\r\n//     transition: showDrawer\r\n//       ? theme.transitions.create([\"margin\", \"width\"], {\r\n//           easing: theme.transitions.easing.easeOut,\r\n//           duration: theme.transitions.duration.enteringScreen,\r\n//         })\r\n//       : theme.transitions.create([\"margin\", \"width\"], {\r\n//           easing: theme.transitions.easing.sharp,\r\n//           duration: theme.transitions.duration.leavingScreen,\r\n//         }),\r\n//   },\r\n// }),\r\n\r\n// drawerHeader: {\r\n//   display: \"flex\",\r\n//   justifyContent: \"space-between\",\r\n//   alignContent: \"center\",\r\n//   padding: theme.spacing(0.5, 1),\r\n//   verticalAlign: \"middle\",\r\n// },\r\n\r\n// listItem: {\r\n//   \"&:hover\": {\r\n//     cursor: \"pointer\",\r\n//     backgroundColor: theme.palette.grey[500],\r\n//   },\r\n// },\r\n\r\n// main: (showDrawer) => ({\r\n//   display: \"flex\",\r\n//   justifyContent: \"space-between\",\r\n//   marginLeft: showDrawer && `${drawerWidth}`,\r\n\r\n//   transition: showDrawer\r\n//     ? theme.transitions.create(\"margin\", {\r\n//         easing: theme.transitions.easing.easeOut,\r\n//         duration: theme.transitions.duration.enteringScreen,\r\n//       })\r\n//     : theme.transitions.create(\"margin\", {\r\n//         easing: theme.transitions.easing.sharp,\r\n//         duration: theme.transitions.duration.leavingScreen,\r\n//       }),\r\n// }),\r\n\r\n//   leftIcon: {\r\n//     color: \"#bdbdbd\",\r\n//     padding: theme.spacing(0.2),\r\n//     borderRadius: \"50%\",\r\n\r\n//     \"&:hover\": {\r\n//       backgroundColor: \"#eeeeee\",\r\n//     },\r\n//   },\r\n// }));\r\n","const sections = document.querySelectorAll(\"section[id]\");\r\n// const themeToggler = document.querySelector(\".toggle-theme\");\r\n\r\nfunction toggleActive(currentSection) {\r\n  const scrollY = window.pageYOffset;\r\n  const sectionTop = currentSection.offsetTop - 50;\r\n  const sectionId = currentSection.getAttribute(\"id\");\r\n  const sectionHeight = currentSection.height;\r\n  const isActive =\r\n    scrollY > sectionTop && scrollY <= sectionTop + sectionHeight;\r\n  const navLink = document.querySelector(`.nav__menu a[href*=\"${sectionId}\"]`);\r\n  navLink?.classList?.toggle(\"active-link\", isActive);\r\n}\r\n\r\nfunction scrollActive(event) {\r\n  sections.forEach((section) => {\r\n    toggleActive(section);\r\n  });\r\n}\r\n\r\nfunction scrollHeader(event) {\r\n  const header = document.getElementById(\"header\");\r\n  if (!header) return false;\r\n  header.classList.toggle(\"scroll-header\", window.scrollY >= 80);\r\n}\r\n\r\n// function toggleTheme(event) {\r\n//   console.log(event.target.checked);\r\n//   document\r\n//     .querySelector(\"body\")\r\n//     .classList.toggle(\"dark-theme\", event.target.checked);\r\n// }\r\n\r\nfunction updateProgressBar(event) {\r\n  const progressBar = document.querySelector(\".progress__bar\");\r\n  const winScroll =\r\n    document.body.scrollTop || document.documentElement.scrollTop;\r\n  const height =\r\n    document.documentElement.scrollHeight -\r\n    document.documentElement.clientHeight;\r\n  const scrolled = (winScroll / height) * 100;\r\n  if (progressBar) progressBar.style.width = scrolled + \"%\";\r\n}\r\n\r\nwindow.addEventListener(\"scroll\", scrollActive);\r\nwindow.addEventListener(\"scroll\", scrollHeader);\r\nwindow.addEventListener(\"scroll\", updateProgressBar);\r\n// themeToggler.addEventListener(\"change\", toggleTheme);\r\n","// import CookiesService from \"./cookie.service\";\r\nconst TOKEN_KEY = \"token\";\r\n\r\nclass TokenService {\r\n  getLocalRefreshToken() {\r\n    const token = JSON.parse(localStorage.getItem(TOKEN_KEY) ?? \"{}\");\r\n    // const token = JSON.parse(CookiesService.getCookie(TOKEN_KEY) ?? \"{}\");\r\n    return token?.refresh;\r\n  }\r\n\r\n  getLocalAccessToken() {\r\n    const token = JSON.parse(localStorage.getItem(TOKEN_KEY) ?? \"{}\");\r\n    // const token = JSON.parse(CookiesService.getCookie(TOKEN_KEY) ?? \"{}\");\r\n    return token?.access;\r\n  }\r\n\r\n  // updateLocalAccessToken(token) {\r\n  //   let user = JSON.parse(localStorage.getItem(TOKEN_KEY));\r\n  //   user.accessToken = token.access;\r\n  //   localStorage.setItem(\"user\", JSON.stringify(user));\r\n  // }\r\n\r\n  getAuth() {\r\n    const token = JSON.parse(localStorage.getItem(TOKEN_KEY) ?? \"{}\");\r\n    // const token = JSON.parse(CookiesService.getCookie(TOKEN_KEY) ?? \"{}\");\r\n    return token;\r\n  }\r\n\r\n  setAuth(AuthObject) {\r\n    // const existingAuth = JSON.parse(\r\n    //   CookiesService.getCookie(TOKEN_KEY) ?? \"{}\"\r\n    // );\r\n    // const newAuth = { ...existingAuth, ...AuthObject };\r\n    // CookiesService.setCookie(TOKEN_KEY, JSON.stringify(newAuth));\r\n    localStorage.setItem(TOKEN_KEY, JSON.stringify(AuthObject));\r\n  }\r\n\r\n  removeAuth() {\r\n    // CookiesService.deleteCookie(TOKEN_KEY);\r\n    localStorage.removeItem(TOKEN_KEY);\r\n  }\r\n}\r\n\r\nexport default new TokenService();\r\n","import axios from \"axios\";\r\nimport TokenService from \"./token.service\";\r\nimport AuthService from \"./auth.service\";\r\n\r\nexport const API_URL = \"http://127.0.0.1:8000/\";\r\n\r\nconst apiEndpoints = {\r\n  register: \"api/register/\",\r\n  token: \"api/token/\",\r\n  refreshToken: \"api/token/refresh/\",\r\n  userProfile: \"api/user_profile/\",\r\n  changePassword: \"api/change_password/\",\r\n  resetPassword: \"api/reset_password/\",\r\n  resetPasswordConfirm: \"api/reset_password_confirm/\",\r\n  csrftoken: \"api/get_csrf_token/\",\r\n  templates: \"templates/\",\r\n  resume: \"resume/\",\r\n  users: \"users/\",\r\n  permission: \"permission/\",\r\n  view: \"view/\",\r\n  sharedResume: \"shared_resume/\"\r\n};\r\n\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n  defaults: {\r\n    xsrfCookieName: \"csrftoken\",\r\n    xsrfHeaderName: \"X-CSRFToken\",\r\n  },\r\n});\r\n\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const accessToken = TokenService.getLocalAccessToken();\r\n    config.headers[\"Authorization\"] = \"Bearer \" + String(accessToken);\r\n    return config;\r\n  },\r\n\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n\r\n  async (error) => {\r\n    const originalConfig = error.config ?? {};\r\n\r\n    if (originalConfig.url === \"/login\" || !error.response) {\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    if (error.response.status === 401 && !originalConfig._retry) {\r\n      originalConfig._retry = true;\r\n      const refreshToken = TokenService.getLocalRefreshToken();\r\n      try {\r\n        const newResponse = await axios.post(\r\n          API_URL + apiEndpoints.refreshToken,\r\n          {\r\n            refresh: refreshToken,\r\n          }\r\n        );\r\n        const authObject = newResponse.data;\r\n        TokenService.setAuth(authObject);\r\n      } catch (exception) {\r\n        AuthService.logout();\r\n      }\r\n\r\n      return api(originalConfig);\r\n    }\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\napi.endpoints = apiEndpoints;\r\n\r\nexport default api;\r\n","class CookiesService {\r\n  setCookie(name, value, seconds = null) {\r\n    let expires = \"\";\r\n    if (seconds) {\r\n      const date = new Date();\r\n      date.setTime(date.getTime() + seconds * 1000);\r\n      expires = \"; expires=\" + date.toUTCString();\r\n    }\r\n    const cookieValue = name + \"=\" + (value ?? \"\") + expires + \"; path=/\";\r\n    document.cookie = cookieValue;\r\n  }\r\n\r\n  getCookie(name) {\r\n    var cookieValue = null;\r\n    if (document.cookie && document.cookie !== \"\") {\r\n      var cookies = document.cookie.split(\";\");\r\n      for (var i = 0; i < cookies.length; i++) {\r\n        var cookie = cookies[i].trim();\r\n        if (cookie.substring(0, name.length + 1) === name + \"=\") {\r\n          cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return cookieValue;\r\n  }\r\n\r\n  getCookieNames() {\r\n    let cookies = document.cookie;\r\n    return cookies.split(\";\").map((cookie) => cookie.trim().split(\"=\")[0]);\r\n  }\r\n\r\n  deleteCookie(name, path = \"/\") {\r\n    document.cookie =\r\n      name + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=\" + path;\r\n  }\r\n}\r\n\r\nexport default new CookiesService();\r\n\r\n//   getCookie(name) {\r\n//     let nameEQ = name + \"=\";\r\n//     const cookies = document.cookie.split(\";\");\r\n//     let targetCookie = null;\r\n\r\n//     cookies.forEach((cookie) => {\r\n//       cookie = cookie.trim();\r\n//       if (cookie.indexOf(nameEQ) === 0) {\r\n//         targetCookie = cookie.substring(nameEQ.length, cookie.length);\r\n//         return targetCookie;\r\n//       }\r\n//     });\r\n\r\n//     return targetCookie;\r\n//   }\r\n","export function snakeToCamel(snakeCase) {\r\n  const textArray = snakeCase.split(\"_\").map((value, index) => {\r\n    if (index === 0) return value;\r\n    return value.charAt(0).toUpperCase() + value.slice(1);\r\n  });\r\n  return textArray.join(\"\");\r\n}\r\n\r\nexport function camelToSnake(camelCase) {\r\n  return camelCase.replace(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`);\r\n}\r\n\r\nexport function snakeToCamelObject(obj) {\r\n  const newObj = {};\r\n  Object.entries(obj).forEach((item) => {\r\n    const [key, value] = item;\r\n    const newKey = snakeToCamel(key);\r\n    newObj[newKey] = value;\r\n  });\r\n\r\n  return newObj;\r\n}\r\n\r\nexport function camelToSnakeObject(obj) {\r\n  const newObj = {};\r\n  Object.entries(obj).forEach((item) => {\r\n    const [key, value] = item;\r\n    const newKey = camelToSnake(key);\r\n    newObj[newKey] = value;\r\n  });\r\n  return newObj;\r\n}\r\n\r\nexport function flattenObject(obj) {\r\n  const flattened = {};\r\n\r\n  Object.keys(obj).forEach((key) => {\r\n    if (typeof obj[key] === \"object\" && obj[key] !== null) {\r\n      Object.assign(flattened, flattenObject(obj[key]));\r\n    } else {\r\n      flattened[key] = obj[key];\r\n    }\r\n  });\r\n\r\n  return flattened;\r\n}\r\n\r\nexport function objectToArray(obj, includeKey = false) {\r\n  let flattenArray = [...Object.entries(obj)].map((item) => {\r\n    const [field, innerObj] = item;\r\n    if (innerObj[\"type\"] !== \"server\") return null;\r\n    let value = innerObj[\"message\"];\r\n    if (Array.isArray(value)) value = value.join(\", \");\r\n    if (includeKey) return field + \": \" + value;\r\n    return value;\r\n  });\r\n  flattenArray = flattenArray.filter((item) => item !== null);\r\n  return flattenArray;\r\n}\r\n\r\nexport function toTitleCase(txt) {\r\n  return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\r\n}\r\n","import axios from \"axios\";\r\nimport api from \"./api\";\r\nimport TokenService from \"./token.service\";\r\nimport CookiesService from \"./cookie.service\";\r\nimport { camelToSnakeObject } from \"../utils/caseConversion\";\r\n\r\nclass AuthService {\r\n  async login(data) {\r\n    data[\"username\"] = data[\"email\"];\r\n\r\n    const URL = api.defaults.baseURL + api.endpoints[\"token\"];\r\n\r\n    const csrftoken = CookiesService.getCookie(\"csrftoken\");\r\n\r\n    const config = {\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"X-CSRFToken\": csrftoken,\r\n      },\r\n      mode: \"same-origin\",\r\n    };\r\n\r\n    const loginResponse = await axios.post(URL, data, config);\r\n    const authObject = loginResponse?.data;\r\n    return authObject;\r\n  }\r\n\r\n  logout() {\r\n    this.cleanUp();\r\n  }\r\n\r\n  async signUp(payload) {\r\n    const params = new URLSearchParams();\r\n\r\n    payload = camelToSnakeObject(payload);\r\n\r\n    for (let [key, value] of Object.entries(payload)) {\r\n      params.append(key, value);\r\n    }\r\n    const csrftoken = CookiesService.getCookie(\"csrftoken\");\r\n\r\n    const config = {\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        \"X-CSRFToken\": csrftoken,\r\n      },\r\n    };\r\n\r\n    const registerResponse = await axios.post(\r\n      api.defaults.baseURL + api.endpoints.register,\r\n      params,\r\n      config\r\n    );\r\n\r\n    return registerResponse;\r\n  }\r\n\r\n  CSRFToken() {\r\n    let csrftoken = CookiesService.getCookie(\"csrftoken\");\r\n    if (!csrftoken) {\r\n      const URL = api.defaults.baseURL + api.endpoints[\"csrftoken\"];\r\n      axios.get(URL).then((response) => {\r\n        csrftoken = response.data[\"csrftoken\"];\r\n        CookiesService.setCookie(\"csrftoken\", csrftoken, 5 * 60);\r\n      });\r\n    }\r\n\r\n    if (!csrftoken) return null;\r\n    return <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />;\r\n  }\r\n\r\n  isAuthenticated() {\r\n    const authenticated = !!TokenService.getAuth()?.access;\r\n    return authenticated;\r\n  }\r\n\r\n  cleanUp() {\r\n    TokenService.removeAuth();\r\n    const names = [\"csrftoken\", \"userprofile\", \"token\"];\r\n    names.forEach((name) => CookiesService.deleteCookie(name));\r\n    localStorage.removeItem(\"userprofile\");\r\n  }\r\n}\r\n\r\nexport default new AuthService();\r\n","import api from \"./api\";\r\nimport {\r\n  snakeToCamelObject,\r\n  camelToSnakeObject,\r\n} from \"../utils/caseConversion\";\r\nimport axios from \"axios\";\r\n\r\nclass ProfileService {\r\n  getUserProfile = async () => {\r\n    const response = await api.get(api.endpoints.userProfile);\r\n    const userProfile = snakeToCamelObject(response.data) ?? {\r\n      fullName: \"Profile Service\",\r\n      profilePicture: \"images/profile/\",\r\n    };\r\n    return userProfile;\r\n  };\r\n\r\n  updateUserProfile = async (data) => {\r\n    let { profilePicture, ...dataWithoutFileField } = data;\r\n    const snakeData = camelToSnakeObject(dataWithoutFileField);\r\n    const response = await api.put(api.endpoints.userProfile, snakeData);\r\n    console.log(\"Update user profile data:\", response);\r\n    let camelData = response.data ?? {};\r\n    camelData = { ...camelData, ...data };\r\n    return camelData;\r\n  };\r\n\r\n  updateProfilePicture = async (event) => {\r\n    const inputElem = event.target;\r\n    const imageFile = inputElem.files[0];\r\n    const formData = new FormData();\r\n    formData.append(\"profile_picture\", imageFile);\r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    };\r\n\r\n    const response = await api.patch(\r\n      api.endpoints.userProfile,\r\n      formData,\r\n      config\r\n    );\r\n\r\n    const snakeData = snakeToCamelObject(response.data ?? {});\r\n    console.log(\"Data in updateProfilePicture:\", snakeData);\r\n    return snakeData;\r\n  };\r\n\r\n  deleteProfilePicture = async (event) => {\r\n    const response = await api.delete(api.endpoints.userProfile);\r\n    const camelData = snakeToCamelObject(response.data ?? {});\r\n    console.log(\"Data in deleteProfilePicture:\", camelData);\r\n    return camelData;\r\n  };\r\n\r\n  resetPassword = (data) => {\r\n    const formData = new FormData();\r\n    Object.entries(data).forEach((item) => {\r\n      const [key, value] = item;\r\n      formData.append(key, value);\r\n    });\r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    };\r\n\r\n    const response = axios.post(\r\n      api.defaults.baseURL + api.endpoints.resetPassword,\r\n      formData,\r\n      config\r\n    );\r\n\r\n    return response;\r\n  };\r\n\r\n  changePassword = async (data) => {\r\n    const snakeData = camelToSnakeObject(data);\r\n    const response = await api.put(api.endpoints.changePassword, snakeData);\r\n    return response;\r\n  };\r\n\r\n  resetPasswordConfirm = async (data) => {\r\n    const snakeData = camelToSnakeObject(data);\r\n    const response = await axios.post(\r\n      api.defaults.baseURL + api.endpoints.resetPasswordConfirm,\r\n      snakeData\r\n    );\r\n    return response;\r\n  };\r\n\r\n  getUsers = async () => {\r\n    const response = await api.get(api.endpoints.users);\r\n    return response.data;\r\n  };\r\n}\r\n\r\nexport default new ProfileService();\r\n","import { useState } from \"react\";\r\n\r\nfunction useLocalStorage(key, initialValue) {\r\n  // State to store our value\r\n  // Pass initial state function to useState so logic is only executed once\r\n  const [storedValue, setStoredValue] = useState(() => {\r\n    try {\r\n      // Get from local storage by key\r\n      const item = window.localStorage.getItem(key);\r\n      // Parse stored json or if none return initialValue\r\n      const value = item ? JSON.parse(item) : initialValue;\r\n      // console.log(\"Return storage value:\", value);\r\n      return value;\r\n    } catch (error) {\r\n      // If error also return initialValue\r\n      console.log(\"Error setup localstorage: \", error);\r\n      return initialValue;\r\n    }\r\n  });\r\n  // Return a wrapped version of useState's setter function that ...\r\n  // ... persists the new value to localStorage.\r\n  const setValue = (value) => {\r\n    try {\r\n      // Allow value to be a function so we have same API as useState\r\n      const valueToStore =\r\n        value instanceof Function ? value(storedValue) : value;\r\n      // Save state\r\n      setStoredValue(valueToStore);\r\n      // console.log(\"Set local storage value:\", valueToStore);\r\n      // Save to local storage\r\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\r\n    } catch (error) {\r\n      // A more advanced implementation would handle the error case\r\n      console.log(\"Error set stored value:\", error);\r\n    }\r\n  };\r\n  return [storedValue, setValue];\r\n}\r\n\r\nexport default useLocalStorage;\r\n","import { createContext, useState, useEffect } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport TokenService from \"../services/token.service\";\r\nimport ProfileService from \"../services/profile.service\";\r\nimport api from \"../services/api\";\r\nimport { snakeToCamelObject } from \"../utils/caseConversion\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\n\r\nconst AuthContext = createContext();\r\n\r\nfunction AuthProvider({ children }) {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const defaultProfile = JSON.parse(\r\n    localStorage.getItem(\"userprofile\") ?? \"{}\"\r\n  );\r\n  const [userProfile, setUserProfile] = useLocalStorage(\r\n    \"userprofile\",\r\n    defaultProfile\r\n  );\r\n  const defaultAuth = AuthService.isAuthenticated();\r\n  const [isAuthenticated, setIsAuthenticated] = useState(defaultAuth);\r\n\r\n  useEffect(() => {\r\n    async function getUserProfile() {\r\n      const profile = await ProfileService.getUserProfile();\r\n      setUserProfile((prev) => ({ ...prev, ...profile }));\r\n    }\r\n\r\n    if (Object.keys(userProfile ?? {}).length === 0) {\r\n      getUserProfile();\r\n    }\r\n    return () => {};\r\n  });\r\n\r\n  async function loginUser(data) {\r\n    const authObject = await AuthService.login(data);\r\n    const notEmpty = Object.keys(authObject).length > 0;\r\n\r\n    const isAuthenticated = !!authObject && notEmpty;\r\n    setIsAuthenticated(isAuthenticated);\r\n\r\n    if (!isAuthenticated) {\r\n      console.log(\"Not authenticated, clean up and redirect to login page.\");\r\n      AuthService.cleanUp();\r\n      history.push(\"/login\");\r\n      return authObject;\r\n    }\r\n\r\n    // Update authentication\r\n    TokenService.setAuth(authObject);\r\n    const response = await api.get(api.endpoints[\"userProfile\"]);\r\n    let userProfile = snakeToCamelObject(response.data);\r\n    setUserProfile(userProfile);\r\n    return authObject;\r\n  }\r\n\r\n  async function logoutUser(data) {\r\n    await AuthService.logout();\r\n    setIsAuthenticated(false);\r\n    AuthService.cleanUp();\r\n    history.push(\"/login\");\r\n  }\r\n\r\n  const contextData = {\r\n    userProfile,\r\n    setUserProfile,\r\n    history,\r\n    location,\r\n    isAuthenticated,\r\n    loginUser,\r\n    logoutUser,\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={contextData}>{children}</AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport { AuthContext, AuthProvider };\r\n","import { Route, Redirect } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\n\r\nfunction PrivateRoute({ component: Component, ...rest }) {\r\n  const { isAuthenticated } = useContext(AuthContext);\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuthenticated ? (\r\n          <Component {...props} {...rest} />\r\n        ) : (\r\n          <Redirect to=\"/login\" />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import {\r\n  TextField,\r\n  InputAdornment,\r\n  FormLabel,\r\n  FormControl,\r\n  IconButton,\r\n} from \"@mui/material\";\r\n\r\nimport Visibility from \"@mui/icons-material/Visibility\";\r\nimport VisibilityOff from \"@mui/icons-material/VisibilityOff\";\r\nimport { useState } from \"react\";\r\n\r\nconst inputStyle = {\r\n  padding: 5,\r\n};\r\n\r\nconst labelStyle = {\r\n  fontWeight: \"700\",\r\n  marginBottom: \"5px\",\r\n  display: \"block\",\r\n};\r\n\r\nfunction PasswordEye(props) {\r\n  const { showPassword, setShowPassword } = props;\r\n  const toggleShowPassword = (event) => setShowPassword(!showPassword);\r\n\r\n  return (\r\n    <InputAdornment position=\"end\">\r\n      <IconButton\r\n        aria-label=\"toggle password visibility\"\r\n        onClick={toggleShowPassword}\r\n        edge=\"end\"\r\n        sx={{ color: (theme) => theme.palette.secondary.contrastText }}\r\n      >\r\n        {showPassword ? <Visibility /> : <VisibilityOff />}\r\n      </IconButton>\r\n    </InputAdornment>\r\n  );\r\n}\r\n\r\nfunction Input(props) {\r\n  const defaultProps = {\r\n    variant: \"outlined\",\r\n    size: \"medium\",\r\n    color: \"primary\",\r\n    label: \"\",\r\n    name: \"\",\r\n    focus: \"false\",\r\n    type: \"text\",\r\n  };\r\n\r\n  props = { ...defaultProps, ...props };\r\n  const { label, required, focus, adornments, type, ...rest } = props;\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const passwordProp = { showPassword, setShowPassword };\r\n\r\n  return (\r\n    <FormControl>\r\n      <FormLabel\r\n        sx={labelStyle}\r\n        children={label}\r\n        filled={true}\r\n        required={required}\r\n        focus={focus}\r\n      />\r\n      <TextField\r\n        {...rest}\r\n        type={showPassword ? \"text\" : type}\r\n        inputProps={{\r\n          style: inputStyle,\r\n        }}\r\n        InputProps={{\r\n          endAdornment: adornments ? <PasswordEye {...passwordProp} /> : null,\r\n        }}\r\n      />\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","import {\r\n  FormControl,\r\n  InputLabel,\r\n  Select as MuiSelect,\r\n  MenuItem,\r\n  FormHelperText,\r\n} from \"@mui/material\";\r\n\r\nfunction Select(props) {\r\n  let { name, label, value, error = null, onChange, options } = props;\r\n\r\n  options = [{ id: \"default\", value: \"\", title: \"None\" }].concat(options);\r\n\r\n  return (\r\n    <FormControl variant=\"outlined\" {...(error && { error: true })}>\r\n      <InputLabel>{label}</InputLabel>\r\n      <MuiSelect label={label} name={name} value={value} onChange={onChange}>\r\n        {options.map((item) => (\r\n          <MenuItem key={item.id} value={item.value}>\r\n            {item.title}\r\n          </MenuItem>\r\n        ))}\r\n      </MuiSelect>\r\n\r\n      {error && <FormHelperText>{error}</FormHelperText>}\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nexport default Select;\r\n","import {\r\n  FormControl,\r\n  FormControlLabel,\r\n  Checkbox as MuiCheckbox,\r\n} from \"@mui/material\";\r\n\r\nfunction Checkbox(props) {\r\n  const defaultProps = { color: \"primary\", checked: false };\r\n  props = { ...defaultProps, ...props };\r\n\r\n  return (\r\n    <FormControl>\r\n      <FormControlLabel\r\n        control={<MuiCheckbox {...props} />}\r\n        label={props.label}\r\n      />\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nexport default Checkbox;\r\n","import {\r\n  FormControl,\r\n  FormLabel,\r\n  RadioGroup as MuiRadioGroup,\r\n  FormControlLabel,\r\n  Radio,\r\n  FormHelperText,\r\n} from \"@mui/material\";\r\n\r\nconst labelStyle = {\r\n  fontWeight: \"400\",\r\n};\r\n\r\nfunction RadioGroup(props) {\r\n  const defaultProps = {\r\n    items: {},\r\n    value: \"\",\r\n    label: \"\",\r\n  };\r\n  props = { ...defaultProps, ...props };\r\n  const { helperText, error, label, ...rest } = props;\r\n\r\n  return (\r\n    <FormControl error={error}>\r\n      <FormLabel sx={labelStyle}>{label}</FormLabel>\r\n      <MuiRadioGroup row {...rest}>\r\n        {props.items.map((item) => (\r\n          <FormControlLabel\r\n            key={item.id}\r\n            value={item.id}\r\n            label={item.title}\r\n            control={<Radio />}\r\n          />\r\n        ))}\r\n      </MuiRadioGroup>\r\n      {props.error ? <FormHelperText>{helperText}</FormHelperText> : null}\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nexport default RadioGroup;\r\n","import { Button as MuiButton } from \"@mui/material\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst StyledButton = styled(MuiButton, { name: \"controlButton\", slot: \"root\" })(\r\n  ({ theme }) => ({\r\n    padding: theme.spacing(1.25, 3),\r\n    boxShadow: theme.shadows[1],\r\n    textTransform: \"none\",\r\n\r\n    \"&:hover\": {\r\n      background: theme.palette.primary.hover,\r\n      color: theme.palette.primary.contrastText,\r\n    },\r\n  })\r\n);\r\n\r\nexport const buttonStyle = {\r\n  boxShadow: (theme) => theme.shadows[7],\r\n\r\n  background: (theme) =>\r\n    `linear-gradient(45deg, ${theme.palette.primary.main} 30%, ${theme.palette.secondary.main} 90%)`,\r\n\r\n  \"&:hover\": {\r\n    background: (theme) =>\r\n      `linear-gradient(45deg, ${theme.palette.secondary.hover} 20%, ${theme.palette.primary.hover} 90%)`,\r\n  },\r\n\r\n  padding: (theme) => theme.spacing(1.5, 2.5),\r\n  width: \"100%\",\r\n};\r\n\r\nfunction Button(props) {\r\n  const defaultProps = {\r\n    children: \"\",\r\n    size: \"large\",\r\n    color: \"primary\",\r\n    variant: \"contained\",\r\n  };\r\n\r\n  props = { ...defaultProps, ...props };\r\n  return <StyledButton {...props} />;\r\n}\r\n\r\nexport default Button;\r\n","import {\r\n  Alert as MuiAlert,\r\n  AlertTitle,\r\n  Box,\r\n  Collapse,\r\n  IconButton,\r\n} from \"@mui/material\";\r\nimport { Close } from \"@mui/icons-material\";\r\n\r\nimport { useState } from \"react\";\r\n\r\nfunction CloseIcon(props) {\r\n  return (\r\n    <IconButton\r\n      aria-label=\"close\"\r\n      color=\"inherit\"\r\n      size=\"small\"\r\n      onClick={props.closeBox}\r\n    >\r\n      <Close fontSize=\"inherit\" />\r\n    </IconButton>\r\n  );\r\n}\r\nexport default function Alert(props) {\r\n  const {\r\n    title = \"Operation Success\",\r\n    message = \"Success.\",\r\n    variant = \"filled\",\r\n    severity = \"success\",\r\n    showDefault = false,\r\n  } = props;\r\n\r\n  const [showBox, setShowBox] = useState(showDefault);\r\n  const closeBox = () => {\r\n    setShowBox(false);\r\n  };\r\n\r\n  const alertStyle = {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignContent: \"center\",\r\n    position: \"absolute\",\r\n    zIndex: 1,\r\n  };\r\n\r\n  return (\r\n    <Box sx={alertStyle}>\r\n      <Collapse in={showBox}>\r\n        <MuiAlert\r\n          variant={variant}\r\n          severity={severity}\r\n          action={<CloseIcon closeBox={closeBox} />}\r\n        >\r\n          <AlertTitle>{title}</AlertTitle>\r\n          {message}\r\n        </MuiAlert>\r\n      </Collapse>\r\n    </Box>\r\n  );\r\n}\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport { FormProvider, useForm } from \"react-hook-form\";\r\nimport Alert from \"./Alert\";\r\nimport { objectToArray, snakeToCamelObject } from \"../../utils/caseConversion\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst FormContainer = styled(\"div\", { name: \"FormContainer\", slot: \"root\" })(\r\n  ({ theme }) => ({\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    spacing: 0,\r\n    padding: 0,\r\n    margin: 0,\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: \"none\",\r\n  })\r\n);\r\n\r\nconst ResizedForm = styled(\"form\", { name: \"ResizedForm\" })(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.paper,\r\n  color: theme.palette.text.primary,\r\n  padding: theme.spacing(4, 8),\r\n  margin: theme.spacing(3, 0),\r\n  boxShadow: `0px 2px 2px 0px ${theme.palette.text.secondary}, \r\n\t0px 3px 1px -2px ${theme.palette.text.secondary}, \r\n\t0px 1px 5px 0px ${theme.palette.text.secondary}`,\r\n  width: \"100%\",\r\n}));\r\n\r\nfunction Form(props) {\r\n  const { history } = useContext(AuthContext);\r\n\r\n  let {\r\n    children,\r\n    defaultValues,\r\n    setDefaultValues,\r\n    onSubmit,\r\n    validator,\r\n    redirectOnSuccess,\r\n    successMessage = \"Success.\",\r\n    ...other\r\n  } = props;\r\n\r\n  const methods = useForm({\r\n    defaultValues,\r\n    mode: \"onChange\",\r\n    reValidateMode: \"onChange\",\r\n    ...validator,\r\n  });\r\n\r\n  const {\r\n    handleSubmit,\r\n    reset,\r\n    setError,\r\n    formState: { errors },\r\n  } = methods;\r\n\r\n  const [isSuccess, setIsSuccess] = useState(false);\r\n  const onSuccess = (data, event) => {\r\n    const response = onSubmit(data);\r\n    response\r\n      .then((data) => {\r\n        setIsSuccess(true);\r\n        if (redirectOnSuccess) {\r\n          setTimeout(() => {\r\n            setIsSuccess(false);\r\n            history.push(redirectOnSuccess);\r\n          }, 1000);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        setIsSuccess(false);\r\n        const errors = error?.response?.data;\r\n        const camelErrors = snakeToCamelObject(errors);\r\n        Object.entries(camelErrors).forEach((error) => {\r\n          const [name, message] = error;\r\n          console.log(\"Error:\", name, message);\r\n          setError(name, { type: \"server\", message });\r\n        });\r\n      });\r\n\r\n    return response;\r\n  };\r\n\r\n  const onFailure = (errors, event) => {\r\n    [...Object.entries(errors)].forEach((error) => {\r\n      const [name, message] = error;\r\n      setError(name, message);\r\n    });\r\n  };\r\n\r\n  const submitForm = (event) => {\r\n    event.preventDefault();\r\n    return handleSubmit(onSuccess, onFailure)(event);\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function updateValue() {\r\n      let newDefaultValues = await setDefaultValues();\r\n      newDefaultValues = snakeToCamelObject(newDefaultValues);\r\n      reset(newDefaultValues);\r\n    }\r\n    if (setDefaultValues !== undefined) updateValue();\r\n    function disappearAlert() {\r\n      setTimeout(() => {\r\n        setIsSuccess(false);\r\n      }, 5 * 1000);\r\n    }\r\n    if (isSuccess) disappearAlert();\r\n    return () => clearTimeout(disappearAlert);\r\n  }, [reset, setDefaultValues, isSuccess]);\r\n\r\n  return (\r\n    <FormContainer variant=\"elevation\" elevation={7}>\r\n      {objectToArray(errors, false).length > 0 ? (\r\n        <Alert\r\n          severity=\"error\"\r\n          showDefault={true}\r\n          title=\"Error\"\r\n          message={objectToArray(errors, false).join(\"\\n\")}\r\n        />\r\n      ) : null}\r\n\r\n      <ResizedForm onSubmit={submitForm} autoComplete=\"off\" {...other}>\r\n        <FormProvider {...methods}>{children}</FormProvider>\r\n      </ResizedForm>\r\n\r\n      {isSuccess ? <Alert message={successMessage} showDefault={true} /> : null}\r\n    </FormContainer>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n","import { Controller } from \"react-hook-form\";\r\n\r\nfunction CustomForm(props) {\r\n  const {\r\n    name,\r\n    control,\r\n    defaultValue = \"\",\r\n    rules,\r\n    validate,\r\n    Component,\r\n    label,\r\n    value,\r\n    ...rest\r\n  } = props;\r\n\r\n  return (\r\n    <Controller\r\n      name={name}\r\n      control={control}\r\n      defaultValue={defaultValue}\r\n      rules={rules}\r\n      render={({\r\n        field: { onChange, onBlur, value, name },\r\n        fieldState: { invalid, isTouched, isDirty, error },\r\n      }) => (\r\n        <Component\r\n          {...{\r\n            ...rest,\r\n            onChange,\r\n            onBlur,\r\n            error: !!error,\r\n            value,\r\n            label,\r\n            name,\r\n            helperText: error ? error.message : null,\r\n          }}\r\n        />\r\n      )}\r\n    />\r\n  );\r\n}\r\n\r\nfunction withCustomForm(Component) {\r\n  return (props) => {\r\n    props = { ...props, Component };\r\n    return <CustomForm {...props} />;\r\n  };\r\n}\r\n\r\nexport default withCustomForm;\r\n","import Input from \"./Input\";\r\nimport Select from \"./Select\";\r\nimport Checkbox from \"./Checkbox\";\r\nimport RadioGroup from \"./RadioGroup\";\r\nimport Button from \"./Button\";\r\nimport Form from \"./Form\";\r\nimport withCustomForm from \"../../hooks/useCustomForm\";\r\nimport { buttonStyle } from \"./Button\";\r\n\r\nconst Control = {\r\n  Input: withCustomForm(Input),\r\n  Select: withCustomForm(Select),\r\n  Checkbox: withCustomForm(Checkbox),\r\n  RadioGroup: withCustomForm(RadioGroup),\r\n  Button,\r\n  Form,\r\n  buttonStyle,\r\n};\r\n\r\nexport default Control;\r\n","import { styled } from \"@mui/system\";\r\n\r\nconst CenteredContainer = styled(\"div\", {\r\n  name: \"centeredContainer\",\r\n  slot: \"root\",\r\n})(({ theme }) => ({\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\",\r\n  spacing: 0,\r\n  margin: 0,\r\n  minHeight: \"100vh\",\r\n  rowGap: theme.spacing(1),\r\n}));\r\n\r\nexport default CenteredContainer;\r\n","import { purple, grey, indigo, yellow, red } from \"@mui/material/colors\";\r\nimport { ThemeProvider, createTheme } from \"@mui/material/styles\";\r\nimport { useMemo, createContext } from \"react\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\n\r\nexport const ColorModeContext = createContext({ toggleColorMode: () => {} });\r\n\r\nconst baseTheme = {\r\n  palette: {\r\n    common: {\r\n      black: \"#000\",\r\n      white: \"#fff\",\r\n    },\r\n\r\n    background: {\r\n      paper: \"#fff\",\r\n      default: \"#fff\",\r\n    },\r\n  },\r\n\r\n  typography: {\r\n    fontFamily: [\r\n      \"Roboto\",\r\n      \"-apple-system\",\r\n      \"BlinkMacSystemFont\",\r\n      '\"Segoe UI\"',\r\n      '\"Helvetica Neue\"',\r\n      \"Arial\",\r\n      \"sans-serif\",\r\n      '\"Apple Color Emoji\"',\r\n      '\"Segoe UI Emoji\"',\r\n      '\"Segoe UI Symbol\"',\r\n    ].join(\",\"),\r\n\r\n    fontWeightLight: 400,\r\n    fontWeightRegular: 500,\r\n    fontWeightMedium: 600,\r\n    fontWeightBold: 700,\r\n  },\r\n\r\n  breakpoints: {\r\n    xs: 0,\r\n    sm: 600,\r\n    md: 900,\r\n    lg: 1200,\r\n    xl: 1536,\r\n  },\r\n\r\n  components: {\r\n    MuiButton: {\r\n      styleOverrides: {\r\n        root: {\r\n          textTransform: \"none\",\r\n        },\r\n      },\r\n    },\r\n\r\n    MuiTypography: {\r\n      variant: [\r\n        {\r\n          props: { variant: \"description\" },\r\n          style: {\r\n            color: grey[200],\r\n            fontWeight: 300,\r\n            textShadow: \"2px 2px black\",\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  },\r\n\r\n  transitions: {\r\n    duration: {\r\n      shortest: 150,\r\n      shorter: 200,\r\n      short: 250,\r\n      // most basic recommended timing\r\n      standard: 300,\r\n      // this is to be used in complex animations\r\n      complex: 375,\r\n      // recommended when something is entering screen\r\n      enteringScreen: 225,\r\n      // recommended when something is leaving screen\r\n      leavingScreen: 195,\r\n    },\r\n  },\r\n};\r\n\r\nconst lightTheme = {\r\n  palette: {\r\n    mode: \"light\",\r\n\r\n    primary: {\r\n      main: purple[700],\r\n      contrastText: grey[200],\r\n      hover: purple[900],\r\n      table: purple[\"A700\"],\r\n    },\r\n\r\n    secondary: {\r\n      main: indigo[700],\r\n      hover: indigo[100],\r\n      contrastText: grey[700],\r\n      table: indigo[300],\r\n    },\r\n\r\n    toggleIcon: {\r\n      main: red[400],\r\n      hover: grey[450],\r\n    },\r\n\r\n    text: {\r\n      primary: \"rgba(0,0,0,0.87)\",\r\n      secondary: \"rgba(0,0,0,0.6)\",\r\n      disabled: \"rgba(0,0,0,0.38)\",\r\n      icon: \"rgba(0,0,0,0.12)\",\r\n    },\r\n\r\n    background: {\r\n      table: grey[200],\r\n      paper: \"#fff\",\r\n      default: \"#fff\",\r\n    },\r\n\r\n    divider: \"rgba(0,0,0,0.12)\",\r\n  },\r\n};\r\n\r\nconst darkTheme = {\r\n  palette: {\r\n    mode: \"dark\",\r\n    primary: {\r\n      main: purple[800],\r\n      hover: purple[\"A700\"],\r\n      contrastText: purple[50],\r\n      table: purple[900],\r\n    },\r\n\r\n    secondary: {\r\n      main: indigo[800],\r\n      hover: indigo[200],\r\n      table: indigo[\"A100\"],\r\n    },\r\n\r\n    toggleIcon: {\r\n      main: yellow[400],\r\n      hover: grey[450],\r\n    },\r\n\r\n    text: {\r\n      primary: \"#fff\",\r\n      secondary: \"rgba(255, 255, 255, 0.7)\",\r\n      disabled: \"rgba(255, 255, 255, 0.5)\",\r\n      icon: \"rgba(0, 124, 255, 0.12)\",\r\n    },\r\n\r\n    background: {\r\n      table: grey[200],\r\n      paper: \"#121212\",\r\n      default: \"#121212\",\r\n    },\r\n\r\n    divider: grey[\"A100\"],\r\n  },\r\n};\r\n\r\nexport const themes = {\r\n  base: baseTheme,\r\n  light: lightTheme,\r\n  dark: darkTheme,\r\n};\r\n\r\nfunction CustomThemeProvider({ children, startingTheme = \"light\" }) {\r\n  const [mode, setMode] = useLocalStorage(\"theme\", startingTheme);\r\n\r\n  const colorMode = useMemo(\r\n    () => ({\r\n      toggleColorMode: () => {\r\n        setMode((prevMode) => (prevMode === \"light\" ? \"dark\" : \"light\"));\r\n      },\r\n    }),\r\n    [setMode]\r\n  );\r\n\r\n  const theme = useMemo(() => createTheme(themes.base, themes[mode]), [mode]);\r\n\r\n  return (\r\n    <ColorModeContext.Provider value={colorMode}>\r\n      <ThemeProvider theme={theme}>{children}</ThemeProvider>\r\n    </ColorModeContext.Provider>\r\n  );\r\n}\r\n\r\nexport default CustomThemeProvider;\r\n","import { Brightness4, Brightness7 } from \"@material-ui/icons\";\r\nimport { ColorModeContext } from \"../../contexts/ThemeContext\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport { useContext } from \"react\";\r\nimport { Tooltip, IconButton } from \"@mui/material\";\r\n\r\nimport { styled } from \"@mui/system\";\r\n\r\nexport function ThemeTogglerIcon() {\r\n  const theme = useTheme();\r\n  const colorMode = useContext(ColorModeContext);\r\n  const ToggleIcon = styled(IconButton)(({ theme }) => ({\r\n    color: \"background.default\",\r\n    borderRadius: \"50%\",\r\n    padding: theme.spacing(1),\r\n\r\n    \"& .MuiSvgIcon-root\": {\r\n      fontSize: 2.5 * theme.typography.fontSize,\r\n    },\r\n  }));\r\n\r\n  const SunIcon = styled(Brightness7)(({ theme }) => ({\r\n    color: theme.palette.toggleIcon.main,\r\n  }));\r\n\r\n  const MoonIcon = styled(Brightness4)(({ theme }) => ({\r\n    color: theme.palette.toggleIcon.main,\r\n  }));\r\n\r\n  return (\r\n    <ToggleIcon onClick={colorMode.toggleColorMode}>\r\n      <Tooltip\r\n        arrow\r\n        title={`Switch to ${\r\n          theme.palette.mode === \"dark\" ? \"light\" : \"dark\"\r\n        } mode`}\r\n      >\r\n        {theme.palette.mode === \"light\" ? <SunIcon /> : <MoonIcon />}\r\n      </Tooltip>\r\n    </ToggleIcon>\r\n  );\r\n}\r\n\r\nexport default ThemeTogglerIcon;\r\n","import * as Yup from \"yup\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\n\r\nconst passwordRule = new RegExp(\r\n  /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/\r\n);\r\n\r\nconst emailRule = new RegExp(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/);\r\nconst phoneNumberRule = new RegExp(\r\n  /^[+]?[(]?[0-9]{3}[)]?[-\\s.]?[0-9]{3}[-\\s.]?[0-9]{4,6}$/im\r\n);\r\n\r\nconst profileSchema = Yup.object().shape({\r\n  firstName: Yup.string().required(\"First name required.\"),\r\n  lastName: Yup.string().required(\"Last name required.\"),\r\n  gender: Yup.string().required(\"Gender required.\"),\r\n\r\n  email: Yup.string()\r\n    .required(\"Email required.\")\r\n    .matches(emailRule, \"Please enter a valid email address.\"),\r\n\r\n  phoneNumber: Yup.string().matches(\r\n    phoneNumberRule,\r\n    \"Please enter a valid phone number.\"\r\n  ),\r\n});\r\n\r\nconst loginSchema = Yup.object().shape({\r\n  email: Yup.string()\r\n    .required(\"Email required.\")\r\n    .matches(emailRule, \"Please enter a valid email address.\"),\r\n\r\n  password: Yup.string()\r\n    .required(\"Password required\")\r\n    .min(8, \"Password length should be at least 8 characters\")\r\n    .matches(\r\n      passwordRule,\r\n      \"Password must contains numbers, upper and lower case characters, and symbols.\"\r\n    ),\r\n});\r\n\r\nconst registerSchema = Yup.object().shape({\r\n  email: Yup.string()\r\n    .required(\"Email required.\")\r\n    .matches(emailRule, \"Please enter a valid email address.\"),\r\n\r\n  password: Yup.string()\r\n    .required(\"Password is required.\")\r\n    .min(8, \"Password length should be at least 8 characters\")\r\n    .matches(\r\n      passwordRule,\r\n      \"Password must contains numbers, upper and lower case characters, and symbols.\"\r\n    ),\r\n\r\n  confirmPassword: Yup.string()\r\n    .required(\"Confirm Password is required\")\r\n    .oneOf([Yup.ref(\"password\")], \"Passwords must and should match\"),\r\n\r\n  firstName: Yup.string().required(\"First name required.\"),\r\n  lastName: Yup.string().required(\"Last name required.\"),\r\n});\r\n\r\nconst changePasswordSchema = Yup.object().shape({\r\n  oldPassword: Yup.string()\r\n    .required(\"Password is required.\")\r\n    .min(8, \"Password length should be at least 8 characters\")\r\n    .matches(\r\n      passwordRule,\r\n      \"Password must contains numbers, upper and lower case characters, and symbols.\"\r\n    ),\r\n\r\n  newPassword: Yup.string()\r\n    .required(\"Password is required\")\r\n    .min(8, \"Password length should be at least 8 characters\")\r\n    .matches(\r\n      passwordRule,\r\n      \"Password must contains numbers, upper and lower case characters, and symbols.\"\r\n    ),\r\n\r\n  confirmPassword: Yup.string()\r\n    .required(\"Confirm Password is required\")\r\n    .oneOf([Yup.ref(\"newPassword\")], \"Passwords must and should match\"),\r\n});\r\n\r\nconst resetPasswordSchema = Yup.object().shape({\r\n  email: Yup.string()\r\n    .required(\"Email required\")\r\n    .matches(emailRule, \"Please enter a valid email address.\"),\r\n});\r\n\r\nconst resetPasswordConfirmSchema = Yup.object().shape({\r\n  newPassword: Yup.string()\r\n    .required(\"Password is required\")\r\n    .min(8, \"Password length should be at least 8 characters\")\r\n    .matches(\r\n      passwordRule,\r\n      \"Password must contains numbers, upper and lower case characters, and symbols.\"\r\n    ),\r\n\r\n  confirmPassword: Yup.string()\r\n    .required(\"Confirm Password is required\")\r\n    .oneOf([Yup.ref(\"newPassword\")], \"Passwords must and should match\"),\r\n});\r\n\r\nexport const loginValidator = { resolver: yupResolver(loginSchema) };\r\n\r\nexport const registerValidator = {\r\n  resolver: yupResolver(registerSchema),\r\n};\r\n\r\nexport const profileValidator = { resolver: yupResolver(profileSchema) };\r\n\r\nexport const changePasswordValidator = {\r\n  resolver: yupResolver(changePasswordSchema),\r\n};\r\n\r\nexport const resetPasswordValidator = {\r\n  resolver: yupResolver(resetPasswordSchema),\r\n};\r\n\r\nexport const resetPasswordConfirmValidator = {\r\n  resolver: yupResolver(resetPasswordConfirmSchema),\r\n};\r\n","import { Avatar, Grid, Link, Typography } from \"@mui/material\";\r\n\r\nimport Control from \"../components/controls/Control\";\r\nimport CenteredContainer from \"../components/CenteredContainer\";\r\nimport AccountCircleIcon from \"@mui/icons-material/AccountCircle\";\r\nimport ThemeTogglerIcon from \"../components/Dashboard/ThemeTogglerIcon\";\r\n\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport { loginValidator } from \"../utils/formValidation\";\r\n\r\nfunction LoginPage() {\r\n  const { loginUser } = useContext(AuthContext);\r\n  const CSRFToken = AuthService.CSRFToken;\r\n\r\n  return (\r\n    <CenteredContainer>\r\n      <Typography variant=\"h5\">\r\n        Welcome to Regital Portal <ThemeTogglerIcon />\r\n      </Typography>\r\n      <Avatar\r\n        sx={{\r\n          mt: 1,\r\n          bgcolor: \"secondary.main\",\r\n          p: 2.5,\r\n        }}\r\n      >\r\n        <AccountCircleIcon\r\n          sx={{ color: \"background.default\" }}\r\n          fontSize=\"large\"\r\n        />\r\n      </Avatar>\r\n\r\n      <Control.Form\r\n        onSubmit={loginUser}\r\n        validator={loginValidator}\r\n        successMessage=\"Login success. Redirecting to dashboard.\"\r\n        redirectOnSuccess=\"/\"\r\n      >\r\n        <CSRFToken />\r\n        <Grid container direction=\"column\" rowGap={4} spacing={0}>\r\n          <Typography align=\"center\" variant=\"h5\">\r\n            Sign In\r\n          </Typography>\r\n\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            sx={{ \"& .MuiFormControl-root\": { width: \"100%\" } }}\r\n          >\r\n            <Control.Input\r\n              type=\"text\"\r\n              label=\"Email\"\r\n              variant=\"outlined\"\r\n              name=\"email\"\r\n              placeholder=\"johnsmith@mail.com\"\r\n              autoComplete=\"email\"\r\n              required\r\n            />\r\n          </Grid>\r\n\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            width=\"inherit\"\r\n            sx={{ \"& .MuiFormControl-root\": { width: \"100%\" } }}\r\n          >\r\n            <Control.Input\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              variant=\"outlined\"\r\n              placeholder=\"Enter Password\"\r\n              autoComplete=\"current-password\"\r\n              required\r\n              adornments={true}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item justifyContent=\"center\" xs={12} width=\"inherit\">\r\n            <Control.Button\r\n              variant=\"contained\"\r\n              type=\"submit\"\r\n              sx={Control.buttonStyle}\r\n            >\r\n              Log In\r\n            </Control.Button>\r\n          </Grid>\r\n\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justifyContent=\"space-between\"\r\n            columnGap={15}\r\n          >\r\n            <Grid item>\r\n              <Typography variant=\"initial\" sx={{ color: \"text.secondary\" }}>\r\n                Don't have an account?{\" \"}\r\n                <Link underline=\"always\" color=\"text.primary\" href=\"/signup\">\r\n                  Sign up\r\n                </Link>\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <Grid item>\r\n              <Link\r\n                underline=\"always\"\r\n                href=\"/password_reset\"\r\n                color=\"text.primary\"\r\n              >\r\n                Forgot Password?\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Control.Form>\r\n    </CenteredContainer>\r\n  );\r\n}\r\n\r\nexport default LoginPage;\r\n","import CenteredContainer from \"../components/CenteredContainer\";\r\nimport Control from \"../components/controls/Control\";\r\nimport { Avatar, Grid, Link, Typography } from \"@mui/material\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport ThemeTogglerIcon from \"../components/Dashboard/ThemeTogglerIcon\";\r\nimport HowToRegIcon from \"@mui/icons-material/HowToReg\";\r\nimport { registerValidator } from \"../utils/formValidation\";\r\n\r\nfunction SignUpPage() {\r\n  // const { signUpUser } = useContext(AuthContext);\r\n  const CSRFToken = AuthService.CSRFToken;\r\n\r\n  return (\r\n    <CenteredContainer>\r\n      <Typography variant=\"h5\">\r\n        Welcome to Regital Portal <ThemeTogglerIcon />\r\n      </Typography>\r\n\r\n      <Avatar\r\n        sx={{\r\n          mt: 0.5,\r\n          bgcolor: \"secondary.main\",\r\n          p: 2.5,\r\n        }}\r\n      >\r\n        <HowToRegIcon />\r\n      </Avatar>\r\n\r\n      <Control.Form\r\n        onSubmit={AuthService.signUp}\r\n        validator={registerValidator}\r\n        redirectOnSuccess=\"/login\"\r\n        successMessage=\"Account registered successfully. Redirecting to login page.\"\r\n      >\r\n        <CSRFToken />\r\n\r\n        <Grid\r\n          container\r\n          direction=\"column\"\r\n          alignItems=\"space-between\"\r\n          rowSpacing={4}\r\n        >\r\n          <Grid item>\r\n            <Typography align=\"center\" variant=\"h5\">\r\n              Sign Up\r\n            </Typography>\r\n          </Grid>\r\n\r\n          <Grid item sx={{ \"& .MuiFormControl-root\": { width: \"100%\" } }}>\r\n            <Control.Input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              placeholder=\"Email Address\"\r\n              autoComplete=\"email\"\r\n              required\r\n            />\r\n          </Grid>\r\n          <Grid item sx={{ \"& .MuiFormControl-root\": { width: \"100%\" } }}>\r\n            <Control.Input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"new-password\"\r\n              label=\"Password\"\r\n              placeholder=\"Set a password\"\r\n              adornments={true}\r\n              required\r\n            />\r\n          </Grid>\r\n          <Grid item sx={{ \"& .MuiFormControl-root\": { width: \"100%\" } }}>\r\n            <Control.Input\r\n              type=\"password\"\r\n              name=\"confirmPassword\"\r\n              id=\"password2\"\r\n              autoComplete=\"new-password\"\r\n              label=\"Password Confirmation\"\r\n              placeholder=\"Confirm the password\"\r\n              adornments={true}\r\n              required\r\n            />\r\n          </Grid>\r\n          <Grid item>\r\n            <Grid container justifyContent=\"space-between\" columnGap={5}>\r\n              <Grid item>\r\n                <Control.Input\r\n                  type=\"text\"\r\n                  name=\"firstName\"\r\n                  id=\"firstName\"\r\n                  label=\"First Name\"\r\n                  placeholder=\"John\"\r\n                  autoComplete=\"given-name\"\r\n                  autoFocus\r\n                />\r\n              </Grid>\r\n              <Grid item>\r\n                <Control.Input\r\n                  type=\"text\"\r\n                  name=\"lastName\"\r\n                  id=\"lastName\"\r\n                  label=\"Last Name\"\r\n                  placeholder=\"Smith\"\r\n                  autoComplete=\"family-name\"\r\n                  autoFocus\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item sx={{ \"& .MuiButton-root\": { width: \"100%\" } }}>\r\n            <Control.Button\r\n              variant=\"contained\"\r\n              type=\"submit\"\r\n              sx={Control.buttonStyle}\r\n            >\r\n              Create Account\r\n            </Control.Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Control.Form>\r\n\r\n      <Typography variant=\"initial\" sx={{ mb: 3 }}>\r\n        Already Have an account?{\" \"}\r\n        <Link always=\"underline\" href=\"/login\">\r\n          Sign In\r\n        </Link>\r\n      </Typography>\r\n    </CenteredContainer>\r\n  );\r\n}\r\n\r\nexport default SignUpPage;\r\n","function stringToColor(string) {\r\n  let hash = 0;\r\n  let i;\r\n\r\n  /* eslint-disable no-bitwise */\r\n  for (i = 0; i < string.length; i += 1) {\r\n    hash = string.charCodeAt(i) + ((hash << 5) - hash);\r\n  }\r\n\r\n  let color = \"#\";\r\n\r\n  for (i = 0; i < 3; i += 1) {\r\n    const value = (hash >> (i * 8)) & 0xff;\r\n    color += `00${value.toString(16)}`.substr(-2);\r\n  }\r\n  /* eslint-enable no-bitwise */\r\n\r\n  return color;\r\n}\r\n\r\nfunction stringAvatar(name) {\r\n  return {\r\n    sx: {\r\n      bgcolor: stringToColor(name),\r\n    },\r\n    children: `${name.split(\" \")[0][0]}${name.split(\" \")[1][0]}`,\r\n  };\r\n}\r\n\r\nexport default stringAvatar;\r\n","import stringAvatar from \"../../utils/stringAvatar\";\r\nimport { Avatar } from \"@mui/material\";\r\n// import AuthService from \"../../services/auth.service\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { useContext } from \"react\";\r\n\r\nconst BASE_URL = \"http://localhost:8000\";\r\n\r\nexport default function ProfilePicture(props) {\r\n  const { userProfile, logoutUser } = useContext(AuthContext);\r\n\r\n  let { profilePicture, firstName, lastName } = userProfile;\r\n  let fullName = firstName + \" \" + lastName;\r\n\r\n  if (!fullName) logoutUser();\r\n  // fullName = \"Anonymous User\";\r\n  const imageURL =\r\n    profilePicture !== \"\" || profilePicture === null\r\n      ? `${BASE_URL}${profilePicture}`\r\n      : null;\r\n  const innerProps = { ...stringAvatar(fullName) };\r\n  if (imageURL) innerProps[\"src\"] = imageURL;\r\n  return <Avatar {...innerProps} />;\r\n}\r\n","import { useContext } from \"react\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport {\r\n  AppBar,\r\n  Avatar,\r\n  Button,\r\n  IconButton,\r\n  Link,\r\n  Grid,\r\n  Toolbar,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@mui/material\";\r\n\r\nimport ThemeTogglerIcon from \"./ThemeTogglerIcon\";\r\nimport WidgetsIcon from \"@mui/icons-material/Widgets\";\r\nimport ExitToAppIcon from \"@mui/icons-material/ExitToApp\";\r\n\r\nimport ProfilePicture from \"../controls/ProfilePicture\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst CustomAppBar = styled(AppBar, {\r\n  shouldForwardProp: (prop) => prop !== \"open\" && prop !== \"width\",\r\n})(({ theme, open, width }) => ({\r\n  backgroundColor: theme.palette.primary.main,\r\n  padding: 0,\r\n  margin: 0,\r\n  width: open && `calc('100%' - ${width})`,\r\n  // marginRight: open && width,\r\n}));\r\n\r\nconst CustomToolBar = styled(Toolbar, { name: \"toolBar\", slot: \"root\" })(\r\n  ({ theme }) => ({\r\n    ...theme.mixins.toolbar,\r\n  })\r\n);\r\n\r\nfunction PageHeader(props) {\r\n  const { open, toggleDrawer, drawerWidth } = props;\r\n  const { logoutUser } = useContext(AuthContext);\r\n\r\n  return (\r\n    <CustomAppBar\r\n      position=\"fixed\"\r\n      enableColorOnDark\r\n      width={drawerWidth}\r\n      open={open}\r\n    >\r\n      <CustomToolBar>\r\n        <Grid\r\n          container\r\n          flexDirection=\"row\"\r\n          justifyContent=\"flex-start\"\r\n          sx={{\r\n            display: open ? \"none\" : \"flex\",\r\n          }}\r\n        >\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={toggleDrawer()}\r\n            edge=\"start\"\r\n          >\r\n            <WidgetsIcon />\r\n          </IconButton>\r\n\r\n          <Typography variant=\"h6\" lineHeight={2} sx={{ marginLeft: \"5px\" }}>\r\n            <Link underline=\"hover\" color=\"primary.contrastText\" href=\"/\">\r\n              Welcome To Regital\r\n            </Link>\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <Grid container justifyContent=\"flex-end\" sx={{ marginRight: \"auto\" }}>\r\n          <ThemeTogglerIcon />\r\n\r\n          <Link underline=\"none\" href=\"/profile\">\r\n            <Tooltip title=\"Update your profile\">\r\n              <IconButton size=\"medium\">\r\n                <ProfilePicture />\r\n              </IconButton>\r\n            </Tooltip>\r\n          </Link>\r\n\r\n          <Tooltip title=\"Logout\">\r\n            <Button size=\"medium\" onClick={logoutUser}>\r\n              <Avatar\r\n                sx={(theme) => ({\r\n                  backgroundColor: theme.palette.secondary.main,\r\n                })}\r\n              >\r\n                <ExitToAppIcon />\r\n              </Avatar>\r\n            </Button>\r\n          </Tooltip>\r\n        </Grid>\r\n      </CustomToolBar>\r\n    </CustomAppBar>\r\n  );\r\n}\r\n\r\nexport default PageHeader;\r\n","import axios from \"axios\";\r\nimport api, { API_URL } from \"./api\";\r\nconst RESUME_ENDPOINTS = api.endpoints[\"resume\"];\r\nconst PERMISSION_ENDPOINTS = api.endpoints[\"permission\"];\r\nconst VIEW_ENDPOINTS = api.endpoints[\"view\"];\r\nconst TEMPLATE_ENDPOINTS = api.endpoints[\"templates\"];\r\nconst SHARED_RESUME_ENDPOINTS = api.endpoints[\"sharedResume\"];\r\n\r\nclass ResumeService {\r\n  async templateList() {\r\n    const response = await api.get(TEMPLATE_ENDPOINTS);\r\n    return response;\r\n  }\r\n\r\n  async getResumeList() {\r\n    const response = await api.get(RESUME_ENDPOINTS);\r\n    const content = response.data;\r\n    return content;\r\n  }\r\n\r\n  async getResume(resumeId) {\r\n    const response = await api.get(RESUME_ENDPOINTS + resumeId + \"/\");\r\n    return response.data;\r\n  }\r\n\r\n  async createResume(template) {\r\n    const data = { template };\r\n    const response = await api.post(RESUME_ENDPOINTS, data);\r\n    return response.data;\r\n  }\r\n\r\n  async updateResume(resumeId, content) {\r\n    const data = { content };\r\n    const response = await api.put(RESUME_ENDPOINTS + resumeId + \"/\", data);\r\n    return response.data;\r\n  }\r\n\r\n  async deleteResume(resumeId) {\r\n    const response = await api.delete(RESUME_ENDPOINTS + resumeId + \"/\");\r\n    return response.data;\r\n  }\r\n\r\n  async grantPermission(resumeId, targetUserId, right) {\r\n    const data = {\r\n      user: targetUserId,\r\n      resume: resumeId,\r\n      right,\r\n    };\r\n    const response = await api.post(PERMISSION_ENDPOINTS, data);\r\n    return response.data;\r\n  }\r\n\r\n  async revokePermission(resumeId, targetUserId) {\r\n    const data = { user: targetUserId, resume: resumeId };\r\n    try {\r\n      const response = await api.delete(PERMISSION_ENDPOINTS + \"1/\", { data });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return {};\r\n    }\r\n  }\r\n\r\n  async getSharedResume() {\r\n    try {\r\n      const response = await api.get(SHARED_RESUME_ENDPOINTS);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return {};\r\n    }\r\n  }\r\n\r\n  async publishView(resumeId) {\r\n    const data = { resume_id: resumeId };\r\n    const response = await api.post(VIEW_ENDPOINTS, data);\r\n    return response.data;\r\n  }\r\n\r\n  async accessView(viewId) {\r\n    const response = await axios.get(API_URL + VIEW_ENDPOINTS + viewId);\r\n    return response.data;\r\n  }\r\n}\r\n\r\n// resume component\r\n// - author profile (tooltip: name)\r\n// - template thumbnail\r\n// - share\r\n// - edit button (for author and authorized user)\r\n// - delete button\r\n// - authorize (profile pic at bottom, click to expand)\r\n// - viewed count\r\n// 1) add editing space\r\n// 2) support save function\r\n// 3) Fix pdf issue\r\n// 4) add publish resume function\r\n// 5) display list of resume by users\r\n\r\nexport default new ResumeService();\r\n","import {\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  Skeleton,\r\n  Typography,\r\n  Tooltip,\r\n  Grid,\r\n  IconButton,\r\n} from \"@mui/material\";\r\nimport { AddBox as AddBoxIcon } from \"@material-ui/icons\";\r\nimport { useState, useEffect } from \"react\";\r\nimport api from \"../../services/api\";\r\nimport ResumeService from \"../../services/resume.service\";\r\n\r\nfunction TemplateCard(props) {\r\n  const {\r\n    id,\r\n    thumbnail,\r\n    title = \"Resume Template\",\r\n    description = \"New template is now available\",\r\n    ...rest\r\n  } = props;\r\n\r\n  const createResume = (templateId) => {\r\n    return () => {\r\n      const response = ResumeService.createResume(templateId);\r\n      response\r\n        .then((item) => {\r\n          const resumeId = item?.resume_id;\r\n          if (resumeId) window.open(`/resume/${resumeId}`, \"_blank\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Create resume error:\", error);\r\n        });\r\n    };\r\n  };\r\n\r\n  return (\r\n    <Card {...rest}>\r\n      <div>\r\n        <CardMedia component=\"img\" image={thumbnail} alt=\"\" />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"div\">\r\n            {title}\r\n            <Tooltip title=\"Create a new resume\">\r\n              <IconButton\r\n                onClick={createResume(id)}\r\n                color=\"toggleIcon\"\r\n                sx={{ bgcolor: \"text.icon\", ml: 2 }}\r\n              >\r\n                <AddBoxIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          </Typography>\r\n\r\n          <Typography\r\n            variant=\"body2\"\r\n            p={0}\r\n            color=\"text.secondary\"\r\n            textAlign=\"justify\"\r\n            paragraph\r\n          >\r\n            {description}\r\n          </Typography>\r\n        </CardContent>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nfunction TemplateCardPlaceholder(props) {\r\n  return (\r\n    <Card {...props}>\r\n      <CardContent>\r\n        <Skeleton animation={false} height={200} style={{ marginBottom: 6 }} />\r\n        <Skeleton animation=\"wave\" variant=\"h1\" style={{ marginBottom: 6 }} />\r\n        <Skeleton animation=\"wave\" variant=\"text\" width=\"80%\" height=\"10%\" />\r\n        <Skeleton animation=\"wave\" variant=\"text\" width=\"80%\" height=\"10%\" />\r\n        <Skeleton animation=\"wave\" variant=\"text\" width=\"80%\" height=\"10%\" />\r\n        <Skeleton animation=\"wave\" variant=\"text\" width=\"80%\" height=\"10%\" />\r\n        <Skeleton animation=\"wave\" variant=\"rectangular\" height=\"10%\" />\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nfunction TemplateList() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [templateList, setTemplateList] = useState([]);\r\n\r\n  const imgStyles = {\r\n    width: \"400px\",\r\n    height: \"400px\",\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function getTemplateList() {\r\n      const response = await api.get(api.endpoints[\"templates\"]);\r\n      setTemplateList(response.data);\r\n      setLoading(false);\r\n    }\r\n\r\n    getTemplateList();\r\n\r\n    return () => {};\r\n  }, []);\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      direction=\"row\"\r\n      justifyContent=\"left\"\r\n      gap={3}\r\n      mt={10}\r\n      ml={3}\r\n    >\r\n      {templateList.map((template) => {\r\n        return (\r\n          <Grid item key={template.uuid}>\r\n            {loading ? (\r\n              <TemplateCardPlaceholder sx={imgStyles} />\r\n            ) : (\r\n              <TemplateCard {...template} sx={imgStyles} />\r\n            )}\r\n          </Grid>\r\n        );\r\n      })}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction ResumeList() {\r\n  return <div className=\"resume__list\"></div>;\r\n}\r\n\r\nexport { TemplateList, ResumeList };\r\n","import PageHeader from \"../components/Dashboard/PageHeader\";\r\nimport { CustomDrawer, BodyFrame } from \"../components/Dashboard/Drawer\";\r\nimport { TemplateList } from \"../components/Dashboard/PageSection\";\r\nimport { useState } from \"react\";\r\n\r\nconst drawerWidth = \"250px\";\r\n\r\nexport function Layout({ children }) {\r\n  const [showDrawer, setShowDrawer] = useState(false);\r\n\r\n  const toggleDrawer = (forced = null) => {\r\n    if (forced === null) return () => setShowDrawer(!showDrawer);\r\n    return () => setShowDrawer(forced);\r\n  };\r\n\r\n  const layoutProps = { open: showDrawer, toggleDrawer, drawerWidth };\r\n  return (\r\n    <div>\r\n      <CustomDrawer {...layoutProps} />\r\n      <PageHeader {...layoutProps} />\r\n      <BodyFrame open={showDrawer} width={drawerWidth}>\r\n        {children}\r\n      </BodyFrame>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Dashboard() {\r\n  return (\r\n    <Layout>\r\n      <TemplateList />\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n","import { Layout } from \"./Dashboard\";\r\nimport { Grid, Typography } from \"@mui/material\";\r\nimport { useContext } from \"react\";\r\nimport Control from \"../components/controls/Control\";\r\n\r\nimport {\r\n  changePasswordValidator,\r\n  profileValidator,\r\n} from \"../utils/formValidation\";\r\n\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport ProfilePicture from \"../components/controls/ProfilePicture\";\r\n\r\nimport ProfileService from \"../services/profile.service\";\r\nimport TokenService from \"../services/token.service\";\r\n\r\nfunction ProfileForm() {\r\n  const genderItems = [\r\n    { id: \"male\", title: \"Male\", value: \"male\" },\r\n    { id: \"female\", title: \"Female\", value: \"female\" },\r\n    { id: \"other\", title: \"Other\", value: \"other\" },\r\n    { id: \"unknown\", title: \"Unknown\", value: \"unknown\" },\r\n  ];\r\n\r\n  const { userProfile, setUserProfile } = useContext(AuthContext);\r\n\r\n  async function updateUserProfile(event) {\r\n    const response = await ProfileService.updateUserProfile(event);\r\n    const data = response.data;\r\n    console.log(\"Updated profile data in profile form:\", data);\r\n    if (!data) return false;\r\n    TokenService.setAuth(data[\"token\"]); // update token\r\n    setUserProfile((prev) => ({ ...prev, ...data }));\r\n  }\r\n\r\n  async function changeProfilePicture(event) {\r\n    const response = await ProfileService.updateProfilePicture(event);\r\n    console.log(\"Response after change profile picture:\", response);\r\n    const profilePicture = response.profilePicture;\r\n    if (!profilePicture) return false;\r\n    console.log(\"Profile after change:\", profilePicture);\r\n    // userProfile[\"profile_picture\"] = data[\"profile_picture\"];\r\n    setUserProfile((prev) => ({ ...prev, profilePicture }));\r\n    return userProfile;\r\n  }\r\n\r\n  async function deleteProfilePicture(event) {\r\n    const response = await ProfileService.deleteProfilePicture(event);\r\n    console.log(\"Response delete picture:\", response);\r\n    if (response.profilePicture) {\r\n      const data = { profilePicture: \"/images/profiles\" };\r\n      console.log(\"Delete picture.\");\r\n      setUserProfile((prev) => ({ ...prev, ...data }));\r\n    }\r\n\r\n    return userProfile;\r\n  }\r\n\r\n  const CSRFToken = AuthService.CSRFToken;\r\n  return (\r\n    <Control.Form\r\n      setDefaultValues={ProfileService.getUserProfile}\r\n      onSubmit={updateUserProfile}\r\n      defaultValues={userProfile}\r\n      validator={profileValidator}\r\n      successMessage={\"User profile updated successfully!\"}\r\n    >\r\n      <CSRFToken />\r\n      <Grid container direction=\"column\" gap={5} justifyContent=\"center\">\r\n        <Grid item>\r\n          <Typography variant=\"h6\">Profile Picture</Typography>\r\n        </Grid>\r\n        <Grid container gap={5} justifyContent=\"flex-start\">\r\n          <ProfilePicture />\r\n\r\n          <label htmlFor=\"profile-picture\">\r\n            <input\r\n              style={{ display: \"none\" }}\r\n              id=\"profile-picture\"\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              onChange={changeProfilePicture}\r\n            />\r\n            <Control.Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              type=\"button\"\r\n              children=\"Upload New Picture\"\r\n              component=\"span\"\r\n              size=\"large\"\r\n            />\r\n          </label>\r\n\r\n          <Control.Button\r\n            aria-label=\"delete\"\r\n            variant=\"outlined\"\r\n            color=\"secondary\"\r\n            children=\"Delete\"\r\n            type=\"button\"\r\n            size=\"large\"\r\n            onClick={deleteProfilePicture}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid\r\n          container\r\n          gap={5}\r\n          direction=\"column\"\r\n          justifyContent=\"center\"\r\n          alignContent=\"center\"\r\n        >\r\n          <Grid container direction=\"row\" gap={5} flexWrap=\"nowrap\">\r\n            <Control.Input\r\n              variant=\"outlined\"\r\n              label=\"First Name\"\r\n              name=\"firstName\"\r\n            ></Control.Input>\r\n\r\n            <Control.Input\r\n              variant=\"outlined\"\r\n              label=\"Last Name\"\r\n              name=\"lastName\"\r\n            ></Control.Input>\r\n          </Grid>\r\n\r\n          <Control.RadioGroup\r\n            label=\"Gender\"\r\n            name=\"gender\"\r\n            items={genderItems}\r\n          />\r\n\r\n          <Control.Input\r\n            variant=\"outlined\"\r\n            label=\"Phone Number\"\r\n            name=\"phoneNumber\"\r\n          />\r\n\r\n          <Control.Input variant=\"outlined\" label=\"Location\" name=\"location\" />\r\n        </Grid>\r\n\r\n        <Grid container justifyContent=\"flex-end\">\r\n          <Control.Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            children=\"Save Changes\"\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </Control.Form>\r\n  );\r\n}\r\n\r\nfunction ChangePasswordForm() {\r\n  const { changePassword } = useContext(AuthContext);\r\n  const CSRFToken = AuthService.CSRFToken;\r\n\r\n  return (\r\n    <Control.Form\r\n      validator={changePasswordValidator}\r\n      onSubmit={changePassword}\r\n      successMessage={\"Password updated successfully!\"}\r\n    >\r\n      <CSRFToken />\r\n\r\n      <Grid container direction=\"column\" gap={5} justifyContent=\"center\">\r\n        <Grid item>\r\n          <Typography variant=\"h6\">Change Password</Typography>\r\n        </Grid>\r\n\r\n        <Grid item sx={{ display: \"none\" }}>\r\n          <Control.Input\r\n            type=\"text\"\r\n            disabled\r\n            autoComplete=\"email\"\r\n            name=\"email\"\r\n            adornments={false}\r\n            inputProps={{\r\n              type: \"hidden\",\r\n            }}\r\n          ></Control.Input>\r\n        </Grid>\r\n\r\n        <Control.Input\r\n          required\r\n          variant=\"outlined\"\r\n          name=\"oldPassword\"\r\n          type=\"password\"\r\n          label=\"Current Password\"\r\n          autoComplete=\"password\"\r\n          adornments={true}\r\n        ></Control.Input>\r\n\r\n        <Control.Input\r\n          required\r\n          name=\"newPassword\"\r\n          type=\"password\"\r\n          label=\"New Password\"\r\n          autoComplete=\"newPassword\"\r\n          adornments={true}\r\n        ></Control.Input>\r\n\r\n        <Control.Input\r\n          required\r\n          type=\"password\"\r\n          name=\"confirmPassword\"\r\n          label=\"Confirm New Password\"\r\n          autoComplete=\"confirmNewPassword\"\r\n          adornments={true}\r\n        ></Control.Input>\r\n\r\n        <Grid container justifyContent=\"flex-end\">\r\n          <Control.Button children=\"Change Password\" type=\"submit\" />\r\n        </Grid>\r\n      </Grid>\r\n    </Control.Form>\r\n  );\r\n}\r\n\r\nfunction Profile() {\r\n  return (\r\n    <Layout>\r\n      <Grid\r\n        container\r\n        justifyContent=\"center\"\r\n        alignContent=\"center\"\r\n        direction=\"column\"\r\n      >\r\n        <Grid item>\r\n          <ProfileForm></ProfileForm>\r\n        </Grid>\r\n        <Grid item>\r\n          <ChangePasswordForm></ChangePasswordForm>\r\n        </Grid>\r\n      </Grid>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","// import \"react-quill/dist/quill.snow.css\";\r\n// import \"react-quill/dist/quill.bubble.css\";\r\n// import ReactQuill from \"react-quill\";\r\n// import { useState } from \"react\";\r\nimport ContentEditable from \"react-contenteditable\";\r\n// import { createRef } from \"react\";\r\n// const modules = {\r\n//   toolbar: [\r\n//     // [{ font: [] }],\r\n//     [{ header: [1, 2, 3, 4, 5, 6, false] }],\r\n//     [\"bold\", \"italic\", \"underline\", \"strike\"],\r\n//     // [{ color: [] }, { background: [] }],\r\n//     [{ script: \"sub\" }, { script: \"super\" }],\r\n//     // [\"blockquote\", \"code-block\"],\r\n//     [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n//     // [{ indent: \"-1\" }, { indent: \"+1\" }, { align: [] }],\r\n//     [\"link\"],\r\n//     [\"clean\"],\r\n//   ],\r\n// };\r\n\r\n// export default function Editor(props) {\r\n//   const { theme = \"snow\", key } = props;\r\n//   const [value, setValue] = useState(\"\");\r\n//   console.log(\"Value:\", value);\r\n//   return (\r\n//     <ReactQuill\r\n//       modules={modules}\r\n//       theme={theme}\r\n//       name=\"editor\"\r\n//       id={key}\r\n//       onChange={setValue}\r\n//       placeholder=\"Content goes here...\"\r\n//     />\r\n//   );\r\n// }\r\n\r\nfunction pasteAsPlainText(event) {\r\n  event.preventDefault();\r\n  const text = event.clipboardData.getData(\"text/plain\");\r\n  document.execCommand(\"insertHTML\", false, text);\r\n}\r\n\r\nexport default function Editable(props) {\r\n  // const innerRef = createRef();\r\n  const {\r\n    initialValue = \"\",\r\n    textOnly = true,\r\n    disabled = false,\r\n    tagName = \"div\",\r\n    className = \"\",\r\n    onInput,\r\n    id,\r\n  } = props;\r\n\r\n  const onPaste = textOnly ? pasteAsPlainText : null;\r\n\r\n  // function contentUpdate(event) {\r\n  //   innerRef.current = event.target.value;\r\n  // }\r\n\r\n  function onKeyDown(event) {\r\n    if (event.keyCode === 13) {\r\n      document.execCommand(\"insertLineBreak\");\r\n      event.preventDefault();\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <ContentEditable\r\n      onPaste={onPaste}\r\n      // onChange={contentUpdate}\r\n      onChange={onInput}\r\n      onKeyDown={onKeyDown}\r\n      html={initialValue}\r\n      // innerRef={innerRef}\r\n      disabled={disabled}\r\n      tagName={tagName}\r\n      id={id}\r\n      className={className}\r\n      name=\"editor\"\r\n      style={{\r\n        display: \"inline-block\",\r\n        border: \"none\",\r\n        width: tagName === \"div\" && \"100%\",\r\n        // boxShadow: \"-3px 5px 7px -6px rgba(0,0,0,0.88)\",\r\n        \"&:focus\": { border: \"none\" },\r\n      }}\r\n    />\r\n  );\r\n}\r\n","const navList = [\r\n  {\r\n    id: \"profile\",\r\n    name: \"Profile\",\r\n    icon: \"fa-solid fa-house\",\r\n    cardType: \"profile\",\r\n  },\r\n  {\r\n    id: \"languages\",\r\n    name: \"Languages\",\r\n    icon: \"fa-solid fa-language\",\r\n    cardType: \"language\",\r\n  },\r\n  {\r\n    id: \"skills\",\r\n    name: \"Skills\",\r\n    icon: \"fa-solid fa-book\",\r\n    cardType: \"default\",\r\n  },\r\n  {\r\n    id: \"projects\",\r\n    name: \"Projects\",\r\n    icon: \"fa-solid fa-list-check\",\r\n    cardType: \"project\",\r\n  },\r\n  {\r\n    id: \"work-experience\",\r\n    name: \"Work Experience\",\r\n    icon: \"fa-solid fa-briefcase\",\r\n    cardType: \"experience\",\r\n  },\r\n  {\r\n    id: \"academic\",\r\n    name: \"Academic\",\r\n    icon: \"fa-solid fa-school\",\r\n    cardType: \"education\",\r\n  },\r\n];\r\n\r\nconst bioList = [\r\n  {\r\n    id: \"mail\",\r\n    url: \"mailto:ycwong360@gmail.com?\",\r\n    icon: \"fa-solid fa-envelope\",\r\n    content: \"ycwong360@gmail.com\",\r\n  },\r\n  {\r\n    id: \"github\",\r\n    url: \"https://github.com/WongYC19/\",\r\n    icon: \"fa-brands fa-github\",\r\n    content: \"Github\",\r\n  },\r\n  {\r\n    id: \"address\",\r\n    url: \"https://www.google.com/maps/place/Kuala+Lumpur,+Federal+Territory+of+Kuala+Lumpur/\",\r\n    icon: \"fa-solid fa-address-card\",\r\n    content: \"Kuala Lumpur, Malaysia\",\r\n  },\r\n  {\r\n    id: \"linkedin\",\r\n    url: \"https://www.linkedin.com/in/yc-022b04131/\",\r\n    icon: \"fa-solid fa-envelope\",\r\n    content: \"LinkedIn\",\r\n  },\r\n];\r\n\r\nexport { navList, bioList };\r\n","export const skillLevels = {\r\n  novice: 25,\r\n  intermediate: 50,\r\n  advanced: 75,\r\n  expert: 100,\r\n};\r\n\r\nconst profile = {\r\n  description: \"About yourself\",\r\n  email: \"Your email address\",\r\n  githubURL: \"\",\r\n  address: \"Your mailing address\",\r\n  linkedinURL: \"\",\r\n};\r\n\r\nconst skills = [\r\n  { name: \"Sample Skill\", level: \"intermediate\" },\r\n  // { name: \"CSS 3\", level: \"intermediate\" },\r\n];\r\n\r\nconst languages = [{ name: \"English\", level: \"novice\" }];\r\n\r\nconst project = [\r\n  {\r\n    thumbnail:\r\n      \"https://designshack.net/wp-content/uploads/placeholder-image-368x246.png\",\r\n    category: \"Project Category\",\r\n    topic: \"Project Topic\",\r\n    description: \"Project description\",\r\n  },\r\n];\r\n\r\nconst experience = [\r\n  {\r\n    title: \"Job Title\",\r\n    institution: \"Company Name\",\r\n    periodStart: \"2020\",\r\n    periodEnd: \"Present\",\r\n    description: \"Job description\",\r\n  },\r\n];\r\n\r\nconst education = [\r\n  {\r\n    title: \"Bachelor\",\r\n    institution: \"University of Sample\",\r\n    periodStart: \"2017\",\r\n    periodEnd: \"2019\",\r\n    description: \"Education description\",\r\n  },\r\n];\r\n\r\nconst initialData = {\r\n  profile,\r\n  skills,\r\n  project,\r\n  experience,\r\n  education,\r\n  languages,\r\n};\r\n\r\nexport default initialData;\r\n","import React from \"react\";\r\nimport { useEffect, useContext } from \"react\";\r\n\r\nimport {\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  IconButton,\r\n  Select,\r\n  MenuItem,\r\n  Stack,\r\n  Typography,\r\n} from \"@mui/material\";\r\n\r\nimport {\r\n  Edit as EditIcon,\r\n  EditLocation as EditLocationIcon,\r\n  InsertLink as InsertLinkIcon,\r\n} from \"@mui/icons-material\";\r\n\r\nimport { ResumeContext } from \"../../pages/Resume\";\r\nimport Editable from \"../Editor\";\r\nimport \"../../static/classic.css\";\r\nimport \"../../static/classic.js\";\r\nimport { navList } from \"./navItem\";\r\nimport initialData, { skillLevels } from \"./initialData\";\r\nimport ThemeTogglerIcon from \"../Dashboard/ThemeTogglerIcon\";\r\n\r\nfunction Classic(props) {\r\n  let { editable, provided } = useContext(ResumeContext);\r\n  let { data, setData } = provided;\r\n\r\n  const isEmpty = !data || Object.keys(data ?? {}).length === 0;\r\n  data = isEmpty ? initialData : data;\r\n\r\n  useEffect(() => {\r\n    setData(data);\r\n  }, [data, setData]);\r\n\r\n  return (\r\n    <>\r\n      <link\r\n        rel=\"stylesheet\"\r\n        type=\"text/css\"\r\n        href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css\"\r\n      />\r\n\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&amp;display=swap\"\r\n      />\r\n      <link rel=\"stylesheet\" href=\"index.css\" />\r\n      <link rel=\"stylesheet\" href=\"/classic.css\"></link>\r\n      <script type=\"text/javascript\" src=\"/classic.js\"></script>\r\n\r\n      <Header editable={editable} />\r\n      {editable ? null: <ThemeTogglerIcon />}\r\n      <ProfileCard id=\"profile\" name=\"Profile\" data={data.profile} />\r\n\r\n      <SkillsCard\r\n        id=\"languages\"\r\n        name=\"Languages\"\r\n        data={data.languages}\r\n        label=\"languages\"\r\n      />\r\n\r\n      <SkillsCard\r\n        id=\"skills\"\r\n        name=\"Professional Skills\"\r\n        data={data.skills}\r\n        label=\"skills\"\r\n      />\r\n      <ProjectCard id=\"projects\" data={data.project} />\r\n\r\n      <TimelineCard\r\n        id=\"work-experience\"\r\n        name=\"Work Experience\"\r\n        data={data.experience}\r\n        isEducation={false}\r\n      />\r\n\r\n      <TimelineCard\r\n        id=\"academic\"\r\n        name=\"Education\"\r\n        isEducation={true}\r\n        data={data.education}\r\n      />\r\n\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction TimelineCard(props) {\r\n  const {\r\n    id = \"timeline-card\",\r\n    isEducation = false,\r\n    name = isEducation ? \"Work Experience\" : \"Academic\",\r\n    data = [],\r\n  } = props;\r\n\r\n  let { provided, updateContent, editable } = useContext(ResumeContext);\r\n  const { setData } = provided;\r\n  const educationClass = isEducation ? \"education\" : \"\";\r\n  const key = isEducation ? \"education\" : \"experience\";\r\n\r\n  const addTimeLine = (index) => {\r\n    return (event) => {\r\n      setData((prev) => {\r\n        let currentTimeline = isEducation ? prev.education : prev.experience;\r\n        currentTimeline = JSON.parse(JSON.stringify(currentTimeline));\r\n        let sampleTimeline = isEducation\r\n          ? initialData.education[0]\r\n          : initialData.experience[0];\r\n        sampleTimeline = JSON.parse(JSON.stringify(sampleTimeline));\r\n        currentTimeline.splice(index + 1, 0, sampleTimeline);\r\n        return { ...prev, [key]: currentTimeline };\r\n      });\r\n    };\r\n  };\r\n\r\n  const deleteTimeline = (index) => {\r\n    return (event) => {\r\n      setData((prev) => {\r\n        let currentTimeline = isEducation ? prev.education : prev.experience;\r\n        currentTimeline = currentTimeline.filter((value, idx) => idx !== index);\r\n        return { ...prev, [key]: currentTimeline };\r\n      });\r\n    };\r\n  };\r\n\r\n  return (\r\n    <Section id={id} name={name}>\r\n      {data.map((item, index) => {\r\n        const { title, institution, periodStart, periodEnd, description } =\r\n          item;\r\n        return (\r\n          <React.Fragment key={index}>\r\n            <div className=\"timeline__section\">\r\n              <div className={`timeline__head ${educationClass}`}>\r\n                <Editable\r\n                  id=\"position\"\r\n                  className={`timeline__position ${educationClass}`}\r\n                  tagName=\"span\"\r\n                  initialValue={title}\r\n                  disabled={!editable}\r\n                  onInput={updateContent([key, index, \"description\"])}\r\n                />{\" \"}\r\n                <Editable\r\n                  id=\"location\"\r\n                  className={`timeline__location ${educationClass}`}\r\n                  tagName=\"span\"\r\n                  initialValue={institution}\r\n                  disabled={!editable}\r\n                  onInput={updateContent([key, index, \"institution\"])}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"timeline__body\">\r\n                <div>\r\n                  <Editable\r\n                    id=\"timeline-period\"\r\n                    tagName=\"span\"\r\n                    className=\"timeline__period\"\r\n                    initialValue={periodStart}\r\n                    disabled={!editable}\r\n                    onInput={updateContent([key, index, \"periodStart\"])}\r\n                  />\r\n                  <Typography variant=\"string\" pl={0.5} pr={0.5}>\r\n                    -\r\n                  </Typography>\r\n\r\n                  <Editable\r\n                    id=\"timeline-period\"\r\n                    tagName=\"span\"\r\n                    className=\"timeline__period\"\r\n                    initialValue={periodEnd}\r\n                    disabled={!editable}\r\n                    onInput={updateContent([key, index, \"periodEnd\"])}\r\n                  />\r\n                </div>\r\n\r\n                <Editable\r\n                  id=\"timeline-content\"\r\n                  className=\"timeline__content\"\r\n                  name=\"editor\"\r\n                  contentEditable=\"true\"\r\n                  initialValue={description}\r\n                  disabled={!editable}\r\n                  onInput={updateContent([key, index, \"description\"])}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {editable && (\r\n              <ButtonGroup\r\n                addItem={addTimeLine(index)}\r\n                deleteItem={deleteTimeline(index)}\r\n                index={index}\r\n                key={key}\r\n                addDesc={`Add new ${key}`}\r\n                deleteDesc={`Delete ${key}`}\r\n              />\r\n            )}\r\n          </React.Fragment>\r\n        );\r\n      })}\r\n    </Section>\r\n  );\r\n}\r\n\r\nfunction ProjectCard(props) {\r\n  const { id = \"projects\", data = [] } = props;\r\n  const { provided, updateContent, editable } = useContext(ResumeContext);\r\n  const { setData } = provided;\r\n\r\n  const addProject = (index) => {\r\n    return (event) => {\r\n      setData((prev) => {\r\n        const currentProject = JSON.parse(JSON.stringify(prev.project ?? {}));\r\n        if (!currentProject) return prev;\r\n        const sampleData = JSON.parse(JSON.stringify(initialData.project[0]))\r\n        currentProject.splice(index + 1, 0, sampleData);\r\n        return { ...prev, project: currentProject };\r\n      });\r\n    };\r\n  };\r\n\r\n  const deleteProject = (index) => {\r\n    return (event) => {\r\n      setData((prev) => {\r\n        const currentProject = prev.project.filter(\r\n          (value, idx) => idx !== index\r\n        );\r\n\r\n        return { ...prev, project: currentProject };\r\n      });\r\n    };\r\n  };\r\n\r\n  const handleDisplayError = (event) => {\r\n    const imgElement = event.target;\r\n    imgElement.onError = null;\r\n    imgElement.src = \"https://demofree.sirv.com/nope-not-here.jpg\";\r\n    return false;\r\n  };\r\n\r\n  return (\r\n    <Section id={id} name=\"Project\">\r\n      {data.map((item, index) => {\r\n        const { category, thumbnail, topic, description } = item;\r\n        return (\r\n          <React.Fragment key={index}>\r\n            <div className=\"project__card\">\r\n              <div className=\"project__thumbnail\">\r\n                <img\r\n                  onClick={updateContent([\"project\", index, \"thumbnail\"], true)}\r\n                  src={thumbnail}\r\n                  alt=\"\"\r\n                  srcSet=\"\"\r\n                  onError={handleDisplayError}\r\n                />\r\n\r\n                <Editable\r\n                  id=\"project-category\"\r\n                  name=\"editor\"\r\n                  className=\"project__categories\"\r\n                  initialValue={category}\r\n                  disabled={!editable}\r\n                  onInput={updateContent([\"project\", index, \"category\"])}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"project__content\">\r\n                <Editable\r\n                  id=\"project-topic\"\r\n                  className=\"project__topic\"\r\n                  tagName=\"div\"\r\n                  initialValue={topic}\r\n                  disabled={!editable}\r\n                  onInput={updateContent([\"project\", index, \"topic\"])}\r\n                />\r\n                <Editable\r\n                  id=\"project-description\"\r\n                  className=\"project__description\"\r\n                  initialValue={description}\r\n                  tagName=\"div\"\r\n                  disabled={!editable}\r\n                  onInput={updateContent([\"project\", index, \"description\"])}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {editable && (\r\n              <ButtonGroup\r\n                addItem={addProject(index)}\r\n                deleteItem={deleteProject(index)}\r\n                index={index}\r\n              />\r\n            )}\r\n\r\n            <Divider sx={{ mt: 2, mb: 2, borderTopWidth: 2.5 }} />\r\n          </React.Fragment>\r\n        );\r\n      })}\r\n    </Section>\r\n  );\r\n}\r\n\r\nfunction ButtonGroup(props) {\r\n  const {\r\n    addItem,\r\n    deleteItem,\r\n    index,\r\n    addDesc = \"Add Project\",\r\n    deleteDesc = \"Delete Project\",\r\n  } = props;\r\n\r\n  return (\r\n    <Stack direction=\"row\" justifyContent=\"center\" gap={3} mb={1}>\r\n      <Button variant=\"contained\" onClick={addItem}>\r\n        {addDesc}\r\n      </Button>\r\n      {index > 0 && (\r\n        <Button variant=\"contained\" onClick={deleteItem}>\r\n          {deleteDesc}\r\n        </Button>\r\n      )}\r\n    </Stack>\r\n  );\r\n}\r\n\r\nfunction ProfileCard(props) {\r\n  const { id = \"profile\", data = [] } = props;\r\n  let { description, email, address, linkedinURL, githubURL } = data;\r\n  const { updateContent, editable } = useContext(ResumeContext);\r\n  const iconStyle = { color: (theme) => theme.palette.text.secondary };\r\n  if (!linkedinURL?.startsWith(\"http\")) linkedinURL = \"https://\" + linkedinURL;\r\n  if (!githubURL?.startsWith(\"http\")) githubURL = \"https://\" + githubURL;\r\n\r\n  return (\r\n    <Section id={id} name=\"Profile\">\r\n      <div className=\"profile__card\">\r\n        <div className=\"profile__about\">\r\n          <h3 className=\"profile__topic\">About Me</h3>\r\n          <Editable\r\n            id=\"about-me\"\r\n            className=\"profile__introduction\"\r\n            initialValue={description}\r\n            disabled={!editable}\r\n            onInput={updateContent([\"profile\", \"description\"])}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"profile__bio\">\r\n          <h3 className=\"profile__topic\">Bio</h3>\r\n          <div className=\"bio__list\">\r\n            <BioCard\r\n              id=\"mail\"\r\n              icon=\"fa-solid fa-envelope\"\r\n              content={email}\r\n              url={\"mailto:\" + email}\r\n              updateContent={updateContent([\"profile\", \"email\"], true)}\r\n              editIcon={<EditIcon sx={iconStyle} />}\r\n              editable={editable}\r\n            />\r\n            <BioCard\r\n              id=\"github\"\r\n              icon=\"fa-brands fa-github\"\r\n              content=\"Github Repository\"\r\n              url={githubURL}\r\n              updateContent={updateContent([\"profile\", \"githubURL\"], true)}\r\n              editIcon={<InsertLinkIcon sx={iconStyle} />}\r\n              editable={editable}\r\n            />\r\n\r\n            <BioCard\r\n              id=\"address\"\r\n              icon=\"fa-regular fa-address-card\"\r\n              content={address}\r\n              url={\r\n                \"https://www.google.com/maps/place/\" +\r\n                address?.replace(\" \", \"+\")\r\n              }\r\n              updateContent={updateContent([\"profile\", \"address\"], true)}\r\n              editIcon={<EditLocationIcon sx={iconStyle} />}\r\n              editable={editable}\r\n\r\n            />\r\n            <BioCard\r\n              id=\"linkedin\"\r\n              icon=\"fa-brands fa-linkedin\"\r\n              content=\"LinkedIn\"\r\n              url={linkedinURL}\r\n              updateContent={updateContent([\"profile\", \"linkedinURL\"], true)}\r\n              editIcon={<InsertLinkIcon sx={iconStyle} />}\r\n              editable={editable}\r\n\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Section>\r\n  );\r\n}\r\n\r\nfunction LevelOptions({\r\n  initialLevel = \"Not rated\",\r\n  selectionId = \"selection-level\",\r\n  onChange = (event) => {},\r\n}) {\r\n  return (\r\n    <Select\r\n      onChange={onChange}\r\n      name=\"select-skill\"\r\n      id={selectionId}\r\n      value={initialLevel}\r\n      sx={{ ml: 2, height: \"20px\" }}\r\n    >\r\n      {Object.keys(skillLevels).map((level) => {\r\n        const optionAttrs = { key: level, value: level };\r\n        return <MenuItem {...optionAttrs}>{level}</MenuItem>;\r\n      })}\r\n    </Select>\r\n  );\r\n}\r\n\r\nfunction SkillsCard(props) {\r\n  const {\r\n    id = \"skills\",\r\n    label = \"skills\",\r\n    name = \"Professional Skills\",\r\n    data = [],\r\n  } = props;\r\n\r\n  const { updateContent, editable, provided } = useContext(ResumeContext);\r\n  const { setData } = provided;\r\n\r\n  const addSkill = (index) => {\r\n    return (event) => {\r\n      setData((prev) => {\r\n        let currentSkill = prev[label];\r\n        currentSkill = JSON.parse(JSON.stringify(currentSkill));\r\n        let sampleSkill = initialData[label][0];\r\n        sampleSkill = JSON.parse(JSON.stringify(sampleSkill));\r\n        currentSkill.splice(index + 1, 0, sampleSkill);\r\n        return { ...prev, [label]: currentSkill };\r\n      });\r\n    };\r\n  };\r\n\r\n  const deleteSkill = (index) => {\r\n    return (event) => {\r\n      setData((prev) => {\r\n        let currentSkill = prev[label];\r\n        currentSkill = currentSkill.filter((value, idx) => idx !== index);\r\n        return { ...prev, [label]: currentSkill };\r\n      });\r\n    };\r\n  };\r\n  return (\r\n    <Section id={id} name={name}>\r\n      <div className=\"skill__line\">\r\n        {data.map((skill, index) => {\r\n          return (\r\n            <div key={index}>\r\n              <Editable\r\n                className=\"skill__info\"\r\n                tagName=\"span\"\r\n                initialValue={skill.name}\r\n                disabled={!editable}\r\n                onInput={updateContent([label, index, \"name\"])}\r\n              />\r\n\r\n              {editable && (\r\n                <LevelOptions\r\n                  id={`selection-${id}-${index}}`}\r\n                  initialLevel={skill.level}\r\n                  onChange={updateContent([label, index, \"level\"])}\r\n                />\r\n              )}\r\n              <div className=\"skill__bar\">\r\n                <div\r\n                  className=\"skill__rate\"\r\n                  style={{ width: skillLevels[skill.level] + \"%\" }}\r\n                  disabled={!editable}\r\n                >\r\n                  {skill.level}\r\n                </div>\r\n              </div>\r\n\r\n              {editable && (\r\n                <ButtonGroup\r\n                  addItem={addSkill(index)}\r\n                  deleteItem={deleteSkill(index)}\r\n                  index={index}\r\n                  key={skill.name}\r\n                  addDesc={`Add ${label}`}\r\n                  deleteDesc={`Delete ${label}`}\r\n                />\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </Section>\r\n  );\r\n}\r\n\r\nfunction Section(props) {\r\n  const { id, name, children } = props;\r\n  return (\r\n    <section className=\"container section section__height\" id={id}>\r\n      <h2 className=\"section__title\">{name}</h2>\r\n      <section className=\"content section\">{children}</section>\r\n    </section>\r\n  );\r\n}\r\n\r\nfunction Footer() {\r\n  const currentYear = new Date().getFullYear();\r\n  return (\r\n    <footer className=\"footer\">\r\n      <i className=\"fa-solid fa-copyright icon\"></i>\r\n      <span>All rights reserved ({currentYear})</span>\r\n    </footer>\r\n  );\r\n}\r\n\r\nfunction NavItem({ id, icon, name }) {\r\n  return (\r\n    <li className=\"nav__item\">\r\n      <a href={`#${id}`} className=\"nav__link\">\r\n        <i className={`${icon} icon`}></i>\r\n        <span className=\"nav__name\">{name}</span>\r\n      </a>\r\n    </li>\r\n  );\r\n}\r\n\r\nfunction NavBar() {\r\n  return (\r\n    <nav className=\"nav container\">\r\n      <div className=\"nav__menu\" id=\"nav-menu\">\r\n        <ul className=\"nav__list\">\r\n          {navList.map((item) => (\r\n            <NavItem key={item.id} {...item} />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nfunction ScrollProgressBar() {\r\n  return <div className=\"progress__bar\"></div>;\r\n}\r\n\r\nfunction Header({editable}) {\r\n  const headerStyle = editable ? {\"position\": \"fixed\"}: {}\r\n\r\n  return (\r\n    <header style={headerStyle} className=\"header\" id=\"header\">\r\n      <NavBar />\r\n      <ScrollProgressBar />\r\n    </header>\r\n  );\r\n}\r\n\r\nfunction BioCard(props) {\r\n  const { id, url, icon, content, updateContent, editIcon, editable } = props;\r\n  return (\r\n    <div className=\"bio__item\" id={id}>\r\n      <span className=\"bio__icon\">\r\n        <i className={icon}></i>\r\n      </span>\r\n      <span className=\"bio__link\"></span>\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          width: \"100%\",\r\n        }}\r\n      >\r\n        <a target=\"_blank\" rel=\"noreferrer\" className=\"bio__link\" href={url}>\r\n          {content}\r\n        </a>\r\n          \r\n        {editable && \r\n        <IconButton onClick={updateContent} mr={3}>\r\n        {editIcon}\r\n        </IconButton>\r\n        }\r\n        \r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Classic;\r\n","// import { createPortal } from \"react-dom\";\r\nimport { useEffect } from \"react\";\r\nimport { Container } from \"@mui/material\";\r\n\r\nexport default function CustomIframe({ children, hrefs, ...props }) {\r\n  // const [contentRef, setContentRef] = useState(null);\r\n  // const mountNode = contentRef?.contentWindow?.document?.body;\r\n\r\n  useEffect(() => {\r\n    const iframe = document.getElementById(\"resume\");\r\n    const createLink = (href) =>\r\n      Object.assign(document.createElement(\"link\"), {\r\n        href: href,\r\n        rel: \"stylesheet\",\r\n        type: \"text/css\",\r\n      });\r\n\r\n    (hrefs ?? []).forEach((href) => {\r\n      iframe?.contentWindow?.document?.head?.append(createLink(href));\r\n    });\r\n    return () => {};\r\n  }, [hrefs]);\r\n\r\n  const containerStyle = {\r\n    width: \"100%\",\r\n    background: (theme) => theme.palette.background.paper,\r\n  };\r\n\r\n  return (\r\n    <div id=\"resume-container\">\r\n      <Container\r\n        // ref={setContentRef}\r\n        title=\"resume\"\r\n        id=\"resume\"\r\n        width=\"100%\"\r\n        sx={containerStyle}\r\n      >\r\n        {children}\r\n        {/* {mountNode && createPortal(children, mountNode)} */}\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import Classic from \"../components/Templates/Classic\";\r\nimport getJson from \"lodash/get\";\r\nimport setJson from \"lodash/set\";\r\nimport CustomIframe from \"../components/CustomIframe\";\r\n\r\nimport {\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  Input,\r\n  Popper,\r\n  Stack,\r\n  Typography,\r\n  Grid,\r\n  Alert,\r\n} from \"@mui/material\";\r\n\r\nimport ThemeTogglerIcon from \"../components/Dashboard/ThemeTogglerIcon\";\r\nimport {\r\n  Check as CheckIcon,\r\n  Close as CloseIcon,\r\n  Save as SaveIcon,\r\n  PublishOutlined as PublishOutlinedIcon,\r\n} from \"@mui/icons-material\";\r\n\r\nimport ResumeService from \"../services/resume.service\";\r\nimport { useState, useEffect, createContext, useMemo } from \"react\";\r\n\r\nexport const template = {\r\n  1: Classic,\r\n  2: Classic,\r\n};\r\n\r\nexport function InputBox(props) {\r\n  const { updateContent, inputProps, setInputProps } = props;\r\n  const containerStyle = {\r\n    padding: 1.5,\r\n    backgroundColor: (theme) => theme.palette.background.paper,\r\n    color: (theme) => theme.palette.toggleIcon.hover,\r\n    borderWidth: 1.5,\r\n    minWidth: \"400px\",\r\n    boxShadow: 1,\r\n  };\r\n\r\n  const inputStyle = {\r\n    padding: \".5rem\",\r\n    width: \"100%\",\r\n  };\r\n\r\n  const onCancel = () => {\r\n    setInputProps({ ...inputProps, initialValue: \"\", open: false });\r\n  };\r\n\r\n  const onChange = (event) => {\r\n    setInputProps((prev) => {\r\n      return { ...prev, initialValue: event.target.value };\r\n    });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    setInputProps((prev) => {\r\n      updateContent(prev.keyLabels, false, prev.initialValue)(event);\r\n      return { ...prev, initialValue: event.target.value, open: false };\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Popper\r\n      id=\"input-box\"\r\n      open={inputProps.open}\r\n      anchorEl={inputProps.anchorEl}\r\n    >\r\n      <Box sx={containerStyle}>\r\n        <Typography variant=\"h6\">Content update</Typography>\r\n        <Input\r\n          sx={inputStyle}\r\n          type=\"text\"\r\n          onChange={onChange}\r\n          value={inputProps.initialValue}\r\n        />\r\n        <Divider mt={2} mb={3} />\r\n\r\n        <Stack direction=\"row\" spacing={2} mt={2} justifyContent=\"space-around\">\r\n          <Button\r\n            color=\"success\"\r\n            variant=\"contained\"\r\n            onClick={onSubmit}\r\n            startIcon={<CheckIcon />}\r\n          >\r\n            Update\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"error\"\r\n            onClick={onCancel}\r\n            startIcon={<CloseIcon />}\r\n          >\r\n            Cancel\r\n          </Button>\r\n        </Stack>\r\n      </Box>\r\n    </Popper>\r\n  );\r\n}\r\n\r\nexport const ResumeContext = createContext(null);\r\n\r\nfunction Notification(props) {\r\n  const { message = null, severity, setNotification } = props;\r\n\r\n  return (\r\n    message && (\r\n      <Alert\r\n        sx={{\r\n          position: \"fixed\",\r\n          zIndex: 100000,\r\n          padding: 1.5,\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -50%)\",\r\n          textAlign: \"center\",\r\n          verticalAlign: \"middle\",\r\n        }}\r\n        severity={severity}\r\n        onClose={() => setNotification({ message: null, severity: \"info\" })}\r\n      >\r\n        {message}\r\n      </Alert>\r\n    )\r\n  );\r\n}\r\n\r\nfunction Resume(props) {\r\n  const { templateId = 1, editable = true, initialData = null } = props;\r\n\r\n  const [notification, setNotification] = useState({\r\n    message: null,\r\n    severity: \"info\",\r\n  });\r\n\r\n  const [data, setData] = useState(initialData);\r\n\r\n  const provided = useMemo(\r\n    () => ({ data, setData: (value) => setData(value) }),\r\n    [data]\r\n  );\r\n\r\n  const [inputProps, setInputProps] = useState({\r\n    open: false,\r\n    initialValue: \"\",\r\n    anchorEl: null,\r\n    keyLabels: [],\r\n  });\r\n\r\n  const updateContent = (keyLabels, open = false, customData = null) => {\r\n    return (event) => {\r\n      setInputProps((prev) => ({\r\n        ...prev,\r\n        open,\r\n        keyLabels,\r\n        anchorEl: event.target,\r\n      }));\r\n\r\n      setData((prev) => {\r\n        const data =\r\n          customData ?? event.target.value ?? getJson(prev, keyLabels);\r\n        setJson(prev, keyLabels, data);\r\n        setInputProps((prop) => ({ ...prop, initialValue: data }));\r\n        return prev;\r\n      });\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function retrieveResume() {\r\n      const resumeId = props.match.params.uid;\r\n      const response = await ResumeService.getResume(resumeId);\r\n      setData(response.content);\r\n    }\r\n\r\n    if (editable) retrieveResume();\r\n  }, [editable, props.match?.params?.uid]);\r\n\r\n  const Template = template[templateId];\r\n\r\n  return editable ? (\r\n    <>\r\n      <ControlGroup\r\n        data={data}\r\n        resumeId={props.match.params.uid}\r\n        setNotification={setNotification}\r\n      />\r\n      <Grid\r\n        item\r\n        width=\"100%\"\r\n        sx={editable && { position: \"relative\", top: \"2%\" }}\r\n      >\r\n        <Notification {...notification} setNotification={setNotification} />\r\n        <CustomIframe>\r\n          <InputBox\r\n            {...{\r\n              inputProps,\r\n              setInputProps,\r\n              updateContent,\r\n              setData: provided.setData,\r\n            }}\r\n          />\r\n\r\n          <ResumeContext.Provider value={{ provided, editable, updateContent }}>\r\n            <Template />\r\n          </ResumeContext.Provider>\r\n        </CustomIframe>\r\n      </Grid>\r\n    </>\r\n  ) : (\r\n    <CustomIframe>\r\n      <ResumeContext.Provider value={{ provided, editable, updateContent }}>\r\n        <Template />\r\n        <Grid\r\n          container\r\n          sx={{ position: \"static\", zIndex: 100000, top: \"0%\", left: \"50%\" }}\r\n        >\r\n          <ThemeTogglerIcon />\r\n        </Grid>\r\n      </ResumeContext.Provider>\r\n    </CustomIframe>\r\n  );\r\n}\r\n\r\nfunction ControlGroup({ resumeId, data, setNotification, editable = true }) {\r\n  const saveResume = () => {\r\n    const saveResponse = ResumeService.updateResume(resumeId, data);\r\n    saveResponse\r\n      .then((resp) => {\r\n        setNotification({\r\n          message: \"Saved successfully.\",\r\n          severity: \"success\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        setNotification({ message: error.message, severity: \"error\" });\r\n      });\r\n  };\r\n\r\n  const publishResume = () => {\r\n    const publishResponse = ResumeService.publishView(resumeId);\r\n    publishResponse\r\n      .then((resp) => {\r\n        setNotification({\r\n          message: `Published successfully.\r\n          ${window.location.origin}/view/${resp.view_id}`,\r\n          severity: \"success\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        setNotification({ message: error.message, severity: \"error\" });\r\n      });\r\n    return publishResponse;\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      bgcolor={(theme) => theme.palette.background.paper}\r\n      flexDirection=\"row\"\r\n      mt={3}\r\n      width=\"100%\"\r\n    >\r\n      <Grid\r\n        container\r\n        alignSelf=\"center\"\r\n        justifySelf=\"center\"\r\n        zIndex={100000}\r\n        position=\"fixed\"\r\n        m={0}\r\n        columnGap={3}\r\n        top=\"0%\"\r\n        padding={2}\r\n        background=\"blue\"\r\n        bgcolor={(theme) => theme.palette.background.paper}\r\n        justifyContent=\"center\"\r\n      >\r\n        <Grid item>\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={saveResume}\r\n            startIcon={<SaveIcon />}\r\n          >\r\n            Save\r\n          </Button>\r\n        </Grid>\r\n        {/* <Grid item>\r\n      <Button\r\n        variant=\"outlined\"\r\n        onClick={exportPdf}\r\n        startIcon={<PictureAsPdfIcon />}\r\n      >\r\n        Download PDF\r\n      </Button>\r\n    </Grid> */}\r\n\r\n        <Grid item>\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={publishResume}\r\n            startIcon={<PublishOutlinedIcon />}\r\n          >\r\n            Publish\r\n          </Button>\r\n        </Grid>\r\n        <Grid item>\r\n          <ThemeTogglerIcon />\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Resume;\r\n","import { InputLabel, Select, MenuItem, CircularProgress } from \"@mui/material\";\r\n\r\nimport EditOffIcon from \"@mui/icons-material/EditOff\";\r\nimport LockTwoToneIcon from \"@mui/icons-material/LockTwoTone\";\r\n// import RemoveRedEyeTwoToneIcon from \"@mui/icons-material/RemoveRedEyeTwoTone\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport LockOpenTwoToneIcon from \"@mui/icons-material/LockOpenTwoTone\";\r\nimport { useState } from \"react\";\r\n\r\nconst RIGHTS = [\r\n  [\"null\", \"No rights\", LockTwoToneIcon],\r\n  [0, \"View Only\", EditOffIcon],\r\n  [1, \"View and Edit\", EditIcon],\r\n  [2, \"Full Permissions\", LockOpenTwoToneIcon],\r\n];\r\n\r\nexport default function SelectRights(props) {\r\n  const { userId, resumeId, right: inputRight, updatePermission } = props;\r\n  const [selectedRight, setSelectedRight] = useState(inputRight ?? \"null\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const onSelect = (event) => {\r\n    const selectedRight = event.target.value;\r\n    setLoading(true);\r\n\r\n    try {\r\n      updatePermission(userId, selectedRight);\r\n      setSelectedRight(selectedRight);\r\n    } catch (error) {\r\n      console.error(`Error: ${error.message}`);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <CircularProgress />\r\n      ) : (\r\n        <Select\r\n          id={`select-${resumeId}`}\r\n          value={selectedRight}\r\n          onChange={onSelect}\r\n        >\r\n          {RIGHTS.map((item) => {\r\n            const [rightValue, title, Icon] = item;\r\n            return (\r\n              <MenuItem key={rightValue} value={rightValue}>\r\n                <InputLabel>\r\n                  <Icon sx={{ mr: 1 }} /> {title}\r\n                </InputLabel>\r\n              </MenuItem>\r\n            );\r\n          })}\r\n        </Select>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import {\r\n  Avatar,\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  Divider,\r\n  Typography,\r\n} from \"@mui/material\";\r\n\r\nimport stringAvatar from \"../utils/stringAvatar\";\r\nimport SelectRights from \"./SelectRights\";\r\n\r\nexport default function AllowedUserList(props) {\r\n  const { allowedUsers = [], updatePermission } = props;\r\n  return (\r\n    <List dense>\r\n      {allowedUsers.map((item) => {\r\n        const { id, allowed_user: allowedUser, right } = item;\r\n\r\n        const {\r\n          first_name: firstName,\r\n          last_name: lastName,\r\n          profile_picture: profilePicture,\r\n          id: userId,\r\n        } = allowedUser;\r\n        const fullName = firstName + \" \" + lastName;\r\n\r\n        let avatarProps = {\r\n          src: profilePicture,\r\n          ...stringAvatar(fullName),\r\n        };\r\n\r\n        return (\r\n          <ListItem\r\n            key={id}\r\n            sx={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <ListItemAvatar>\r\n              <Avatar {...avatarProps} />\r\n            </ListItemAvatar>\r\n            <Typography\r\n              variant=\"h6\"\r\n              sx={{ ml: 1, mr: 3, flexGrow: 1 }}\r\n              primary={fullName}\r\n            >\r\n              {fullName}\r\n            </Typography>\r\n            <SelectRights\r\n              sx={{ alignSelf: \"flex-end\", justifySelf: \"flex-end\" }}\r\n              userId={userId}\r\n              updatePermission={updatePermission}\r\n              right={right}\r\n            />\r\n            <Divider />\r\n          </ListItem>\r\n        );\r\n      })}\r\n    </List>\r\n  );\r\n}\r\n","import {\r\n  Tooltip,\r\n  IconButton,\r\n  Typography,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n} from \"@mui/material\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\n\r\nexport default function Popup(props) {\r\n  const {\r\n    title,\r\n    children,\r\n    openPopup,\r\n    closePopup,\r\n    labelledBy = \"popup-label\",\r\n    describedBy = \"popup-description\",\r\n  } = props;\r\n\r\n  // const closePopup = () => setOpenPopup(false);\r\n\r\n  return (\r\n    <Dialog\r\n      open={openPopup}\r\n      aria-labelledby={labelledBy}\r\n      aria-describedby={describedBy}\r\n    >\r\n      <DialogTitle id={labelledBy}>\r\n        <div style={{ display: \"flex\" }}>\r\n          <Typography variant=\"h6\" component=\"div\" style={{ flexGrow: 1 }}>\r\n            {title}\r\n          </Typography>\r\n\r\n          <Tooltip color=\"error\" title=\"Close\">\r\n            <IconButton aria-label=\"close\" onClick={closePopup}>\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </div>\r\n      </DialogTitle>\r\n\r\n      <DialogContent dividers>{children}</DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {\r\n  Alert,\r\n  DialogContentText,\r\n  DialogActions,\r\n  Input,\r\n  IconButton,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport ContentCopyIcon from \"@mui/icons-material/ContentCopy\";\r\nimport LinkIcon from \"@mui/icons-material/Link\";\r\nimport ResumeService from \"../services/resume.service\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function ShareDialog(props) {\r\n  const { selection, setResumeList } = props;\r\n  const { resumeId, viewId } = selection;\r\n\r\n  const createLink = (viewId) =>\r\n    viewId ? window.location.origin + \"/view/\" + viewId : \"\";\r\n\r\n  const [link, setLink] = useState(createLink(viewId));\r\n\r\n  const [showAlert, setShowAlert] = useState({\r\n    severity: \"info\",\r\n    message: null,\r\n  });\r\n\r\n  const closeAlert = (event) =>\r\n    setShowAlert((prev) => ({ ...prev, message: null }));\r\n\r\n  const publishResume = (resumeId) => {\r\n    return (event) => {\r\n      const response = ResumeService.publishView(resumeId);\r\n      response\r\n        .then((data) => {\r\n          const newId = data.view_id;\r\n\r\n          setResumeList((prev) => {\r\n            const index = prev.findIndex((item) => item.resume_id === resumeId);\r\n            prev[index].view_id = newId;\r\n            return prev;\r\n          });\r\n\r\n          const updatedLink = createLink(newId);\r\n          setLink(updatedLink);\r\n          setShowAlert({\r\n            severity: \"success\",\r\n            message: \"Link has been created successfully!\",\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          setShowAlert({ severity: \"error\", message: error.message });\r\n        });\r\n    };\r\n  };\r\n\r\n  const copyLink = () => {\r\n    navigator.clipboard.writeText(link);\r\n    setShowAlert({\r\n      severity: \"success\",\r\n      message: \"Link has been copied successfully!\",\r\n    });\r\n  };\r\n  const description = \"Note: Creating a new link will break the existing link.\";\r\n\r\n  const flexBox = {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    marginBottom: \"16px\",\r\n    marginTop: \"16px\",\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Typography color=\"warning.main\">{description}</Typography>\r\n      {showAlert.message ? (\r\n        <Alert\r\n          sx={{\r\n            mt: 2,\r\n          }}\r\n          variant=\"filled\"\r\n          onClose={closeAlert}\r\n          severity={showAlert.severity}\r\n        >\r\n          {showAlert.message}\r\n        </Alert>\r\n      ) : null}\r\n      <div style={flexBox}>\r\n        <DialogContentText sx={{ fontWeight: 700 }}>\r\n          Create a new link\r\n        </DialogContentText>\r\n        <DialogActions>\r\n          <Tooltip title=\"Create new link\">\r\n            <IconButton\r\n              aria-label=\"create-link\"\r\n              onClick={publishResume(resumeId)}\r\n            >\r\n              <LinkIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </DialogActions>\r\n      </div>\r\n\r\n      <div style={flexBox}>\r\n        <DialogContentText sx={{ fontWeight: 700 }}>\r\n          Copy existing link\r\n        </DialogContentText>\r\n        <DialogActions>\r\n          <Tooltip title=\"Copy the link\">\r\n            <IconButton\r\n              aria-label=\"copy-link\"\r\n              bgcolor=\"secondary.hover\"\r\n              onClick={copyLink}\r\n            >\r\n              <ContentCopyIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </DialogActions>\r\n      </div>\r\n      <Input fullWidth disabled value={link} />\r\n    </>\r\n  );\r\n}\r\n","import { Popper } from \"@mui/material\";\r\n\r\nexport default function UserAccessControl(props) {\r\n  const { children, anchorEl } = props;\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"user-popper\" : undefined;\r\n  return (\r\n    <Popper id={id} open={open} anchorEl={anchorEl}>\r\n      {children}\r\n    </Popper>\r\n  );\r\n}\r\n","import { styled } from \"@mui/system\";\r\n\r\nimport { IconButton } from \"@mui/material\";\r\n\r\nconst StyledIconButton = styled(IconButton, {\r\n  name: \"icon-button\",\r\n  slot: \"root\",\r\n})(({ theme }) => ({\r\n  \"&:hover\": {\r\n    // backgroundColor: theme.palette.primary.contrastText,\r\n    // backgroundColor: theme.palette.secondary.contrastText,\r\n    // \".MuiSvgIcon-root\": {\r\n    //   color: theme.palette.secondary.hover,\r\n    // },\r\n  },\r\n}));\r\n\r\nexport default StyledIconButton;\r\n","import { Grid, Alert, AlertTitle } from \"@mui/material\";\r\nimport { toTitleCase } from \"../utils/caseConversion\";\r\n\r\nexport default function AlertBox(props) {\r\n  const { selection, setSelection } = props;\r\n  const { severity = \"info\", message } = selection;\r\n  const closeAlert = () => setSelection((prev) => ({ ...prev, message: null }));\r\n  return !message ? null : (\r\n    <Grid container flexDirection=\"column\">\r\n      <Alert onClose={closeAlert} severity={severity}>\r\n        <AlertTitle>{toTitleCase(severity)}</AlertTitle>\r\n        {message}\r\n      </Alert>\r\n    </Grid>\r\n  );\r\n}\r\n","import { Autocomplete, TextField, Box, Avatar } from \"@mui/material\";\r\n\r\nexport default function SelectUsers(props) {\r\n  let { userList, allowedUsers = [], updatePermission } = props;\r\n\r\n  const allowedUsersId = allowedUsers.map((item) => item.user);\r\n  userList = userList.filter((user) => !allowedUsersId.includes(user.id));\r\n\r\n  const getOptionLabel = (option) => option.first_name + \" \" + option.last_name;\r\n\r\n  const renderOption = (props, option) => {\r\n    return (\r\n      <Box component=\"li\" {...props} key={option.id}>\r\n        <Avatar\r\n          src={option.profile_picture}\r\n          alt=\"\"\r\n          loading=\"lazy\"\r\n          sx={{ mr: 1 }}\r\n        />\r\n        {getOptionLabel(option)}\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  const renderInput = (params) => {\r\n    return (\r\n      <TextField\r\n        {...params}\r\n        inputProps={{\r\n          ...params.inputProps,\r\n          autoComplete: \"new-password\",\r\n        }}\r\n        label=\"Select a user\"\r\n      />\r\n    );\r\n  };\r\n\r\n  const changeUser = (event, value) => {\r\n    console.log(event, value);\r\n\r\n    try {\r\n      const { id: userId } = value;\r\n      console.log(\"Value:\", value);\r\n      updatePermission(userId, 0);\r\n    } catch (error) {\r\n      console.log(`Error: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Autocomplete\r\n      id=\"select-users\"\r\n      options={userList}\r\n      getOptionLabel={getOptionLabel}\r\n      renderOption={renderOption}\r\n      renderInput={renderInput}\r\n      onChange={changeUser}\r\n    />\r\n  );\r\n}\r\n","import { styled } from \"@mui/system\";\r\nimport {\r\n  TableRow,\r\n  TableCell,\r\n  tableCellClasses,\r\n  Typography,\r\n} from \"@mui/material\";\r\n\r\nexport const StyledTableCell = styled(TableCell)(({ theme }) => ({\r\n  [`&.${tableCellClasses.head}`]: {\r\n    backgroundColor: theme.palette.primary.table,\r\n  },\r\n  [`&.${tableCellClasses.body}`]: {\r\n    fontSize: 14,\r\n  },\r\n}));\r\n\r\nexport const StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n  \"&:nth-of-type(odd)\": {\r\n    backgroundColor: theme.palette.background.table,\r\n\r\n    \"& td\": {\r\n      color: theme.palette.common.black,\r\n    },\r\n  },\r\n\r\n  \"& .MuiSvgIcon-root\": {\r\n    color: theme.palette.secondary.main,\r\n  },\r\n\r\n  \"& .MuiButtonBase-root:disabled .MuiSvgIcon-root\": {\r\n    color: theme.palette.text.disabled,\r\n  },\r\n\r\n  \"&:nth-of-type(even)\": {\r\n    backgroundColor: theme.palette.secondary.hover,\r\n\r\n    td: {\r\n      color: theme.palette.text.primary,\r\n    },\r\n  },\r\n\r\n  \"&:hover\": {\r\n    td: {\r\n      color: theme.palette.background.paper,\r\n    },\r\n\r\n    \"& .MuiButtonBase-root:disabled .MuiSvgIcon-root\": {\r\n      color: theme.palette.text.disabled,\r\n    },\r\n\r\n    backgroundColor: theme.palette.secondary.table,\r\n  },\r\n\r\n  \"& .MuiButtonBase-root:hover\": {\r\n    backgroundColor: theme.palette.primary.main,\r\n\r\n    \".MuiSvgIcon-root\": {\r\n      color: theme.palette.text.primary,\r\n    },\r\n  },\r\n\r\n  // hide last border\r\n  \"&:last-child td, &:last-child th\": {\r\n    border: 0,\r\n  },\r\n}));\r\n\r\nexport function StyledEmptyRows({ columnCounts = 1 }) {\r\n  return (\r\n    <StyledTableRow>\r\n      <StyledTableCell>\r\n        <Typography variant=\"h6\" fontSize={14}>\r\n          No record found.\r\n        </Typography>\r\n      </StyledTableCell>\r\n\r\n      {[...Array(columnCounts - 1).keys()].map((item, index) => {\r\n        return <StyledTableCell key={index}></StyledTableCell>;\r\n      })}\r\n    </StyledTableRow>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { Layout } from \"./Dashboard\";\r\nimport {\r\n  Grid,\r\n  Typography,\r\n  Tooltip,\r\n  Paper,\r\n  Divider,\r\n  Table,\r\n  TableHead,\r\n  TableBody,\r\n  TableContainer,\r\n  TableSortLabel,\r\n} from \"@mui/material\";\r\n\r\nimport {\r\n  Edit as EditIcon,\r\n  Group as GroupIcon,\r\n  Close as CloseIcon,\r\n  DeleteForever as DeleteForeverIcon,\r\n  PublishedWithChanges as PublishedWithChangesIcon,\r\n  Unpublished as UnpublishedIcon,\r\n  PictureAsPdf as PictureAsPdfIcon,\r\n} from \"@mui/icons-material\";\r\n\r\nimport Moment from \"react-moment\";\r\nimport ResumeService from \"../services/resume.service\";\r\nimport ProfileService from \"../services/profile.service\";\r\nimport AllowedUserList from \"../components/AllowedUserList\";\r\nimport Popout from \"../components/Popout\";\r\nimport ShareDialog from \"../components/ShareDialog\";\r\nimport UserAccessControl from \"../components/Popper\";\r\nimport StyledIconButton from \"../components/StyledIconButton\";\r\nimport AlertBox from \"../components/AlertBox\";\r\nimport SelectUsers from \"../components/SelectUsers\";\r\n\r\nimport * as html2canvas from \"html2canvas\";\r\nimport jsPDF from \"jspdf\";\r\nimport {\r\n  StyledTableRow,\r\n  StyledTableCell,\r\n  StyledEmptyRows,\r\n} from \"../components/StyledTable\";\r\n\r\nfunction CustomResumeList(props) {\r\n  const {\r\n    data: resumeList,\r\n    editResume = () => {},\r\n    downloadResume = () => {},\r\n    removeResume = () => {},\r\n    toggleAccess = () => {},\r\n    publishResume = () => {},\r\n  } = props;\r\n  return resumeList.map((item) => {\r\n    let {\r\n      id,\r\n      title: template,\r\n      last_modified_date: lastModifiedDate,\r\n      created_date: createdDate,\r\n      permissions,\r\n      resume_id: resumeId,\r\n      view_id: viewId,\r\n    } = item;\r\n    return (\r\n      <StyledTableRow key={id}>\r\n        <StyledTableCell>{template}</StyledTableCell>\r\n        <StyledTableCell>\r\n          <Moment fromNow ago>\r\n            {createdDate}\r\n          </Moment>{\" \"}\r\n          ago\r\n        </StyledTableCell>\r\n        <StyledTableCell>\r\n          <Moment fromNow ago>\r\n            {lastModifiedDate}\r\n          </Moment>{\" \"}\r\n          ago\r\n        </StyledTableCell>\r\n\r\n        <StyledTableCell>\r\n          <Tooltip title=\"Open for Edit\">\r\n            <StyledIconButton onClick={editResume(resumeId)}>\r\n              <EditIcon />\r\n            </StyledIconButton>\r\n          </Tooltip>\r\n        </StyledTableCell>\r\n\r\n        <StyledTableCell>\r\n          <Tooltip title=\"Manage the permissions\">\r\n            <StyledIconButton onClick={toggleAccess(resumeId, permissions)}>\r\n              <GroupIcon />\r\n            </StyledIconButton>\r\n          </Tooltip>\r\n        </StyledTableCell>\r\n\r\n        <StyledTableCell>\r\n          <Tooltip\r\n            title={viewId ? \"Refresh for new link\" : \"Create a new link\"}\r\n          >\r\n            <StyledIconButton onClick={publishResume(resumeId, viewId)}>\r\n              {viewId ? <PublishedWithChangesIcon /> : <UnpublishedIcon />}\r\n            </StyledIconButton>\r\n          </Tooltip>\r\n        </StyledTableCell>\r\n\r\n        <StyledTableCell>\r\n          <Tooltip title=\"Download as PDF\">\r\n            <StyledIconButton onClick={downloadResume(resumeId)}>\r\n              <PictureAsPdfIcon />\r\n            </StyledIconButton>\r\n          </Tooltip>\r\n        </StyledTableCell>\r\n\r\n        <StyledTableCell>\r\n          <Tooltip title=\"Delete the resume\">\r\n            <StyledIconButton onClick={removeResume(resumeId)}>\r\n              <DeleteForeverIcon />\r\n            </StyledIconButton>\r\n          </Tooltip>\r\n        </StyledTableCell>\r\n      </StyledTableRow>\r\n    );\r\n  });\r\n}\r\n\r\nexport default function ResumeList(props) {\r\n  const [resumeList, setResumeList] = useState([]);\r\n  const [userList, setUserList] = useState([]);\r\n  const [selection, setSelection] = useState({\r\n    showAccess: null,\r\n    showPublish: false,\r\n    resumeId: null,\r\n    viewId: null,\r\n    severity: \"success\",\r\n    message: null,\r\n    loading: false,\r\n  });\r\n\r\n  const fields = [\r\n    \"Template\",\r\n    \"Created Date\",\r\n    \"Last Modified Date\",\r\n    \"Edit\",\r\n    \"Permission\",\r\n    \"Publish\",\r\n    \"Download as PDF\",\r\n    \"Remove\",\r\n  ];\r\n\r\n  useEffect(() => {\r\n    async function getResumeList() {\r\n      const response = await ResumeService.getResumeList();\r\n      setResumeList(response);\r\n      setSelection((prev) => ({ ...prev, loading: true }));\r\n    }\r\n\r\n    async function getUsers() {\r\n      const userData = await ProfileService.getUsers();\r\n      setUserList(userData);\r\n    }\r\n\r\n    const isLoading = selection.loading;\r\n\r\n    if (!isLoading) getResumeList();\r\n    getUsers();\r\n  }, [selection.loading]);\r\n\r\n  const editResume = (resumeId) => {\r\n    return (event) => {\r\n      const win = window.open(`/resume/${resumeId}`, \"_blank\");\r\n      win.focus();\r\n    };\r\n  };\r\n\r\n  const publishResume = (resumeId, viewId) => {\r\n    return (event) => {\r\n      setSelection((prev) => ({\r\n        ...prev,\r\n        resumeId,\r\n        viewId,\r\n        showPublish: true,\r\n      }));\r\n    };\r\n  };\r\n\r\n  const downloadResume = (resumeId) => {\r\n    return (event) => {\r\n      const container = document.querySelector(\"#resume\");\r\n\r\n      let option = {\r\n        useCORS: true,\r\n        width: window.screen.availWidth,\r\n        height: window.screen.availHeight,\r\n        windowWidth: document.body.scrollWidth,\r\n        windowHeight: document.body.scrollHeight,\r\n        x: 0,\r\n        y: window.pageYOffset,\r\n        // html2canvas: { scale: 2 },\r\n        // jsPDF: { unit: \"in\", format: \"a4\", orientation: \"portrait\" },\r\n      };\r\n      // Alerts: asdjkll\r\n      // html2pdf().set(option).from(element).save();\r\n      // console.log(\"Element:\", element);\r\n\r\n      html2canvas(container, option).then((canvas) => {\r\n        // document.body.appendChild(canvas);\r\n        console.log(\"Canvas:\", canvas);\r\n        const imgData = canvas.toDataURL(\"image/png\");\r\n        const pdf = new jsPDF();\r\n        console.log(\"Img Data:\", imgData);\r\n        pdf.addImage(imgData, \"PNG\", 0, 0);\r\n        pdf.save(\"resume.pdf\");\r\n      });\r\n    };\r\n  };\r\n\r\n  const removeResume = (resumeId) => {\r\n    return (event) => {\r\n      const confirmDelete = window.confirm(\r\n        \"Are you sure to delete the resume? Deleted resume can't be recovered.\"\r\n      );\r\n\r\n      if (!confirmDelete) return false;\r\n\r\n      const response = ResumeService.deleteResume(resumeId);\r\n\r\n      response\r\n        .then((data) => {\r\n          const updatedList = resumeList.filter(\r\n            (item) => item.resume_id !== resumeId\r\n          );\r\n          setResumeList(updatedList);\r\n          setSelection((prev) => ({\r\n            ...prev,\r\n            severity: \"success\",\r\n            message: data,\r\n          }));\r\n        })\r\n        .catch((error) => {\r\n          setSelection((prev) => ({\r\n            ...prev,\r\n            severity: \"error\",\r\n            message: error.message,\r\n          }));\r\n        });\r\n    };\r\n  };\r\n\r\n  const toggleAccess = (resumeId) => {\r\n    return (event) => {\r\n      const anchorEl = selection.anchorEl ? null : event.currentTarget;\r\n      const resume = resumeList.find((resume) => resume.resume_id === resumeId);\r\n      const allowedUsers = resume.permissions;\r\n\r\n      function updatePermission(allowedUserId, inputRight) {\r\n        let accessResponse = null;\r\n        if (inputRight === \"null\") {\r\n          accessResponse = ResumeService.revokePermission(\r\n            resumeId,\r\n            allowedUserId\r\n          );\r\n        } else {\r\n          accessResponse = ResumeService.grantPermission(\r\n            resumeId,\r\n            allowedUserId,\r\n            inputRight\r\n          );\r\n        }\r\n\r\n        accessResponse\r\n          .then((data) => {\r\n            setResumeList((prev) => {\r\n              const resumeIndex = prev.findIndex(\r\n                (resume) => resume.resume_id === resumeId\r\n              );\r\n              const allowedUsers = resume.permissions;\r\n\r\n              // Revoke access right\r\n              if (inputRight === \"null\") {\r\n                let permissions = prev[resumeIndex].permissions;\r\n\r\n                permissions = permissions.filter(\r\n                  (p) => p.user !== allowedUserId\r\n                );\r\n                prev[resumeIndex].permissions = permissions;\r\n\r\n                setSelection((prevSelection) => ({\r\n                  ...prevSelection,\r\n                  allowedUsers: permissions,\r\n                  message:\r\n                    data.message ?? \"Revoke user access right successfully.\",\r\n                  severity: \"success\",\r\n                }));\r\n                return prev;\r\n              }\r\n\r\n              // Update access right\r\n              const userIndex = allowedUsers.findIndex(\r\n                (p) => p.user === allowedUserId\r\n              );\r\n\r\n              if (userIndex === -1) {\r\n                const newAllowedUser = data;\r\n                const newAllowedUsers = prev[resumeIndex].permissions.concat([\r\n                  newAllowedUser,\r\n                ]);\r\n                prev[resumeIndex].permissions = newAllowedUsers;\r\n\r\n                setSelection((prevSelection) => ({\r\n                  ...prevSelection,\r\n                  allowedUsers: newAllowedUsers,\r\n                  message:\r\n                    data.message ?? \"Granted view access right to new user.\",\r\n                  severity: \"success\",\r\n                }));\r\n                return prev;\r\n              }\r\n\r\n              prev[resumeIndex].permissions[userIndex].right = inputRight;\r\n              setSelection((prevSelection) => ({\r\n                ...prevSelection,\r\n                message: data.message ?? \"Update the access right successfuly.\",\r\n                severity: \"success\",\r\n              }));\r\n              return prev;\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            setSelection((prev) => ({\r\n              ...prev,\r\n              message: error.message,\r\n              severity: \"error\",\r\n            }));\r\n          });\r\n      }\r\n\r\n      setSelection((prev) => ({\r\n        ...prev,\r\n        resumeId,\r\n        showAccess: anchorEl,\r\n        updatePermission,\r\n        allowedUsers,\r\n      }));\r\n    };\r\n  };\r\n\r\n  const closePublish = () =>\r\n    setSelection((prev) => ({ ...prev, showPublish: false }));\r\n\r\n  return (\r\n    <Layout>\r\n      <Grid\r\n        container\r\n        gap={3}\r\n        mt={10}\r\n        // ml={5}\r\n        ml={3}\r\n        justifyContent=\"flex-start\"\r\n        alignItems=\"center\"\r\n        maxWidth=\"90%\"\r\n      >\r\n        <Typography variant=\"h5\">Resume List</Typography>\r\n        <AlertBox variant=\"contained\" {...{ selection, setSelection }} />\r\n        <TableContainer>\r\n          <Table>\r\n            <TableHead>\r\n              <StyledTableRow>\r\n                {fields.map((item) => {\r\n                  if ([\"Created Date\", \"Last Modified Date\"].includes(item)) {\r\n                    return (\r\n                      <StyledTableCell key={item}>\r\n                        <TableSortLabel active={true} direction={\"asc\"}>\r\n                          {item}\r\n                        </TableSortLabel>\r\n                      </StyledTableCell>\r\n                    );\r\n                  }\r\n                  return <StyledTableCell key={item}>{item}</StyledTableCell>;\r\n                })}\r\n              </StyledTableRow>\r\n            </TableHead>\r\n\r\n            <TableBody>\r\n              <Popout\r\n                title=\"Share your resume\"\r\n                openPopup={selection.showPublish}\r\n                closePopup={closePublish}\r\n              >\r\n                <ShareDialog {...{ selection, setResumeList }} />\r\n              </Popout>\r\n\r\n              <UserAccessControl anchorEl={selection.showAccess} sx={{ p: 1 }}>\r\n                <Paper color=\"secondary\">\r\n                  <Grid container alignItems=\"center\">\r\n                    <Grid item flexGrow={1} sx={{ pl: 1 }}>\r\n                      <Typography variant=\"h6\" sx={{ p: 1 }}>\r\n                        User Access Control\r\n                      </Typography>\r\n                    </Grid>\r\n\r\n                    <Grid item sx={{ pr: 1 }}>\r\n                      <StyledIconButton\r\n                        onClick={() =>\r\n                          setSelection((prev) => ({\r\n                            ...prev,\r\n                            showAccess: null,\r\n                          }))\r\n                        }\r\n                      >\r\n                        <CloseIcon />\r\n                      </StyledIconButton>\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                  <SelectUsers\r\n                    userList={userList}\r\n                    allowedUsers={selection.allowedUsers}\r\n                    updatePermission={selection.updatePermission}\r\n                  />\r\n                  <Divider sx={{ mt: 1 }} />\r\n                  <AllowedUserList\r\n                    allowedUsers={selection.allowedUsers}\r\n                    updatePermission={selection.updatePermission}\r\n                    resumeId={selection.resumeId}\r\n                  />\r\n                </Paper>\r\n              </UserAccessControl>\r\n\r\n              {resumeList.length === 0 ? (\r\n                <StyledEmptyRows columnCounts={8} />\r\n              ) : (\r\n                <CustomResumeList\r\n                  {...{\r\n                    data: resumeList,\r\n                    editResume,\r\n                    removeResume,\r\n                    toggleAccess,\r\n                    publishResume,\r\n                    downloadResume,\r\n                  }}\r\n                />\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      </Grid>\r\n    </Layout>\r\n  );\r\n}\r\n","import { OutlinedInput, InputAdornment, IconButton } from \"@mui/material\";\r\nimport { Cancel as CancelIcon } from \"@mui/icons-material\";\r\n\r\nexport default function SearchBar(props) {\r\n  const {\r\n    id = \"outlined-search\",\r\n    label = \"Search field\",\r\n    value,\r\n    onChange = () => {},\r\n    onCancelSearch = () => {},\r\n    ...rest\r\n  } = props;\r\n\r\n  return (\r\n    <OutlinedInput\r\n      id={id}\r\n      value={value}\r\n      label={label}\r\n      type=\"text\"\r\n      sx={{ borderColor: (theme) => theme.palette.secondary.main }}\r\n      onChange={onChange}\r\n      endAdornment={\r\n        <InputAdornment position=\"end\">\r\n          <IconButton\r\n            onClick={onCancelSearch}\r\n            edge=\"end\"\r\n            sx={{ color: (theme) => theme.palette.primary.main }}\r\n          >\r\n            <CancelIcon />\r\n          </IconButton>\r\n        </InputAdornment>\r\n      }\r\n      {...rest}\r\n    />\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { Layout } from \"./Dashboard\";\r\nimport {\r\n  Divider,\r\n  Grid,\r\n  Typography,\r\n  TableContainer,\r\n  Table,\r\n  TableHead,\r\n  TableBody,\r\n  TableRow,\r\n  TableSortLabel,\r\n  IconButton,\r\n} from \"@mui/material\";\r\n\r\nimport {\r\n  Edit as EditIcon,\r\n  AutoStories as AutoStoriesIcon,\r\n  DeleteForever as DeleteForeverIcon,\r\n} from \"@mui/icons-material\";\r\n\r\nimport Moment from \"react-moment\";\r\nimport AlertBox from \"../components/AlertBox\";\r\nimport SearchBar from \"../components/SearchBar\";\r\nimport {\r\n  StyledTableRow,\r\n  StyledTableCell,\r\n  StyledEmptyRows,\r\n} from \"../components/StyledTable\";\r\n\r\nimport ResumeService from \"../services/resume.service\";\r\n\r\nfunction CustomTableHead({ rows, setRows, setAllRows }) {\r\n  const tableHeadStyle = {\r\n    color: (theme) => theme.palette.primary.main,\r\n    backgroundColor: (theme) => theme.palette.divider,\r\n  };\r\n\r\n  const sharedUserField = \"Shared By\";\r\n  const createdDateField = \"Create Date\";\r\n  const modifiedDateField = \"Last Modified Date\";\r\n  const [orderDirection, setOrderDirection] = useState({\r\n    [createdDateField]: \"asc\",\r\n    [modifiedDateField]: \"asc\",\r\n    [sharedUserField]: \"asc\",\r\n  });\r\n\r\n  const handleSortRequest = (field, label) => {\r\n    return () => {\r\n      const sortedRows = sortData(rows, orderDirection[field], label);\r\n      setRows(sortedRows);\r\n      setAllRows(rows);\r\n      setOrderDirection((prev) => ({\r\n        ...prev,\r\n        [field]: orderDirection[field] === \"asc\" ? \"desc\" : \"asc\",\r\n      }));\r\n    };\r\n  };\r\n\r\n  return (\r\n    <TableHead sx={tableHeadStyle}>\r\n      <TableRow>\r\n        <StyledTableCell\r\n          align=\"center\"\r\n          onClick={handleSortRequest(sharedUserField, \"user\")}\r\n        >\r\n          <TableSortLabel\r\n            active={true}\r\n            direction={orderDirection[sharedUserField]}\r\n          >\r\n            Shared By\r\n          </TableSortLabel>\r\n        </StyledTableCell>\r\n        <StyledTableCell\r\n          align=\"center\"\r\n          onClick={handleSortRequest(createdDateField, \"created_date\")}\r\n        >\r\n          <TableSortLabel\r\n            active={true}\r\n            direction={orderDirection[createdDateField]}\r\n          >\r\n            Created Date\r\n          </TableSortLabel>\r\n        </StyledTableCell>\r\n\r\n        <StyledTableCell\r\n          align=\"center\"\r\n          onClick={handleSortRequest(modifiedDateField, \"last_modified_date\")}\r\n        >\r\n          <TableSortLabel\r\n            active={true}\r\n            direction={orderDirection[modifiedDateField]}\r\n          >\r\n            Last Modified Date\r\n          </TableSortLabel>\r\n        </StyledTableCell>\r\n\r\n        <StyledTableCell align=\"center\">View</StyledTableCell>\r\n        <StyledTableCell align=\"center\">Edit</StyledTableCell>\r\n        <StyledTableCell align=\"center\">Delete</StyledTableCell>\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nfunction CustomTableRows({ rows, openResume, editResume, removeResume }) {\r\n  rows = rows ?? [];\r\n  return rows.map((row) => {\r\n    const { resume, right, user } = row;\r\n    const {\r\n      created_date: createdDate,\r\n      last_modified_date: lastModifiedDate,\r\n      resume_id: resumeId,\r\n    } = resume;\r\n    return (\r\n      <StyledTableRow key={row.id}>\r\n        <StyledTableCell component=\"td\" align=\"center\" scope=\"row\">\r\n          {user}\r\n        </StyledTableCell>\r\n\r\n        <StyledTableCell component=\"td\" align=\"center\" scope=\"row\">\r\n          <Moment fromNow ago>\r\n            {createdDate}\r\n          </Moment>{\" \"}\r\n          ago\r\n        </StyledTableCell>\r\n\r\n        <StyledTableCell component=\"td\" align=\"center\" scope=\"row\">\r\n          <Moment fromNow ago>\r\n            {lastModifiedDate}\r\n          </Moment>{\" \"}\r\n          ago{\" \"}\r\n        </StyledTableCell>\r\n\r\n        <StyledTableCell component=\"td\" align=\"center\" scope=\"row\">\r\n          <IconButton\r\n            onClick={right >= 0 ? openResume(resumeId) : null}\r\n            disabled={right < 0}\r\n          >\r\n            <AutoStoriesIcon />\r\n          </IconButton>\r\n        </StyledTableCell>\r\n\r\n        <StyledTableCell component=\"td\" align=\"center\" scope=\"row\">\r\n          <IconButton\r\n            onClick={right >= 1 ? editResume(resumeId) : null}\r\n            disabled={right < 1}\r\n          >\r\n            <EditIcon />\r\n          </IconButton>\r\n        </StyledTableCell>\r\n\r\n        <StyledTableCell component=\"td\" align=\"center\" scope=\"row\">\r\n          <IconButton\r\n            onClick={right >= 2 ? removeResume(resumeId) : null}\r\n            disabled={right < 2}\r\n          >\r\n            <DeleteForeverIcon />\r\n          </IconButton>\r\n        </StyledTableCell>\r\n      </StyledTableRow>\r\n    );\r\n  });\r\n}\r\n\r\nexport default function SharedResumeList() {\r\n  const [searched, setSearched] = useState(\"\");\r\n  const [rows, setRows] = useState([]);\r\n  const [allRows, setAllRows] = useState([]);\r\n  const [selection, setSelection] = useState({\r\n    severity: \"info\",\r\n    message: null,\r\n  });\r\n\r\n  const requestSearch = (searchedVal) => {\r\n    setSearched(searchedVal);\r\n\r\n    if (searchedVal === \"\") {\r\n      setRows(allRows);\r\n      return false;\r\n    }\r\n    const pattern = new RegExp(searchedVal, \"gi\");\r\n    const filteredRows = rows.filter((row) => row.user.match(pattern));\r\n    setRows(filteredRows);\r\n  };\r\n\r\n  const cancelSearch = () => {\r\n    setSearched(\"\");\r\n    requestSearch(\"\");\r\n  };\r\n\r\n  const removeResume = (resumeId) => {\r\n    return (event) => {\r\n      const confirmDelete = window.confirm(\r\n        \"Are you sure to delete the resume? Deleted resume can't be recovered.\"\r\n      );\r\n\r\n      if (!confirmDelete) return false;\r\n\r\n      const response = ResumeService.deleteResume(resumeId);\r\n\r\n      response\r\n        .then((data) => {\r\n          const updatedAllRows = allRows.filter(\r\n            (row) => row.resume.id !== resumeId\r\n          );\r\n\r\n          const updatedRows = rows.filter((row) => row.resume.id !== resumeId);\r\n\r\n          setAllRows(updatedAllRows);\r\n          setRows(updatedRows);\r\n          setSelection((prev) => ({\r\n            ...prev,\r\n            severity: \"success\",\r\n            message: data,\r\n          }));\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error:\", error.message);\r\n          setSelection((prev) => ({\r\n            ...prev,\r\n            severity: \"error\",\r\n            message: error.message,\r\n          }));\r\n        });\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function getSharedResume() {\r\n      const response = await ResumeService.getSharedResume();\r\n      setAllRows(response ?? []);\r\n      setRows(response);\r\n    }\r\n\r\n    getSharedResume();\r\n  }, []);\r\n\r\n  const tableStyle = {\r\n    margin: \"auto\",\r\n    maxWidth: \"95%\",\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <Grid container mt={10} ml={3} rowGap={1} direction=\"column\">\r\n        <Grid item>\r\n          <Typography variant=\"h5\">Resume List Shared by Others</Typography>\r\n        </Grid>\r\n\r\n        <Grid item>\r\n          <SearchBar\r\n            value={searched}\r\n            onChange={(event) => requestSearch(event.target.value)}\r\n            onCancelSearch={cancelSearch}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item>\r\n          <Divider />\r\n        </Grid>\r\n\r\n        <Grid item>\r\n          <AlertBox setSelection={selection} selection={selection} />\r\n        </Grid>\r\n\r\n        <Grid item>\r\n          <TableContainer\r\n            sx={tableStyle}\r\n            aria-label=\"simple table\"\r\n            component={Grid}\r\n          >\r\n            <Table stickyHeader={true}>\r\n              <CustomTableHead {...{ rows, setRows, setAllRows }} />\r\n\r\n              <TableBody>\r\n                {rows.length === 0 ? (\r\n                  <StyledEmptyRows columnCounts={6} />\r\n                ) : (\r\n                  <CustomTableRows\r\n                    {...{ rows, openResume, editResume, removeResume }}\r\n                  />\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </Grid>\r\n      </Grid>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nconst openResume = (resumeId) => {\r\n  return (event) => {\r\n    const win = window.open(`/shared_resume/view/${resumeId}`, \"_blank\");\r\n    win.focus();\r\n  };\r\n};\r\n\r\nconst editResume = (resumeId) => {\r\n  return (event) => {\r\n    const win = window.open(`/resume/${resumeId}`, \"_blank\");\r\n    win.focus();\r\n  };\r\n};\r\n\r\nconst sortData = (arr, orderDirection, label) => {\r\n  if (orderDirection === \"asc\") {\r\n    return arr.sort((a, b) => {\r\n      if (!a[label]) a = a.resume;\r\n      if (!b[label]) b = b.resume;\r\n      return a[label] > b[label] ? 1 : b[label] > a[label] ? -1 : 0;\r\n    });\r\n  }\r\n  return arr.sort((a, b) => {\r\n    if (!a[label]) a = a.resume;\r\n    if (!b[label]) b = b.resume;\r\n    return a[label] < b[label] ? 1 : b[label] < a[label] ? -1 : 0;\r\n  });\r\n};\r\n\r\n// const resp = [\r\n//   {\r\n//     \"id\":14,\r\n//     \"title\":\"Classic Resume\",\r\n//     \"view_id\": \"5fa78651-c56c-4b18-8292-9487d1df1a2e\",\r\n//     \"permissions\": [\r\n//         {\r\n//           \"id\":18,\r\n//           \"resume\":\"e8cb6fcf-49c8-4239-a8b1-f50917799ef6 - Yik Chun Wong (666dfbb4-16dd-42d9-99cb-26ad9975d918) last modified resume on 2022-02-07\",\r\n//           \"allowed_user\": {\r\n//             \"id\":\"cee9d2bf-c9d3-4742-9b7c-3bfede03b391\",\r\n//             \"first_name\":\"Yik\",\r\n//             \"last_name\":\"Wong\",\r\n//             \"profile_picture\": null\r\n//           },\r\n//           \"right\": 0,\r\n//           \"user\":\"cee9d2bf-c9d3-4742-9b7c-3bfede03b391\"}\r\n//       ],\r\n//       \"created_date\":\"2022-02-07T17:19:34.600797Z\",\r\n//       \"last_modified_date\":\"2022-02-07T17:19:34.600797Z\",\r\n//       \"resume_id\":\"e8cb6fcf-49c8-4239-a8b1-f50917799ef6\",\r\n//       \"content\": {},\r\n//       \"created_by\":\"666dfbb4-16dd-42d9-99cb-26ad9975d918\"\r\n//     },\r\n\r\n//     {\r\n//       \"id\":15,\r\n//       \"title\":\"Classic Resume\",\r\n//       \"view_id\":\"f4addb54-aaa8-49fa-bb73-ab1b578ce086\",\r\n//       \"permissions\": [\r\n//         {\r\n//           \"id\":30,\r\n//           \"resume\":\"730b695b-9935-44d5-9db0-596bfb9cf7e5 - Yik Chun Wong (666dfbb4-16dd-42d9-99cb-26ad9975d918) last modified resume on 2022-03-04\",\r\n//           \"allowed_user\": {\r\n//             \"id\": \"6111f422-8e24-46a7-abc5-376b02f7419f\",\r\n//             \"first_name\":\"ASD\",\r\n//             \"last_name\":\"123\",\r\n//             \"profile_picture\":null\r\n//           },\r\n//           \"right\":1,\r\n//           \"user\":\"6111f422-8e24-46a7-abc5-376b02f7419f\"\r\n//         }\r\n//       ],\r\n\r\n//       \"created_date\":\"2022-02-09T00:29:57.184867Z\",\r\n//       \"last_modified_date\":\"2022-03-04T20:31:58.614516Z\",\r\n//       \"resume_id\":\"730b695b-9935-44d5-9db0-596bfb9cf7e5\",\r\n//       \"content\": {\r\n//         \"about-me\":\"Resume 2\",\r\n//         \"project-category\": \"undefined\",\r\n//         \"project-topic\":\"undefined\",\r\n//         \"project-description\":\"undefined\",\r\n//         \"position\":\"undefined\",\r\n//         \"location\":\"undefined\",\r\n//         \"timeline-period\":\"undefined\",\r\n//         \"timeline-content\":\"undefined\"\r\n//       },\r\n//       \"created_by\": \"666dfbb4-16dd-42d9-99cb-26ad9975d918\"\r\n//     },\r\n\r\n//     {\r\n//       \"id\":16,\r\n//       \"title\":\"Classic Resume\",\r\n//       \"view_id\": \"efeae457-0e65-4c34-a55b-f55655135f79\",\r\n//       \"permissions\": [\r\n//         {\r\n//           \"id\":34,\r\n//           \"resume\":\"2daf6d05-ac14-4ef7-b7f3-a66e8dd540b9 - Yik Chun Wong (666dfbb4-16dd-42d9-99cb-26ad9975d918) last modified resume on 2022-04-03\",\r\n//           \"allowed_user\": {\r\n//             \"id\":\"22b3dbcc-3866-48f6-b372-b36ce65cb0d0\",\r\n//             \"first_name\":\"bigquery\",\r\n//             \"last_name\":\"asd\",\r\n//             \"profile_picture\":null\r\n//         },\r\n//         \"right\": 0,\r\n//         \"user\": \"22b3dbcc-3866-48f6-b372-b36ce65cb0d0\"\r\n//       },\r\n//       {\"id\":35,\"resume\":\"2daf6d05-ac14-4ef7-b7f3-a66e8dd540b9 - Yik Chun Wong (666dfbb4-16dd-42d9-99cb-26ad9975d918) last modified resume on 2022-04-03\",\"allowed_user\":{\"id\":\"6111f422-8e24-46a7-abc5-376b02f7419f\",\"first_name\":\"ASD\",\"last_name\":\"123\",\"profile_picture\":null},\"right\":0,\"user\":\"6111f422-8e24-46a7-abc5-376b02f7419f\"}],\"created_date\":\"2022-03-05T15:00:07.759655Z\",\"last_modified_date\":\"2022-04-03T16:31:15.357973Z\",\"resume_id\":\"2daf6d05-ac14-4ef7-b7f3-a66e8dd540b9\",\"content\":{\"profile\":{\"description\":\"About yourself asd asd asd asdasda dasd asd asdasd asda asd asd asd asd asd asd asd asd asdasd asd asd asd asd asd asd asd asd sa d&nbsp;\",\"email\":\"ycwong360@gmail.com\",\"githubURL\":\"https://github.com/WongYC19/QuickView\",\"address\":\"Kuala Lumpur, Malaysia\",\"linkedinURL\":\"https://www.linkedin.com/in/yc-022b04131/\"},\"skills\":[{\"name\":\"Sample Skill\",\"level\":\"novice\"},{\"name\":\"asdasdasdasd\",\"level\":\"expert\"}],\"project\":[{\"thumbnail\":\"gg\",\"category\":\"Project Category\",\"topic\":\"Project Topic\",\"description\":\"Project description\"}],\"experience\":[{\"title\":\"Job Title\",\"institution\":\"Company Name\",\"periodStart\":\"2020\",\"periodEnd\":\"Present\",\"description\":\"Job description\"}],\"education\":[{\"title\":\"Bachelor\",\"institution\":\"University of Sample\",\"periodStart\":\"2017\",\"periodEnd\":\"2019\",\"description\":\"Education description\"}],\"languages\":[{\"name\":\"English\",\"level\":\"expert\"}]},\"created_by\":\"666dfbb4-16dd-42d9-99cb-26ad9975d918\"}\r\n//  ]\r\n","import ResumeService from \"../services/resume.service\";\r\nimport Resume from \"./Resume\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function PublicView(props) {\r\n  const viewId = props.match.params.uid;\r\n  const [data, setData] = useState(null);  \r\n  const [templateId, setTemplateId] = useState(\"Loading...\")\r\n  const editable = false\r\n\r\n  useEffect(() => {\r\n    async function getView() {\r\n      const viewResponse = await ResumeService.accessView(viewId)\r\n\r\n      try {\r\n        const templateId = viewResponse.template_id ?? 1;\r\n        setTemplateId(templateId)\r\n        setData(viewResponse.content)        \r\n      } catch(error) {\r\n        console.log(\"View Error:\", error.message)\r\n      }           \r\n    }\r\n\r\n    getView()\r\n  }, [viewId])\r\n  \r\n    return (      \r\n        data ? <Resume templateId={templateId} editable={editable} initialData={data} />: <h4>Resume not found.</h4>\r\n    )\r\n}\r\n","import Control from \"../components/controls/Control\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Divider,\r\n  Link,\r\n  Grid,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport ProfileService from \"../services/profile.service\";\r\nimport {\r\n  resetPasswordValidator,\r\n  resetPasswordConfirmValidator,\r\n} from \"../utils/formValidation\";\r\nimport CenteredContainer from \"../components/CenteredContainer\";\r\nimport ThemeTogglerIcon from \"../components/Dashboard/ThemeTogglerIcon\";\r\n\r\nfunction PasswordResetView(props) {\r\n  return (\r\n    <CenteredContainer\r\n      sx={\r\n        {\r\n          // bgcolor: (theme) => theme.palette.secondary.main,\r\n          // border: \"none\",\r\n        }\r\n      }\r\n    >\r\n      <Control.Form\r\n        onSubmit={ProfileService.resetPassword}\r\n        validator={resetPasswordValidator}\r\n        successMessage=\"The verification email is sent to the mailbox. Please check it.\"\r\n        sx={{\r\n          // bgcolor: (theme) => theme.palette.secondary.main,\r\n          // border: \"none\",\r\n          // p: 0,\r\n          m: 0,\r\n        }}\r\n      >\r\n        <Grid container rowSpacing={5} direction=\"column\">\r\n          <Grid item>\r\n            <Typography variant=\"h4\" sx={{ fontWeight: \"bold\" }}>\r\n              Reset your Password <ThemeTogglerIcon />\r\n            </Typography>\r\n            <Divider sx={{ mt: 1, mb: 0 }}></Divider>\r\n          </Grid>\r\n\r\n          <Grid item>\r\n            <Typography variant=\"inherit\">\r\n              Enter your email address below and we'll send you a link to reset\r\n              your password.\r\n            </Typography>\r\n            {/* <Typography variant=\"inherit\">Please check it.</Typography> */}\r\n          </Grid>\r\n\r\n          <Grid item sx={{ \"& .MuiFormControl-root\": { width: \"100%\" } }}>\r\n            <Control.Input\r\n              variant=\"outlined\"\r\n              type=\"text\"\r\n              name=\"email\"\r\n              label=\"Email Address\"\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item>\r\n            <Control.Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              sx={Control.buttonStyle}\r\n            >\r\n              Send\r\n            </Control.Button>\r\n          </Grid>\r\n\r\n          <Grid item>\r\n            <Link\r\n              href=\"/login\"\r\n              underline=\"always\"\r\n              rel=\"noopener\"\r\n              color=\"primary\"\r\n              variant=\"inherit\"\r\n            >\r\n              Back to Login Page\r\n            </Link>\r\n          </Grid>\r\n        </Grid>\r\n      </Control.Form>\r\n    </CenteredContainer>\r\n  );\r\n}\r\n\r\nfunction PasswordResetConfirmView(props) {\r\n  const uid = props.match.params.uid;\r\n  const token = props.match.params.token;\r\n  const hiddenStyle = {\r\n    display: \"none\",\r\n    padding: 0,\r\n    margin: 0,\r\n    width: 0,\r\n    height: 0,\r\n  };\r\n\r\n  const defaultValues = {\r\n    uid,\r\n    token,\r\n  };\r\n\r\n  return (\r\n    <Container\r\n      color=\"primary\"\r\n      sx={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        width: \"80%\",\r\n      }}\r\n    >\r\n      <Control.Form\r\n        defaultValues={defaultValues}\r\n        onSubmit={ProfileService.resetPasswordConfirm}\r\n        validator={resetPasswordConfirmValidator}\r\n        successMessage=\"The password has been updated. Please go to login page.\"\r\n        redirectOnSuccess=\"/password_reset_done\"\r\n      >\r\n        <Grid container flexDirection=\"column\" rowGap={5}>\r\n          <Typography variant=\"h5\" sx={{ fontWeight: 700 }}>\r\n            Create new password <ThemeTogglerIcon />\r\n          </Typography>\r\n\r\n          <Grid item>\r\n            <Typography variant=\"inherit\">\r\n              Your new password must be different from previous used passwords.\r\n            </Typography>\r\n          </Grid>\r\n\r\n          <Grid item sx={hiddenStyle}>\r\n            <Control.Input\r\n              type=\"text\"\r\n              name=\"email\"\r\n              aria-label=\"Email Address\"\r\n              label=\"Email Address\"\r\n              autoComplete=\"email\"\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item sx={{ \"& .MuiFormControl-root\": { width: \"100%\" } }}>\r\n            <Control.Input\r\n              type=\"password\"\r\n              name=\"newPassword\"\r\n              aria-label=\"New Password\"\r\n              label=\"New Password\"\r\n              autoComplete=\"new-password\"\r\n              adornments={true}\r\n              required\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item sx={{ \"& .MuiFormControl-root\": { width: \"100%\" } }}>\r\n            <Control.Input\r\n              type=\"password\"\r\n              name=\"confirmPassword\"\r\n              aria-label=\"Confirm Password\"\r\n              label=\"Confirm Password\"\r\n              required\r\n              autoComplete=\"confirmPassword\"\r\n              adornments={true}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item sx={hiddenStyle}>\r\n            <Control.Input\r\n              type=\"text\"\r\n              name=\"uid\"\r\n              aria-label=\"UID\"\r\n              label=\"UID\"\r\n            />\r\n\r\n            <Control.Input\r\n              type=\"text\"\r\n              name=\"token\"\r\n              aria-label=\"Token\"\r\n              label=\"Token\"\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item>\r\n            <Control.Button type=\"submit\" sx={Control.buttonStyle}>\r\n              Reset Password\r\n            </Control.Button>\r\n          </Grid>\r\n\r\n          <Grid item>\r\n            <Link\r\n              href=\"/password_reset\"\r\n              underline=\"always\"\r\n              rel=\"noopener\"\r\n              color=\"primary\"\r\n              variant=\"inherit\"\r\n            >\r\n              Link is expired? Reset again\r\n            </Link>\r\n          </Grid>\r\n        </Grid>\r\n      </Control.Form>\r\n    </Container>\r\n  );\r\n}\r\n\r\nfunction PasswordResetDoneView(props) {\r\n  return (\r\n    <Grid\r\n      container\r\n      direction=\"column\"\r\n      rowGap={5}\r\n      sx={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignContent: \"center\",\r\n        width: \"80%\",\r\n        margin: \"5rem\",\r\n        padding: 0,\r\n      }}\r\n    >\r\n      <Typography variant=\"h6\" sx={{ fontWeight: 700 }}>\r\n        Successful password reset!\r\n      </Typography>\r\n      <Typography variant=\"inherit\">\r\n        You can now use your new password to log in to your account.\r\n      </Typography>\r\n\r\n      <Button\r\n        href=\"/login\"\r\n        variant=\"contained\"\r\n        sx={{ ...Control.buttonStyle, width: \"50%\" }}\r\n      >\r\n        Login\r\n      </Button>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport { PasswordResetView, PasswordResetConfirmView, PasswordResetDoneView };\r\n","import { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport PrivateRoute from \"./utils/PrivateRoute\";\r\nimport { AuthProvider } from \"./contexts/AuthContext\";\r\nimport LoginPage from \"./pages/LoginPage\";\r\nimport SignUpPage from \"./pages/SignUpPage\";\r\nimport Dashboard from \"./pages/Dashboard\";\r\nimport Profile from \"./pages/Profile\";\r\nimport Resume from \"./pages/Resume\";\r\nimport ResumeList from \"./pages/ResumeList\";\r\nimport SharedResumeList from \"./pages/SharedResumeList\";\r\nimport PublicView from \"./pages/PublicView\";\r\nimport CssBaseline from \"@mui/material/CssBaseline\";\r\nimport CustomThemeProvider from \"./contexts/ThemeContext\";\r\n\r\nimport {\r\n  PasswordResetView,\r\n  PasswordResetConfirmView,\r\n  PasswordResetDoneView,\r\n} from \"./pages/PasswordReset\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <CustomThemeProvider startingTheme=\"light\">\r\n        <CssBaseline />\r\n        <AuthProvider>\r\n          <PrivateRoute exact path=\"/\" component={Dashboard} />\r\n          <PrivateRoute exact path=\"/resume\" component={ResumeList} />\r\n          <PrivateRoute\r\n            exact\r\n            path=\"/shared_resume\"\r\n            component={SharedResumeList}\r\n          />\r\n          <PrivateRoute\r\n            exact\r\n            path=\"/shared_resume/view/:uid\"\r\n            component={Resume}\r\n            editable={false}\r\n          />\r\n          <PrivateRoute exact path=\"/resume/:uid\" component={Resume} />\r\n          <PrivateRoute exact path=\"/profile\" component={Profile} />\r\n          <Route exact path=\"/view/:uid\" component={PublicView} />\r\n          <Route component={LoginPage} path=\"/login\" />\r\n          <Route component={SignUpPage} path=\"/signup\" />\r\n          <Route component={PasswordResetView} path=\"/password_reset\" />\r\n          <Route\r\n            component={PasswordResetConfirmView}\r\n            path=\"/password_reset_confirm\"\r\n            exact\r\n          />\r\n          <Route\r\n            component={PasswordResetConfirmView}\r\n            path=\"/password_reset_confirm/:uid/:token\"\r\n          />\r\n          <Route\r\n            component={PasswordResetDoneView}\r\n            path=\"/password_reset_done\"\r\n          />\r\n          {/* <Route component={Resume} path=\"/resume\" /> */}\r\n        </AuthProvider>\r\n      </CustomThemeProvider>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}